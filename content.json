{"meta":{"title":"DragonBaby308","subtitle":null,"description":null,"author":"DragonBaby308","url":""},"pages":[{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2019-11-15T17:29:48.000Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2019-12-13T16:49:59.273Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"å…³äºDragonBaby308çš„äºŒä¸‰äº‹ ä¸&nbsp; DragonBaby308&nbsp; ï¼ˆ Hello World! ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2019-11-15T17:29:48.000Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2019-11-15T17:29:48.000Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2019-12-14T07:30:34.172Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"æ–—é…’ç™¾ç¯‡ å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2019-11-15T17:29:48.000Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2019-11-15T17:29:48.000Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2019-12-14T07:43:41.644Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"Nice~ä¸€ç™¾ä¸ªé£æœºï¼"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2019-12-13T15:49:24.826Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2019-11-15T17:29:48.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2019-12-14T03:00:52.360Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2019-11-15T17:29:48.000Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"ã€Šä¸‰åªå°çŒªã€‹","slug":"3pigs","date":"2019-12-22T09:48:48.000Z","updated":"2019-12-22T10:50:34.041Z","comments":true,"path":"3pigs/","link":"","permalink":"/3pigs/","excerpt":"","text":"ã€Šä¸‰åªå°çŒªã€‹&emsp; &emsp;è´«æ°‘çªŸçš„çŒªå¦ˆå¦ˆæ˜¯æˆ˜äº‰é—å­€ã€‚ä¸ˆå¤«ç‰ºç‰²åœ¨æˆ˜åœºä¸Šåï¼Œå¥¹å§‹ç»ˆæ²¡æœ‰æ”¹å«ï¼Œç‹¬è‡ªæŠšå…»ç€ä¸‰åªå°çŒªã€‚å€’ä¹Ÿä¸æ˜¯å¥¹çˆ±é‚£ä¸ªçŸ­å‘½çš„æ­»é¬¼çˆ±å¾—å¤šä¹ˆæ·±æ²‰ï¼Œåªæ˜¯å› ä¸ºå¥¹é•¿å¾—å¾ˆä¸‘â€”â€”è†€å¤§è…°åœ†ï¼Œé“œé“ƒå¤§çœ¼ï¼Œåˆå°–åˆé•¿çš„ç ç‰™æˆ³ç ´äº†ä¸Šå˜´å”‡ï¼Œé—ªçƒç€å¯’èŠ’ã€‚å³ä¾¿æ˜¯é•‡å­ä¸Šæœ€çˆ±å¤šç®¡é—²äº‹çš„è€å¤ªå¤ªï¼Œä¹Ÿä¸æ„¿ä¸å¥¹è¯´äº²ï¼Œå¥¹ä»¬åœ¨èƒŒåœ°é‡Œè°ˆè®ºç€å¥¹ï¼šâ€œå¤©å“ªï¼ä½ çŸ¥é“é•‡ä¸Šçš„ç˜¦ç‹¼å…ˆç”Ÿå—ï¼Ÿæˆ‘æ‰“èµŒä¸‰ä¸ªå®ƒéƒ½æ²¡æœ‰çŒªå¤ªå¤ªå£®ï¼é‚£å‰¯å°Šå®¹ï¼Œä¸Šå¸åˆ›é€ å¥¹çš„æ—¶å€™ä¿ç®¡æ˜¯å·å·¥å‡æ–™äº†ï¼Œè¿˜å¸¦ç€ä¸‰ä¸ªå°æ‹–æ²¹ç“¶ï¼Œæ²¡æœ‰è°ä¼šçäº†å¿ƒæ‰¾å¥¹ç»“å©šå‘€ï¼â€&emsp; &emsp;æ‰€ä»¥çŒªå¦ˆå¦ˆåœ¨ä¹±ä¸–ä¸­æ²¡äº†ä¾é ï¼Œä¸‡å¹¸çš„æ˜¯å¥¹ä¼šé’ˆçº¿æ´»ï¼Œè¿˜æœ‰ä¸€è†€å­åŠ›æ°”ã€‚ç™½å¤©å¥¹åœ¨ç å¤´å½“å¸è´§å·¥ï¼Œå¥¹ä¸ä»…å¹²èµ·æ´»æ¥ç‹ ï¼Œæ‰“èµ·æ¶æ¥ä¹Ÿæ¯”æ‰€æœ‰äººç‹ ï¼Œç å¤´ä¸Šçš„è‹¦å·¥ä»¬éƒ½ä¸æ•¢å’Œå¥¹æŠ¢æ´»ã€‚åˆ°äº†æ™šä¸Šï¼ŒçŒªå¦ˆå¦ˆè¿˜è¦ä¸ºåŸå ¡é‡Œçš„é˜”å¤ªå¤ªç»‡äº›èŠ±è¾¹è¡¥è´´å®¶ç”¨ã€‚çŒªå¦ˆå¦ˆæ²¡æ—¥æ²¡å¤œåœ°å·¥ä½œï¼Œå¿˜äº†è‡ªå·±æ˜¯ç”·äººè¿˜æ˜¯å¥³äººï¼Œå³ä¾¿å¦‚æ­¤ï¼Œå¥¹è¿˜æ˜¯åªèƒ½é¢†åˆ°å¾®è–„çš„è–ªæ°´ï¼Œå¥¹èŠ‚è¡£ç¼©é£Ÿï¼Œè¿‡ç€é£Ÿä¸æœè…¹ã€è¡£ä¸è”½ä½“çš„ç”Ÿæ´»ã€‚æœ‰æ—¶å€™æ·±å¤œï¼Œå¥¹åœä¸‹é’ˆçº¿æ­‡ä¸€å£æ°”çš„æ—¶å€™ï¼Œçœ‹ç€ç¡å¾—é¦™ç”œçš„ä¸‰åªå°çŒªï¼Œå¬ç€å®ƒä»¬çš„å‘¼å™œå£°å’Œé¥¿è‚šå­çš„å’•å™œå£°ï¼Œä¹Ÿä¼šå¿ä¸ä½é»˜é»˜æµæ³ªã€‚&emsp; &emsp;ä¸‰åªå°çŒªå°±è¿™ä¹ˆé‡è›®ç”Ÿé•¿èµ·æ¥ï¼Œå®ƒä»¬è°ƒçš®æ£è›‹ï¼Œæ€»æ˜¯å’Œå…¶ä»–å­©å­æ‰“æ¶ï¼Œä½†æ˜¯å®ƒä»¬å…„å¼Ÿä¸‰äººéå¸¸å‹çˆ±ã€‚åƒä¸é¥±ã€ç©¿ä¸æš–ï¼Œä¹Ÿæ²¡æœ‰å—è¿‡æ•™è‚²ï¼Œå®ƒä»¬å½“ç„¶ä¹Ÿä¸ä¼šæœ‰è‡ªå·±çš„åå­—ï¼ŒçŒªå¦ˆå¦ˆå°±å«å®ƒä»¬â€œè€å¤§â€ã€â€œè€äºŒâ€ã€â€œè€ä¸‰â€ï¼Œæœ‰çš„æ—¶å€™æ›´ç®€å•ï¼Œå°±å«â€œå–‚â€æˆ–è€…â€œé‚£è°â€ï¼Œç”Ÿæ°”çš„æ—¶å€™ä¹Ÿå«å®ƒä»¬â€œå°ç•œç”Ÿâ€ã€‚&emsp; &emsp;ä½ å¯ä»¥æ ¹æ®æ°”å‘³æ¥åŒºåˆ†ä¸‰åªå°çŒªï¼Œå½“ç„¶ä¹Ÿä¸å¦¨å«å®ƒä»¬æ—¥åæ…åŠ¨é£äº‘æ—¶çš„åå­—â€”â€”è€å¤§å«åšGambinoï¼Œç»§æ‰¿äº†æ¯äº²çš„è‚¥å¤´å¤§è€³ï¼Œä¸çˆ±æ´—æ¾¡ï¼Œæ€»æ˜¯è„å…®å…®çš„ï¼Œæ•£å‘ç€ä¸€è‚¡åƒåœ¾å †æ··åˆç€è‡­æ°´æ²Ÿçš„å‘³é“ï¼›è€äºŒå«åšYiï¼Œåœ¨è¿™ä¸€å®¶å­é‡Œé¢å®ƒç»å¯¹æ˜¯ä¸€ä¸ªå¦ç±»ï¼Œä¸åƒå®ƒçš„å…¶ä»–å®¶äººï¼ŒYiç”Ÿå¾—ä¿Šä¿ï¼Œåˆ˜æµ·åœ¨é¢å‰ä¿çš®åœ°æ¢³æˆä¸ªæ—‹å„¿ï¼Œå·æ¥çš„å¤é¾™æ°´è®©å®ƒé¦™å–·å–·çš„ï¼›è€ä¸‰Starkæ˜¯ä¸‰å…„å¼Ÿä¸­æœ€å¯¡è¨€å°‘è¯­çš„ä¸€ä½ï¼Œå®ƒçš„å‘³é“å°±åƒæ˜¯æš´é£é›¨æ¥ä¸´å‰çš„ç©ºæ°”ï¼Œæ²‰é—·è€Œå‹æŠ‘ã€‚&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp; &emsp; &emsp; è€å¤§ é»‘æ‰‹å…š è‰æˆ¿å­ æ¯”è¾ƒæ²¡æœ‰æ ¹åŸºçš„ç”Ÿæ„ ã€çƒ¤çº¢è–¯çš„é»‘æ‰‹å°ã€‘è€å¤´æ˜¯ç‹¼çš„æ•™çˆ¶ï¼Œç‹¼è¦ğŸ·å½“æ¥ç­äººï¼› è€äºŒ æµªå­ æœ¨æˆ¿å­ æœ‰ç»“æ„ ä½†æ˜¯ä¸ç‰¢é  å’Œé³„é±¼å°å§æ‹çˆ±ï¼Œä½†æ˜¯ä¸ºäº†ä¸ºå“¥å“¥æŠ¥ä»‡ï¼Œå‹¾ç»“é»‘å¸‚è€å¤§çš„å¦»å­Mafiaï¼Œé™·å®³äº†é³„é±¼å°å§ï¼Œåæ¥å’Œ3æŠ¥ä»‡äº†åï¼Œæ‰¾å›é³„é±¼å°å§ï¼Œä½†æ˜¯è¢«é³„é±¼å°å§è”åˆMafiaé™·å®³ï¼Œé³„é±¼çš„çœ¼æ³ªï¼› è€ä¸‰ å¤ä»‡ ç –å¤´æˆ¿å­ ç¨³æ‰ç¨³æ‰“æ­¥æ­¥ä¸ºè¥ æˆä¸ºæ–°çš„é»‘å¸‚è€å¤§ï¼Œå’ŒMafiaå…±åŒæŒç®¡ï¼›ç‹¼ é»‘å¸‚è€å¤§ æ·±çˆ±è‡ªå·±çš„å¦»å­ï¼Œä½†è¢«å¦»å­æ‰€å®³ è‹±å›½è´å…‹è¡— â€”â€” å‘ä¸¤ä¸ªç½‘ç«™å’Œbç«™ï¼šç½²åæå”ï¼Œå›¾æ ‡ç”¨å…”å­","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"/categories/éšç¬”/"}],"tags":[{"name":"Novel","slug":"Novel","permalink":"/tags/Novel/"}],"keywords":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"/categories/éšç¬”/"}]},{"title":"åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ & ä¸€è‡´æ€§åè®®","slug":"Transaction-Consistency","date":"2019-12-17T12:47:23.000Z","updated":"2019-12-20T15:52:18.578Z","comments":true,"path":"Transaction-Consistency/","link":"","permalink":"/Transaction-Consistency/","excerpt":"","text":"åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ &amp; ä¸€è‡´æ€§åè®® ï¼ˆä¸€ï¼‰åˆ†å¸ƒå¼äº‹åŠ¡åˆ†å¸ƒå¼äº‹åŠ¡å°±æ˜¯æŒ‡äº‹åŠ¡çš„å‚ä¸è€…ã€æ”¯æŒäº‹åŠ¡çš„æœåŠ¡å™¨ã€èµ„æºæœåŠ¡å™¨ä»¥åŠäº‹åŠ¡ç®¡ç†å™¨åˆ†åˆ«ä½äºä¸åŒçš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸åŒèŠ‚ç‚¹ä¹‹ä¸Šã€‚ 1.ç‰¹æ€§ Aï¼šåŸå­æ€§ã€‚äº‹åŠ¡æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸å­˜åœ¨åªå®Œæˆéƒ¨åˆ†çš„ä¸­é—´çŠ¶æ€ã€‚ Cï¼šä¸€è‡´æ€§ã€‚ Iï¼šéš”ç¦»æ€§ã€‚äº‹åŠ¡ä¸äº‹åŠ¡ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ï¼Œä¸€ä¸ªäº‹åŠ¡çš„ä¸­é—´çŠ¶æ€ä¸ä¼šè¢«å…¶ä»–äº‹åŠ¡æ„ŸçŸ¥ã€‚ Dï¼šæŒä¹…æ€§ã€‚ä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œå…¶å¯¹æ•°æ®åšå‡ºçš„æ›´æ”¹å°±ä¿å­˜åœ¨äº†æ•°æ®åº“ä¸­ã€‚ 2.è§£å†³æ–¹æ¡ˆï¼ˆ1ï¼‰TCCï¼šè¡¥å¿å‹äº‹åŠ¡è§£å†³æ–¹æ¡ˆTCCæŒ‡çš„æ˜¯Tryï¼ˆå°è¯•ï¼‰ã€Confirmï¼ˆç¡®è®¤ï¼‰ã€Cancelï¼ˆå–æ¶ˆï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šé’ˆå¯¹æ¯ä¸€ä¸ªæ“ä½œï¼Œéƒ½éœ€è¦æ³¨å†Œä¸€ä¸ªä¸å…¶ç›¸å¯¹åº”çš„ç¡®è®¤å’Œå–æ¶ˆæ“ä½œã€‚ Tryï¼šå¯¹ä¸šåŠ¡ç³»ç»Ÿåšæ£€æµ‹åŠèµ„æºé¢„ç•™ â€”â€” ç±»ä¼¼äº2PCçš„Precommitå‡†å¤‡é˜¶æ®µã€‚ Confirmï¼šå¯¹ä¸šåŠ¡ç³»ç»Ÿåšç¡®è®¤æäº¤ â€”â€” ç±»ä¼¼äº2PCçš„Commitæäº¤é˜¶æ®µã€‚ Cancelï¼šåœ¨ä¸šåŠ¡æ‰§è¡Œé”™è¯¯æ—¶ï¼Œéœ€è¦å›æ»šçš„çŠ¶æ€ä¸‹ï¼Œå–æ¶ˆä¸šåŠ¡ï¼Œé‡Šæ”¾é¢„ç•™èµ„æºã€‚ æ¯”å¦‚Aå‘Bè½¬è´¦ï¼š1.åœ¨Tryé˜¶æ®µï¼Œé¦–å…ˆå°†Aå’ŒBçš„é’±å†»ç»“èµ·æ¥ã€‚2.åœ¨Confirmé˜¶æ®µï¼Œè½¬è´¦ï¼Œè½¬è´¦æˆåŠŸåˆ™è§£å†»ä¸¤ä¸ªè´¦æˆ·ã€‚3.å¦‚æœç¬¬2æ­¥æ‰§è¡Œå¤±è´¥ï¼Œåœ¨Cancelé˜¶æ®µï¼Œå°†ä¸¤ä¸ªè´¦æˆ·è§£å†»ã€‚ ä¼˜ç‚¹ï¼šå’Œ2PCç›¸æ¯”ï¼Œæµç¨‹ç®€å• ç¼ºç‚¹ï¼šæ•°æ®ä¸€è‡´æ€§å¼±äº2PCï¼Œä¸”åœ¨ç¬¬2/3æ­¥éƒ½å¯èƒ½å¤±è´¥ ï¼ˆ2ï¼‰åŸºäºå¯é æ¶ˆæ¯çš„æœ€ç»ˆä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ å¦‚ï¼šè®¢å•ç³»ç»Ÿåˆ›å»ºè®¢å•æˆåŠŸåï¼Œåº“å­˜ç³»ç»Ÿéœ€è¦æ‰£å‡ç›¸åº”åº“å­˜ã€‚ è®¢å•ç³»ç»Ÿ åˆ›å»ºè®¢å•å‰ï¼Œåˆ›å»ºé¢„å‘é€æ¶ˆæ¯ï¼Œä¿å­˜åˆ°æ¶ˆæ¯è¡¨ä¸­ï¼Œæ­¤æ—¶æ¶ˆæ¯çŠ¶æ€ä¸ºï¼šæœªå‘é€ åˆ›å»ºè®¢å•ï¼Œå¦‚æœå¤±è´¥åˆ™å°†æ¶ˆæ¯è¡¨é¢„å‘æ¶ˆæ¯åˆ é™¤ åˆ›å»ºè®¢å•æˆåŠŸï¼Œä¿®æ”¹æ¶ˆæ¯è¡¨æ¶ˆæ¯çŠ¶æ€ä¸ºï¼šå‘é€ä¸­ï¼Œå¹¶å°†æ¶ˆæ¯å‘é€è‡³MQ æ¶ˆæ¯å‘é€å¤±è´¥ï¼Œåˆ™è®¢å•å›æ»šï¼Œåœ¨æ¶ˆæ¯è¡¨ä¸­åˆ é™¤å¯¹åº”æ¶ˆæ¯ï¼›å‘é€æˆåŠŸåˆ™OK åº“å­˜ç³»ç»Ÿ ä»MQç›‘å¬å¹¶æ¶ˆè´¹æ¶ˆæ¯ï¼ŒåŒæ—¶æ ¹æ®æ¶ˆæ¯IDæŸ¥è¯¢æ¶ˆæ¯æ˜¯å¦è¢«æ¶ˆè´¹ï¼Œä¿è¯å¹‚ç­‰æ€§ å¦‚æœæ¶ˆæ¯æœªè¢«æ¶ˆè´¹ï¼ˆæ¶ˆæ¯è¡¨ä¸­å­˜åœ¨æ­¤æ¶ˆæ¯ï¼‰ï¼Œåˆ™åº“å­˜ç³»ç»Ÿæ‰£å‡åº“å­˜ï¼›å¦‚æœæ¶ˆæ¯å·²ç»è¢«æ¶ˆè´¹ï¼ˆæ¶ˆæ¯è¡¨ä¸­æ— æ­¤æ¶ˆæ¯ï¼‰ï¼Œåˆ™ä¸åšå¤„ç† åº“å­˜ç³»ç»Ÿæ‰£å‡åº“å­˜æˆåŠŸï¼Œåˆ™åˆ é™¤æ¶ˆæ¯è¡¨ä¸­æ¶ˆæ¯ï¼›å¤±è´¥åˆ™ä¸åšå¤„ç† å®šæ—¶ä»»åŠ¡ä¼šå®šæ—¶æ‰«ææ¶ˆæ¯è¡¨ä¸­è¶…æ—¶æœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯ï¼Œç„¶åå°è¯•é‡å‘ï¼Œå¦‚æœè¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°åä»æœªè¢«æ¶ˆè´¹ï¼Œåˆ™è®°å½•æ—¥å¿—é€šçŸ¥äººå·¥è¡¥å¿ ï¼ˆäºŒï¼‰ä¸€è‡´æ€§åè®®1.2PCï¼ˆä¹Ÿç§°XAï¼‰ 2PCå³äºŒé˜¶æ®µæäº¤åè®®ï¼Œåœ¨æ•°æ®åº“ä¸­çš„åº”ç”¨å³XAåè®®ï¼š ç¬¬ä¸€é˜¶æ®µï¼ˆå‡†å¤‡é˜¶æ®µï¼ŒPrecommitï¼‰ï¼šäº‹åŠ¡åè°ƒå™¨è¦æ±‚æ¯ä¸ªäº‹åŠ¡å‚ä¸è€…é”å®šèµ„æºã€æ‰§è¡Œäº‹åŠ¡ï¼Œä½†æ˜¯ä¸æäº¤äº‹åŠ¡ï¼Œè€Œæ˜¯åªåæ˜ æ˜¯å¦å¯ä»¥æäº¤ï¼› ç¬¬äºŒé˜¶æ®µï¼ˆæäº¤é˜¶æ®µï¼ŒCommit/Rollbackï¼‰ï¼šâ‘ å¦‚æœæ‰€æœ‰äº‹åŠ¡å‚ä¸è€…åæ˜ å¯ä»¥æäº¤ï¼Œåˆ™æäº¤äº‹åŠ¡ï¼Œé‡Šæ”¾é”å®šçš„èµ„æºï¼›â‘¡å¦‚æœæœ‰äº‹åŠ¡å‚ä¸è€…åé¦ˆä¸å¯æäº¤ï¼Œåˆ™å›æ»šäº‹åŠ¡ï¼ŒåŒæ ·é‡Šæ”¾é”å®šèµ„æº 2PCçš„ç‰¹ç‚¹ å¼ºä¸€è‡´æ€§ï¼šç‰ºç‰²äº†éƒ¨åˆ†å¯ç”¨æ€§ï¼Œæ¢å–æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼› å…ˆæ–©åå¥ï¼šå…ˆé”å®šèµ„æºã€æ‰§è¡Œäº‹åŠ¡ï¼Œå†æ ¹æ®åé¦ˆå†³å®šæäº¤è¿˜æ˜¯å›æ»š 2PCçš„ç¼ºç‚¹ é˜»å¡ï¼šä»»ä½•ä¸€æ¬¡æŒ‡ä»¤å¿…é¡»æ”¶åˆ°æ˜ç¡®çš„å“åº”æ‰ä¼šæ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œé”ä½çš„èµ„æºä¹Ÿä¸ä¼šé‡Šæ”¾ 3PCå¼•å…¥è¶…æ—¶æœºåˆ¶è§£å†³äº†é˜»å¡é—®é¢˜ã€‚ å•ç‚¹é—®é¢˜ï¼šä¸€æ—¦åè°ƒè€…å®•æœºï¼Œå‚ä¸è€…æ²¡æœ‰åè°ƒè€…æŒ‡æŒ¥ï¼Œä¼šä¸€ç›´é˜»å¡ è„‘è£‚ï¼šåè°ƒè€…äºŒé˜¶æ®µå‘é€Commitï¼Œæœ‰çš„èŠ‚ç‚¹æ”¶åˆ°äº†æ¶ˆæ¯æäº¤äº†äº‹åŠ¡ï¼Œæœ‰çš„èŠ‚ç‚¹æ²¡æœ‰æ”¶åˆ°å°±æ²¡æœ‰æäº¤äº‹åŠ¡ï¼Œå¤šä¸ªå‚ä¸è€…ä¹‹é—´æ•°æ®ä¸ä¸€è‡´ 2.3PC 3PCå³ä¸‰é˜¶æ®µæäº¤åè®®ï¼š è¯¢é—®é˜¶æ®µï¼šåè°ƒè€…è¯¢é—®äº‹åŠ¡å‚ä¸è€…æ˜¯å¦å¯ä»¥æ‰§è¡Œäº‹åŠ¡ï¼Œå‚ä¸è€…åªéœ€è¦å›ç­”Yes/Noï¼Œä¸éœ€è¦çœŸæ­£æ‰§è¡Œ è¯¢é—®é˜¶æ®µ è¶…æ—¶ å¯¼è‡´ä¸­æ­¢ï¼ å‡†å¤‡é˜¶æ®µï¼šâ‘ å¦‚æœæ‰€æœ‰äº‹åŠ¡å‚ä¸è€…åé¦ˆå¯ä»¥æ‰§è¡Œäº‹åŠ¡ï¼Œåè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€æ‰§è¡Œè¯·æ±‚ï¼Œå‚ä¸è€…é”å®šèµ„æºã€æ‰§è¡Œäº‹åŠ¡ï¼Œä½†æ˜¯ä¸æäº¤ï¼Œåªåé¦ˆæ˜¯å¦å¯ä»¥æäº¤ï¼›â‘¡å¦‚æœæœ‰äº‹åŠ¡å‚ä¸è€…åé¦ˆä¸å¯ç”¨æ‰§è¡Œã€æˆ–æ˜¯è¶…æ—¶æ²¡æœ‰æ”¶åˆ°æŸäº›äº‹åŠ¡å‚ä¸è€…çš„åé¦ˆï¼Œé‚£ä¹ˆåè°ƒè€…å‘å‚ä¸è€…å‘é€ä¸­æ­¢äº‹åŠ¡è¯·æ±‚ å‡†å¤‡é˜¶æ®µç›¸å½“äº2PCçš„PreCommité˜¶æ®µï¼Œè¿™é˜¶æ®µ è¶…æ—¶ é»˜è®¤æˆåŠŸï¼ æäº¤é˜¶æ®µï¼šâ‘ å¦‚æœæ‰€æœ‰äº‹åŠ¡å‚ä¸è€…åæ˜ å¯ä»¥æäº¤ã€æˆ–æ˜¯è¶…æ—¶æ²¡æœ‰æ”¶åˆ°æŸäº›å‚ä¸è€…çš„åé¦ˆï¼Œåˆ™é»˜è®¤æ‰§è¡ŒæˆåŠŸã€æäº¤äº‹åŠ¡ï¼Œé‡Šæ”¾é”å®šçš„èµ„æºï¼›â‘¡å¦‚æœæœ‰äº‹åŠ¡å‚ä¸è€…åé¦ˆä¸å¯æäº¤ï¼Œåˆ™å›æ»šäº‹åŠ¡ï¼ŒåŒæ ·é‡Šæ”¾é”å®šèµ„æº æäº¤é˜¶æ®µç›¸å½“äº2PCçš„Commit/Rollbacké˜¶æ®µ 3PCçš„ç¼ºç‚¹ ä»ç„¶å¯èƒ½å­˜åœ¨è„‘è£‚ï¼šè¯•æƒ³åè°ƒè€…æäº¤é˜¶æ®µå‘é€Commitï¼Œæœ‰çš„èŠ‚ç‚¹æ”¶åˆ°äº†æ¶ˆæ¯æäº¤äº†äº‹åŠ¡ï¼Œæœ‰çš„èŠ‚ç‚¹æ²¡æœ‰æ”¶åˆ°å°±æ²¡æœ‰æäº¤äº‹åŠ¡ï¼Œå¤šä¸ªå‚ä¸è€…ä¹‹é—´ä»ç„¶ä¼šæ•°æ®ä¸ä¸€è‡´ 3.Paxosï¼ˆè¶…è¿‡åŠæ•°ï¼‰æ ¸å¿ƒï¼šè¶…è¿‡åŠæ•° å³æ‰€è°“çš„Quorumæœºåˆ¶ï¼šè¦æ±‚æœºå™¨æ•°é‡æ˜¯å¥‡æ•°ï¼Œæ¯æ¬¡éœ€è¦æœ‰è¶…è¿‡åŠæ•°çš„æœºå™¨ACKï¼Œæ“ä½œæ–¹æ‰ä¼šè®¤ä¸ºæ“ä½œæˆåŠŸã€‚ZKé›†ç¾¤ç”¨çš„å°±æ˜¯è¿™ç§æ–¹å¼ã€‚ ZooKeeperçš„ZABåè®®å´©æºƒæ¢å¤ Leaderå®•æœºï¼Œé›†ç¾¤æ¢å¤åå‘ç°å·²æœ‰æ–°Leaderè¢«é€‰ä¸¾å‡ºæ¥ï¼Œé‚£ä¹ˆåŸLeaderä¼šå˜ä¸ºæ–°Leaderçš„Followerï¼ŒåŒæ­¥æ–°çš„Leader 4.Raftï¼ˆæ—¥å¿—å¤åˆ¶ã€æ›´å¤šï¼‰Raftæ˜¯ä¸€ç§ç®¡ç†å¤åˆ¶æ—¥å¿—çš„åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³•ã€‚ å‚è€ƒè‡ªhttp://ifeve.com/raft/ èŠ‚ç‚¹3ç§çŠ¶æ€ æ¯ä¸ªèŠ‚ç‚¹æœ‰3ä¸ªçŠ¶æ€ï¼Œå¯ä»¥ç›¸äº’åˆ‡æ¢ï¼ˆé€‰ä¸¾æµç¨‹ï¼‰ï¼š Leaderï¼šä¸»èŠ‚ç‚¹ï¼Œç”¨äºå†™æ•°æ® Candidateï¼šå€™é€‰èŠ‚ç‚¹ Followerï¼šä»èŠ‚ç‚¹ï¼Œç”¨äºè¯»æ•°æ® ä»»æœŸæ¯ä¸ªLeaderéƒ½æœ‰è‡ªå·±çš„ä»»æœŸï¼š ä»»æœŸç»“æŸåå¦‚æœæ²¡æœ‰æ–°çš„Candidateå‚ä¸é€‰ä¸¾ï¼Œé‚£ä¹ˆLeaderå¯ä»¥è¿ä»» å¦‚æœä»»æœŸç»“æŸæœ‰æ–°çš„Candidateå‚ä¸é€‰ä¸¾ï¼Œé‚£ä¹ˆä¸¤è€…è¿›è¡Œé€‰ä¸¾ï¼Œé€‰ç¥¨æ›´å¤šçš„æˆä¸ºLeader é€‰ä¸¾æµç¨‹ èŠ‚ç‚¹çŠ¶æ€åˆå§‹éƒ½æ˜¯Followerï¼Œæ¯ä¸ªFollowerä¼šè®°å½•å…¶Leaderï¼Œç„¶åå’ŒLeaderä¹‹é—´ç»´æŒä¸€ä¸ªå¿ƒè·³ Follower100-300msæ²¡æœ‰æ”¶åˆ°Leaderçš„å¿ƒè·³å›å¤ï¼ŒFollowerå°±å˜æˆCandidate Candidateç»™æ‰€æœ‰èŠ‚ç‚¹å‘é€é€‰ç¥¨ï¼Œè·å¾—æ›´å¤šFolloweré€‰ç¥¨çš„Candidateå°±æœ‰èµ„æ ¼æˆä¸ºLeader å¦‚æœå¤šä¸ªCandidateè·å¾—çš„ç¥¨åŒæ ·å¤šï¼Œé‚£ä¹ˆä¸¤ä¸ªCandidateä¼šé‡æ–°å‘é€‰ç¥¨ï¼Œç›´åˆ°ç¥¨æ•°è¾ƒå¤šçš„èŠ‚ç‚¹å½“é€‰Leader æ—¥å¿—å¤åˆ¶æµç¨‹ åªæœ‰Leaderæ‰èƒ½æ¥æ”¶å®¢æˆ·ç«¯çš„å†™è¯·æ±‚ æ¯æ¬¡Leaderæ”¶åˆ°å†™è¯·æ±‚ï¼Œéƒ½ä¼šå…ˆè®°å½•æ—¥å¿— Leaderå°†æ—¥å¿—åŒæ­¥ç»™æ‰€æœ‰FollowerèŠ‚ç‚¹è¿›è¡Œå¤åˆ¶ Leaderç­‰å¾…è¶…è¿‡åŠæ•°çš„FollowerèŠ‚ç‚¹å†™æ—¥å¿—æˆåŠŸåæ‰æäº¤æ•°æ®ï¼Œåé¦ˆå®¢æˆ·ç«¯æäº¤æˆåŠŸ é›†ç¾¤ä¸­æ–­å½“é›†ç¾¤ä¹‹é—´çš„éƒ¨åˆ†èŠ‚ç‚¹å¤±å»é€šè®¯æ—¶ï¼ŒLeaderçš„æ—¥å¿—ä¸èƒ½å¤åˆ¶ç»™å¤šä¸ªFollowerå°±ä¸èƒ½è¿›è¡Œæäº¤ã€‚ å´©æºƒæ¢å¤ é›†ç¾¤æ¢å¤åï¼Œå¦‚æœLeaderå‘ç°è‡ªå·±çš„ç¥¨æ•°ä¸æ˜¯æœ€å¤šçš„ï¼Œå°±ä¼šå˜æˆFollowerï¼Œå¹¶å›æ»šè‡ªå·±çš„æ—¥å¿— æœ€åLeaderä¼šå°†è‡ªå·±çš„æ—¥å¿—åŒæ­¥ç»™æ‰€æœ‰Followerï¼Œä¿è¯ä¸»ä»æ•°æ®ä¸€è‡´æ€§ Raftå’ŒPaxoså´©æºƒæ¢å¤çš„åŒºåˆ«ï¼šâ‘ Paxosçš„é›†ç¾¤æ¢å¤æ˜¯åŸLeaderæ— è®ºå¦‚ä½•éƒ½å˜æˆæ–°Leaderçš„Followerï¼›â‘¡è€ŒRaftä¸åŒäºPaxosï¼Œé›†ç¾¤æ¢å¤ååŸLeaderä¸æ˜¯ç›´æ¥å˜ä¸ºFollowerï¼Œè€Œæ˜¯å’Œæ–°Leaderè¿›è¡Œæ¯”è¾ƒï¼Œç¥¨æ›´å¤šçš„æ‰å½“é€‰æ–°Leader","categories":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/categories/åˆ†å¸ƒå¼/"}],"tags":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/tags/åˆ†å¸ƒå¼/"},{"name":"CAP","slug":"CAP","permalink":"/tags/CAP/"},{"name":"ZooKeeper","slug":"ZooKeeper","permalink":"/tags/ZooKeeper/"},{"name":"ZAB","slug":"ZAB","permalink":"/tags/ZAB/"},{"name":"é«˜å¯ç”¨","slug":"é«˜å¯ç”¨","permalink":"/tags/é«˜å¯ç”¨/"},{"name":"2PC","slug":"2PC","permalink":"/tags/2PC/"},{"name":"XA","slug":"XA","permalink":"/tags/XA/"},{"name":"3PC","slug":"3PC","permalink":"/tags/3PC/"},{"name":"Paxos","slug":"Paxos","permalink":"/tags/Paxos/"},{"name":"Raft","slug":"Raft","permalink":"/tags/Raft/"},{"name":"Quorum","slug":"Quorum","permalink":"/tags/Quorum/"},{"name":"TCC","slug":"TCC","permalink":"/tags/TCC/"},{"name":"MQ","slug":"MQ","permalink":"/tags/MQ/"},{"name":"å¹‚ç­‰æ€§","slug":"å¹‚ç­‰æ€§","permalink":"/tags/å¹‚ç­‰æ€§/"}],"keywords":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/categories/åˆ†å¸ƒå¼/"}]},{"title":"ä½¿ç”¨jsDeliverå’ŒGitHubç™½å«–CDN","slug":"cdn","date":"2019-12-14T02:53:13.000Z","updated":"2019-12-14T02:55:20.185Z","comments":true,"path":"cdn/","link":"","permalink":"/cdn/","excerpt":"","text":"ä½¿ç”¨jsDeliverå’ŒGitHubç™½å«–CDNæŸ¥çœ‹æ–‡æ¡£å¯çŸ¥ï¼ŒjsDeliver CDNä¸»è¦ä½¿ç”¨äº†GitHubçš„releaseç‰ˆæœ¬ç‰¹æ€§ï¼š // load any GitHub release, commit, or branch // note: we recommend using npm for projects that support it https://cdn.jsdelivr.net/gh/user/repo@version/file æ–°å»ºGitHub publicä»“åº“ï¼Œåç§°å°±å«cdnã€‚ åœ¨æœ¬åœ°ç”µè„‘å…‹éš†è¿œç¨‹ä»“åº“ï¼Œå°†éœ€è¦çš„é™æ€èµ„æºï¼ˆæ¯”å¦‚å›¾ç‰‡ã€ä¸è¶…è¿‡20Mçš„è§†é¢‘â€¦â€¦ï¼‰åŠ å…¥æœ¬åœ°ä»“åº“ï¼Œç„¶åæäº¤åˆ°è¿œç¨‹ä»“åº“ã€‚ é»˜è®¤ä½ å·²ç»é…ç½®å¥½äº†GitHubçš„SSHï¼Œå¹¶ä¸”æœ¬åœ°Gitä¹Ÿå·²ç»é…ç½®ç”¨æˆ·å’Œé‚®ç®±ã€‚å‚è€ƒã€ŠPro Gitã€‹ git clone git@github.com:DragonBaby308/cdn.git cd cdn //æ·»åŠ é™æ€èµ„æºï¼Œå»ºè®®åˆ›å»ºä¸åŒç›®å½•å­˜å‚¨ï¼Œé˜²æ­¢å¤ªä¹± mkdir js mkdir img mkdir movie git add . git commit -m &quot;release 1.0&quot; git push åœ¨GitHubè¿œç¨‹ä»“åº“ä¸­ç‚¹å‡»releaseå‘å¸ƒã€‚ é€šè¿‡jsDeliverå¼•ç”¨èµ„æº //åŠ è½½js https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/js/jquery.js //åŠ è½½å›¾ç‰‡ https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/db3.png","categories":[{"name":"GitHub","slug":"GitHub","permalink":"/categories/GitHub/"}],"tags":[{"name":"CDN","slug":"CDN","permalink":"/tags/CDN/"},{"name":"jsDeliver","slug":"jsDeliver","permalink":"/tags/jsDeliver/"},{"name":"GitHub","slug":"GitHub","permalink":"/tags/GitHub/"},{"name":"Git","slug":"Git","permalink":"/tags/Git/"}],"keywords":[{"name":"GitHub","slug":"GitHub","permalink":"/categories/GitHub/"}]},{"title":"Hexoä¸»é¢˜ â€”â€” Sakura å…¥é—¨","slug":"hexo-theme-sakura","date":"2019-12-13T09:20:00.000Z","updated":"2019-12-14T07:38:52.433Z","comments":true,"path":"hexo-theme-sakura/","link":"","permalink":"/hexo-theme-sakura/","excerpt":"","text":"Hexoä¸»é¢˜ â€”â€” Sakura å…¥é—¨ä½¿ç”¨NexTä¸»é¢˜æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œåšäº†å¾ˆå¤šé­”æ”¹ï¼Œèˆä¸å¾—æ”¾å¼ƒã€‚ä½†æ˜¯çœ‹åˆ«äººçš„Sakuraä¸»é¢˜å¥½é¦™ï¼Œåˆè§‰å¾—çœ¼é¦‹ å‘µï¼Œç”·äººo(ï¿£â–½ï¿£)o æ‰€ä»¥æˆ‘å†³å®šå†ç™½å«–ä¸€ä¸ª.github.ioçš„ç«™ç‚¹ï¼Œè¿™æ¬¡ä½¿ç”¨Sakuraä¸»é¢˜ï¼šhttps://dragonbaby308.github.io/ ï¼ˆä¸€ï¼‰å®‰è£…Hexoä¸hexo-theme-sakura å‚è€ƒã€Šé™æ€åšå®¢Hexoæ­å»ºæ•™ç¨‹ï¼ˆæœ¬åœ°ã€æœåŠ¡å™¨ä¸¤å¼€èŠ±ï¼‰ã€‹å’Œã€Šå”¯ç¾ä¸»é¢˜hexo-sakuraä½¿ç”¨æ•™ç¨‹ã€‹ mkdir HexoSakura //é»˜è®¤ä½ å·²ç»å®‰è£…å¥½äº†npmå’Œhexo-cli hexo init æ ¹æ®ä½œè€…çš„å»ºè®®ï¼Œç›´æ¥è®¿é—®https://github.com/honjun/hexo-theme-sakuraè·å–å‹ç¼©åŒ…ï¼Œè§£å‹åˆ°åšå®¢æ ¹ç›®å½•ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯ä¸»é¢˜ç›®å½•ï¼ï¼‰ï¼Œæ›¿æ¢åŸæœ‰æ–‡ä»¶ï¼Œç„¶åè¿è¡Œnpm iå®‰è£…ä¾èµ–ã€‚åˆ°è¿™ä¸€æ­¥ï¼Œä½¿ç”¨hexo clean &amp;&amp; hexo g &amp;&amp; hexo så°±å·²ç»å¯ä»¥çœ‹åˆ°ç«™ç‚¹æ•ˆæœäº†ï¼Œä¸è¿‡æˆ‘ä»¬è¿˜éœ€è¦è¿›è¡Œä¸€ç³»åˆ—è‡ªå®šä¹‰çš„é…ç½®ã€‚ ï¼ˆäºŒï¼‰é…ç½®1.ç«™ç‚¹é…ç½®æ–‡ä»¶_config.yamlï¼ˆ1ï¼‰ç®€ä»‹# Site # ä¸»æ ‡é¢˜ï¼šè¿™ä¸ªæ˜¯ä½ é¼ æ ‡æ”¾æ ‡ç­¾é¡µæ˜¾ç¤ºçš„åç§°ï¼Œä¸»é¡µçš„åç§°è¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½® title: DragonBaby308 # å‰¯æ ‡é¢˜ï¼šä¸å±•ç¤º subtitle: # æè¿°ï¼šä¸å±•ç¤º description: keywords: # ä½œè€…å author: DragonBaby308 # è¯­è¨€ language: zh-CN # ç®€ä½“ä¸­æ–‡ timezone: ï¼ˆ2ï¼‰éƒ¨ç½² é»˜è®¤ä½ å·²ç»é…ç½®å¥½äº†GitHubçš„SSHï¼Œå¹¶ä¸”æœ¬åœ°Gitä¹Ÿå·²ç»é…ç½®ç”¨æˆ·å’Œé‚®ç®±ã€‚å‚è€ƒã€ŠPro Gitã€‹ # Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: type: git repo: https://github.com/DragonBaby308/DragonBaby308.github.io.git #ä½ çš„github.ioçš„ç½‘å€ branch: master ï¼ˆ3ï¼‰å¤‡ä»½ é¦–å…ˆéœ€è¦åœ¨ä½ è¿œç¨‹GitHubä»“åº“æ–°å»ºä¸€ä¸ªbackupåˆ†æ”¯ã€‚ # backup backup: type: git message: https://DragonBaby308.github.io/ å¤‡ä»½ repository: github: https://github.com/DragonBaby308/DragonBaby308.github.io.git,backup é…ç½®å®Œæˆåæ¯æ¬¡é€šè¿‡hexo clean &amp;&amp; hexo b &amp;&amp; hexo d -gå°±å¯ä»¥å®Œæˆéƒ¨ç½²å’Œå¤‡ä»½ã€‚ 2.ä¸»é¢˜é…ç½®æ–‡ä»¶theme/Sakura/_config.yaml# site name # ç«™ç‚¹åå‰ç¼€ï¼Œå¯ä»¥çœç•¥ prefixName: æƒ³è¿›é˜¿é‡Œã® # ç«™ç‚¹åï¼Œæ˜¾ç¤ºä¸ºï¼šå‰ç¼€+ç«™ç‚¹å siteName: DB3 # favicon and site master avatar # æ ‡ç­¾é¡µå°å›¾æ ‡ï¼š favicon: XXXXX # å¤´åƒï¼š avatar: XXXXX # ç«™ç‚¹URL url: https://DragonBaby308.github.io/ # æè¿° description: 2019å¹´åªå‰©ä¸‹å°¾å·´äº†ï¼Œå¸Œæœ›2020å¹´æ˜¥æ‹›å¯ä»¥è¿›ATMï¼ # ç«™ç‚¹CDNï¼Œå¯ä»¥ä¸ºç©ºï¼Œå›¾ç‰‡éœ€è¦å¡«å®Œæ•´è·¯å¾„ cdn: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0 # å¼€å¯pjax pjax: 1 # å…¬å‘Š notice: æˆ‘ä¸ç©æ¸¸æˆï¼Œæˆ‘å®šè§„åˆ™ã€‚ # æ‡’åŠ è½½çš„åŠ è½½ä¸­å›¾ç‰‡ lazyloadImg: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg # ç«™ç‚¹èœå•é…ç½®ã€æš‚æ—¶ä¿æŒï¼Œä»¥åæ…¢æ…¢æ”¹ã€‘ menus: é¦–é¡µ: { path: /, fa: fa-fort-awesome faa-shake } å½’æ¡£: { path: /archives, fa: fa-archive faa-shake, submenus: { æŠ€æœ¯: {path: /categories/æŠ€æœ¯/, fa: fa-code }, ç”Ÿæ´»: {path: /categories/ç”Ÿæ´»/, fa: fa-file-text-o }, èµ„æº: {path: /categories/èµ„æº/, fa: fa-cloud-download }, éšæƒ³: {path: /categories/éšæƒ³/, fa: fa-commenting-o }, è½¬è½½: {path: /categories/è½¬è½½/, fa: fa-book } } } æ¸…å•: { path: javascript:;, fa: fa-list-ul faa-vertical, submenus: { ä¹¦å•: {path: /tags/æ‚¦è¯»/, fa: fa-th-list faa-bounce }, ç•ªç»„: {path: /bangumi/, fa: fa-film faa-vertical }, # æ­Œå•: {path: /music/, fa: fa-headphones }, å›¾é›†: {path: /tags/å›¾é›†/, fa: fa-photo } } } ç•™è¨€æ¿: { path: /comment/, fa: fa-pencil-square-o faa-tada } å‹äººå¸: { path: /links/, fa: fa-link faa-shake } èµèµ: { path: /donate/, fa: fa-heart faa-pulse } å…³äº: { path: /, fa: fa-leaf faa-wrench , submenus: { æˆ‘: {path: /about/, fa: fa-meetup}, # ä¸»é¢˜: {path: /theme-sakura/, fa: iconfont icon-sakura }, # Lab: {path: /lab/, fa: fa-cogs }, } } # å®¢æˆ·ç«¯: { path: /client/, fa: fa-android faa-vertical } RSS: { path: /atom.xml, fa: fa-rss faa-pulse } # èƒŒæ™¯å›¾ç‰‡ bg: - XXXXX - XXXXX - XXXXX - https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(2).jpg.webp - https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(3).jpg.webp - https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(4).jpg.webp - https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(5).jpg.webp - https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(7).jpg.webp # èƒŒæ™¯å›¾ç‰‡æ ·å¼ï¼š # ç©ºï¼šåŸå›¾ # filter-dimï¼šé˜´å½± # filter-gridï¼šæ¨ªæ¡ # filter-dotï¼šç‚¹ç‚¹ bgclass: filter-dot # å¿«é€Ÿå¯¼èˆªé¢æ¿ # urlï¼šé“¾æ¥ï¼Œå¦‚æœæ˜¯æœ¬ç«™é“¾æ¥ï¼Œå¯ä»¥ç®€å†™ # titleï¼šå¤§æ ‡é¢˜ # descï¼šæè¿° # imgï¼šèƒŒæ™¯å›¾ startdash: # - {url: /theme-sakura/, title: Sakura, desc: æœ¬ç«™ hexo ä¸»é¢˜, img: /img/startdash/sakura.md.png} - {url: https://space.bilibili.com/24837083, title: Bilibili, desc: ä¹¾æ¯ï¼ï¼ï¼, img: /img/startdash/bilibili.jpg} # your site build time or founded date # å»ºç«™æ—¶é—´ siteBuildingTime: 12/12/2019 # ç¤¾äº¤æŒ‰é’®PCç«¯ # urlï¼šé“¾æ¥ # qrcodeï¼šäºŒç»´ç  # imgï¼šå›¾æ ‡ social: GitHub: {url: http://github.com/DragonBaby308, img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/social/github.png} æ˜é‡‘: {url: https://juejin.im/user/5cef386351882551b47a32f7, img: XXXXX} BiliBili: {url: https://space.bilibili.com/24837083, img: XXXXX} WeChat: {url: /#, qrcode: XXXXX, img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/social/wechat.png} QQ: {url: /#, qrcode: XXXXX, img: https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/social/qq.png} # ç¤¾äº¤æŒ‰é’®ç§»åŠ¨ç«¯ # urlï¼šé“¾æ¥ # fontawesomeï¼šå›¾æ ‡ # colorï¼šé¢œè‰² msocial: github: {url: http://github.com/DragonBaby308, fa: fa-github, color: 333} # weibo: {url: http://weibo.com/mashirozx?is_all=1, fa: fa-weibo, color: dd4b39} # qq: {url: https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes, fa: fa-qq, color: 25c6fe} # èµèµäºŒç»´ç  donate: alipay: XXXXX wechat: XXXXX # é¦–é¡µè§†é¢‘ movies: # urlå‰ç¼€ url: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/movie/ # å¤šä¸ªè§†é¢‘ç”¨é€—å·éš”å¼€ï¼Œéšæœºè·å–ã€‚æ”¯æŒçš„æ ¼å¼ç›®å‰å·²çŸ¥MP4,Flv name: fujiko.mp4 # å·¦ä¸‹è§’aplayeræ’­æ”¾å™¨é…ç½® # id:æ­Œå•ID â€”â€” åœ¨æ­Œå•çš„URLä¸­ä¼šæœ‰ä½“ç°ï¼Œè‡ªå·±è§‚å¯Ÿ # server:éŸ³ä¹æœåŠ¡å™¨ â€”â€” tencentï¼šQQéŸ³ä¹ # autoplayï¼šæ˜¯å¦è‡ªåŠ¨æ’­æ”¾ aplayer: id: 3090329008 server: tecent type: playlist fixed: true mini: false autoplay: false loop: all order: random preload: auto volume: 0.7 mutex: true # Valineè¯„è®º # è®°å¾—è¦åœ¨LeanCloud -&gt; è®¾ç½® -&gt; å®‰å…¨ä¸­å¿ƒ -&gt; webå®‰å…¨åŸŸå ä¸­ï¼Œå°†æ–°åŸŸååŠ è¿›å» valine: true v_appId: XXXXX v_appKey: XXXXX 3.åˆ†ç±»/æ ‡ç­¾é¡µé…ç½®theme/Sakura/languages/zh-cn.yaml# category # åˆ†ç±»åç§°ï¼šéœ€è¦å’Œtheme/Sakura/_config.yamlçš„menuså±æ€§å¯¹åº” # å¯¹åº”é“¾æ¥ä¸ºï¼š/categories æŠ€æœ¯: #ä¸­æ–‡æ ‡é¢˜ zh: é‡ç”ŸæŠ€æœ¯åä¼š # è‹±æ–‡æ ‡é¢˜ en: Geek â€“ Only for Love # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg ç®—æ³•: zh: ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³• en: Algorithm img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/Algorithm.jpg JavaåŸºç¡€: zh: Javaæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼æ¥æˆ˜ï¼ en: Java img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg Linux: zh: Talk is cheap, show me the code. en: Linux img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/Linux.jpg éšç¬”: zh: æˆ‘æœ‰ä¸€ä¸ªåŸ‹åœ¨å¿ƒé‡Œçš„æ¢¦æƒ³ï¼Œå°±æ˜¯æˆä¸ºä¸€ä¸ªç•…é”€å°è¯´å®¶ï¼Œæ²¡æœ‰å’Œå‡ ä¸ªäººè¯´è¿‡ã€‚ en: Code &amp; Poetry. img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/Novel.jpg è®¾è®¡æ¨¡å¼: zh: è®¾è®¡æ¨¡å¼ en: Design Pattern img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/DesignPattern.jpg åˆ†å¸ƒå¼: zh: åˆ†å¸ƒå¼ en: Distributed System img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/DistributedSystem.jpg Docker: zh: å®¹å™¨æ¯”è™šæ‹Ÿæœºæ›´åŠ è½»é‡çº§ã€‚ â€”â€” æ²ƒå…¹.åŸºç¡•å¾· en: Docker img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/Docker.jpg Hexo: zh: Hexoæ˜¯éå¸¸å¥½ç”¨çš„é™æ€åšå®¢ã€‚ â€”â€” æµ·æ°.æ²ƒå…¹.åŸºç¡•å¾· en: Hexo img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/Hexo.jpg GitHub: zh: å…¨ä¸–ç•Œæœ€å¤§åŒæ€§äº¤å‹å¹³å° â€”â€” en: GayHub img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/GitHub.jpg Go: zh: Goè¯­è¨€è®¾è®¡å¾—éå¸¸äººæ€§åŒ–ï¼Œæˆ‘æ„¿æ„æŠŠå®ƒä½œä¸ºç¬¬äºŒè¯­è¨€ã€‚ en: GoLang img: https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.0/img/categories/Go.jpg # tag # æ ‡ç­¾åç§° # å¯¹åº”é“¾æ¥ä¸ºï¼š/tags æ‚¦è¯»: # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg 4.å•é¡µé¢å°é¢é…ç½®æ¯”å¦‚â€œç•™è¨€æ¿â€ï¼Œä¿®æ”¹/source/comment/index.mdä¸­çš„photoså±æ€§å³å¯ã€‚ 5.ç•ªç»„è®¡åˆ’é¡µsource/bangumi/index.mdæ³¨é‡Šåªæ˜¯ä¸ºäº†æè¿°æ¯ä¸ªå±æ€§çš„ä½œç”¨ï¼Œè‡ªå·±é…ç½®æ—¶éœ€è¦å°†æ‰€æœ‰æ³¨é‡Šåˆ é™¤ï¼ --- layout: bangumi title: bangumi comments: false date: 2019-02-10 21:32:48 keywords: description: bangumis: # ç•ªç»„å›¾ç‰‡ - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg # ç•ªç»„å title: æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ± # è¿½ç•ªçŠ¶æ€ ï¼ˆè¿½ç•ªing/å·²è¿½å®Œï¼‰ status: å·²è¿½å®Œ # è¿½ç•ªè¿›åº¦ progress: 100 # ç•ªå‰§æ—¥æ–‡åç§° jp: ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã† # æ”¾é€æ—¶é—´ time: æ”¾é€æ—¶é—´: 2018-02-24 SUN. # ç•ªå‰§ä»‹ç» desc: ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚ - img: http://lain.bgm.tv/pic/cover/l/e9/15/179949_c2j50.jpg title: å°æ—å®¶çš„é¾™å¥³ä»† status: å·²è¿½å®Œ progress: 100 jp: å°æ—ã•ã‚“ã¡ã®ãƒ¡ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³ time: null desc: åœ¨å•èº«çš„è¾›è‹¦OLå°æ—èº«è¾¹çªç„¶å‡ºç°çš„å¥³ä»†è£…æŸçš„ç¾å°‘å¥³æ‰˜å°”ã€‚é•¿ç€è§’å’Œå°¾å·´çš„å¥¹çš„èº«å§¿æ­£æ˜¯æ‰€è°“çš„é¾™å¨˜ã€‚åœ¨é†‰é…’çš„å°æ—é‚€è¯·ä¸‹è¯´è¦åˆ°å®¶é‡Œå»çš„æ‰˜å°”ï¼Œé¬¼ä½¿ç¥å·®åœ°å¼€å§‹ä»¥å°æ—å®¶å¥³ä»†çš„èº«ä»½å·¥ä½œâ€¦â€¦ï¼ï¼Ÿâ€œå¥³ä»†â€+â€œé¾™â€=â€œå¥³ä»†é¾™â€æœ‰ç€ç¬¨æ‰‹ç¬¨è„šçš„å¯çˆ±ä¹‹å¤„ï¼é¾™å¨˜ä¸äººç±»ä¹‹é—´åŸºæœ¬ä¸Šå¾ˆæ¸©æš–ã€å¶å°”æœ‰äº›é»‘æš—çš„å¼‚ç§æ—é—´äº¤æµå–œå‰§ï¼ï¼ - img: http://lain.bgm.tv/pic/cover/l/42/54/219164_TLkl2.jpg title: é²é‚¦ä¸‰ä¸– PART5 status: å·²è¿½å®Œ progress: 100 jp: ãƒ«ãƒ‘ãƒ³ä¸‰ä¸– PART5 time: null desc: é²é‚¦ä¸‰ä¸–ä¸æ¬¡å…ƒå¤§ä»‹èº«å¤„æ³•å›½ã€‚æ•…äº‹åœ¨æŸå¤„ä¹¡é—´å°é•‡çš„å…¬å¯“ä¸€å®¤å¼€å§‹ã€‚åŒ…æ‹¬æ¯’å“æªæ¢°ç­‰éæ³•ç‰©èµ„åœ¨å†…ï¼Œä»»ä½•ç‰©å“éƒ½èƒ½è´­ä¹°çš„åœ°ä¸‹ç½‘ç«™ï¼Œâ€œé©¬å¯æ³¢ç½—â€ã€‚ä¸ºäº†ç›—å–è™šæ‹Ÿè´§å¸ï¼Œé²é‚¦ç­‰äººä¾µå…¥äº†æˆ’å¤‡æ£®ä¸¥çš„å·¨å¤§æœåŠ¡å™¨è®¾æ–½ã€‚ä»–ä»¬åœ¨é‚£é‡Œé‡åˆ°äº†ç¥ç§˜çš„å¤©æ‰é»‘å®¢å°‘å¥³ï¼Œé˜¿ç±³ã€‚é²é‚¦å’Œé˜¿ç±³ä¸€èµ·æ­£é¢åº”å¯¹é©¬å¯æ³¢ç½—çš„é™·é˜±ï¼Œä½†ç”±äºæ•Œäººè®¾ç½®çš„â€œé²é‚¦æ¸¸æˆâ€ï¼Œè€Œè½å¾—è¢«å…¨ä¸–ç•Œç›‘è§†çš„ä¸‹åœºâ€¦â€¦é˜¿ç±³èº«ä¸Šæ¥è¿æ­æ™“çš„è°œå›¢ï¼Œä»¥åŠçŸ¥æ™“é²é‚¦ä¸‰ä¸–è¿‡å»çš„ç”·äººå‡ºç°â€”â€”é²é‚¦æ­£é™·å…¥å‰æ‰€æœªæœ‰çš„ç»å¢ƒï¼ --- 5.å‹é“¾é¡µsource/links/index.mdæ³¨é‡Šåªæ˜¯ä¸ºäº†æè¿°æ¯ä¸ªå±æ€§çš„ä½œç”¨ï¼Œè‡ªå·±é…ç½®æ—¶éœ€è¦å°†æ‰€æœ‰æ³¨é‡Šåˆ é™¤ï¼ --- layout: links title: links # åˆ›å»ºæ—¥æœŸï¼Œå¯ä»¥æ”¹ä¸‹ date: 2018-12-19 23:11:06 # å›¾ç‰‡ä¸Šçš„æ ‡é¢˜ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ keywords: å‹äººå¸ description: # true/false å¼€å¯/å…³é—­è¯„è®º comments: true # é¡µé¢å¤´éƒ¨å›¾ç‰‡ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg # å‹é“¾é…ç½® links: # ç±»å‹åˆ†ç»„ - group: ä¸ªäººé¡¹ç›® # ç±»å‹ç®€ä»‹ desc: å……åˆ†è¯´æ˜è¿™å®¶ä¼™æ˜¯æ¡å’¸é±¼ &lt; (ï¿£ï¸¶ï¿£)&gt; items: # å‹é“¾é“¾æ¥ - url: https://shino.cc/fgvf # å‹é“¾å¤´åƒ img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg # å‹é“¾ç«™ç‚¹å name: Google # å‹é“¾ä»‹ç» desc: Google é•œåƒ # ç±»å‹åˆ†ç»„... - group: å°ä¼™ä¼´ä»¬ desc: æ¬¢è¿äº¤æ¢å‹é“¾ ê‰‚(ËŠá—œË‹) items: - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ --- ï¼ˆä¸‰ï¼‰å…¶ä»–é­”æ”¹1.startdashåç§°æ›´æ”¹å°†/themes/Sakura/layout/_partial/startdash.ejsä¸­çš„&lt;h1 ...&gt;startdash&lt;/h1&gt;æ”¹ä¸º&lt;h1 ...&gt;å¿«é€Ÿå¯¼èˆª&lt;/h1&gt;ã€‚ 2.Discoveryåç§°æ›´æ”¹å°†/themes/Sakura/layout/index.ejsä¸­çš„&lt;h1 ...&gt;Discovery&lt;/h1&gt;æ”¹ä¸º&lt;h1 ...&gt;æ­£æ–‡&lt;/h1&gt;ã€‚ 3.æ–‡ç« é“¾æ¥æ›´æ”¹å°†_config.yamlä¸­çš„permalinkå±æ€§ä¿®æ”¹ä¸ºpermalink: :title/ã€‚ 4.æ–°å»ºå¸–å­å¤´éƒ¨æ ¼å¼ä¿®æ”¹/scaffolds/post.mdï¼Œå¯ä»¥å°†hexo nç”Ÿæˆçš„åšå®¢å¤´æ”¹ä¸ºè‡ªå®šä¹‰æ ¼å¼ï¼š --- title: {{ title }} date: {{ date }} author: DragonBaby308 avatar: &#39;https://cdn.jsdelivr.net/gh/DragonBaby308/cdn@1.2/img/header/avatar.jpg&#39; authorLink: www.dragonbaby308.com authorAbout: æ°”æ˜¯æ¸…é£è‚‰æ˜¯æ³¥ã€‚ authorDesc: ä½¯ç‹‚éš¾å…å‡æˆçœŸã€‚ categories: xxx comments: true tags: keywords: description: photos: xxx ---","categories":[{"name":"Hexo","slug":"Hexo","permalink":"/categories/Hexo/"}],"tags":[{"name":"CDN","slug":"CDN","permalink":"/tags/CDN/"},{"name":"jsDeliver","slug":"jsDeliver","permalink":"/tags/jsDeliver/"},{"name":"GitHub","slug":"GitHub","permalink":"/tags/GitHub/"},{"name":"Git","slug":"Git","permalink":"/tags/Git/"},{"name":"Hexoæ¡†æ¶","slug":"Hexoæ¡†æ¶","permalink":"/tags/Hexoæ¡†æ¶/"},{"name":"Hexoä¸»é¢˜","slug":"Hexoä¸»é¢˜","permalink":"/tags/Hexoä¸»é¢˜/"}],"keywords":[{"name":"Hexo","slug":"Hexo","permalink":"/categories/Hexo/"}]},{"title":"iTerm2å’Œoh-my-zshè”åˆæ‰“é€ Macç»ˆç«¯","slug":"oh-my-zsh","date":"2019-12-10T14:21:27.000Z","updated":"2019-12-14T02:58:00.153Z","comments":true,"path":"oh-my-zsh/","link":"","permalink":"/oh-my-zsh/","excerpt":"","text":"iTerm2å’Œoh-my-zshè”åˆæ‰“é€ Macç»ˆç«¯ï¼ˆä¸€ï¼‰iTerm21.å®‰è£…å¹¶è®¾ç½®ä¸ºé»˜è®¤ç»ˆç«¯ ä¸‹è½½å¹¶å®‰è£…iTerm2 å°†iTerm2è®¾ç½®ä¸ºé»˜è®¤ç»ˆç«¯ï¼šiTerm2 -&gt; Make iTerm2 Default Term 2.èƒŒæ™¯å›¾ç‰‡è®¾ç½® é€‰æ‹©èƒŒæ™¯å›¾ç‰‡ï¼šiTerm2 -&gt; Preferences -&gt; Profiles -&gt; Window -&gt; Background Image -&gt; Enabled è®¾ç½®é€æ˜åº¦ï¼šé€šè¿‡Blendingè°ƒèŠ‚å£çº¸çš„é€æ˜åº¦ï¼Œé€æ˜åº¦è¶Šé«˜è¶Šé€æ˜ æ•ˆæœå›¾ï¼š 3.å­—ä½“è®¾ç½® é€šè¿‡pipå®‰è£…PowerLineï¼š # é€šè¿‡HomeBrewå®‰è£…python3ï¼Œè·å–easy-install brew install python3 # é€šè¿‡pipè·å–PowerLine pip install powerline-status --user åœ¨åˆé€‚ä½ç½®åˆ›å»ºç©ºç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…å­—ä½“åº“ï¼š git clone https://github.com/powerline/fonts.git --depth=1 cd fonts ./install.sh # Powerline fonts installed to /Users/dragonbaby308/Library/Fonts cd /Users/dragonbaby308/Library/Fonts è®¾ç½®å­—ä½“ï¼šiTerm2 -&gt; Preferences -&gt; Profiles -&gt; Text -&gt; Font -&gt; é€‰æ‹©å­—ä½“ 4.é…è‰²è®¾ç½® åœ¨åˆé€‚ä½ç½®åˆ›å»ºç©ºç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¸‹è½½é…è‰²ï¼š git clone https://github.com/altercation/solarized cd solarized/iterm2-colors-solarized/ # æ‰“å¼€Finder open . åœ¨æ‰“å¼€çš„çª—å£ä¸­ï¼ŒåŒå‡»Solarized Dark.itermcolorså’ŒSolarized Light.itermcolorså³å¯å®‰è£…æ˜æš—ä¸¤ç§é…è‰²ï¼š è®¾ç½®é…è‰²ï¼šiTerm2 -&gt; Preferences -&gt; Profiles -&gt; Colors -&gt; Color Presets ï¼ˆäºŒï¼‰oh-my-zsh1.å®‰è£… Macé»˜è®¤ä½¿ç”¨dashä½œä¸ºç»ˆç«¯ï¼Œé€šè¿‡chsh -s /bin/zshå°†é»˜è®¤ç»ˆç«¯ä¿®æ”¹ä¸ºzsh å®‰è£…oh-my-zshï¼š sh -c &quot;$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot; 2.ä¸»é¢˜ä¸‹è½½ä¸é…ç½® åˆ›å»ºç©ºç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š git clone https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor.git cd oh-my-zsh-agnoster-fcamblor/ # æ‰§è¡Œè¯¥å‘½ä»¤ä¼šå°†ä¸»é¢˜æ‹·è´åˆ°oh-my-zshçš„themesç›®å½•ä¸‹ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿›è¡Œ ./install ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼švi ~/.zshrc # å°†ä¸»é¢˜é…ç½®ä¸ºys ZSH_THEME=&quot;ys&quot; source ~/.zshrcä½¿é…ç½®ç”Ÿæ•ˆ 3.æ’ä»¶å®‰è£… æ’ä»¶å®‰è£… # è¯­æ³•é«˜äº®æ’ä»¶ sudo git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $ZSH_CUSTOM/plugins/zsh-syntax-highlighting # å‘½ä»¤è¡¥å…¨æ’ä»¶ sudo git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼švi ~/.zshrc # zsh-syntax-highlightingå¿…é¡»æ˜¯æœ€åä¸€ä¸ªï¼ plugins=(git, zsh-autosuggestions, zsh-syntax-highlighting) source ~/.zshrcä½¿é…ç½®ç”Ÿæ•ˆ å¦‚æœè§‰å¾—è‡ªåŠ¨è¡¥å…¨é¢œè‰²ä¸èƒŒæ™¯è‰²éš¾ä»¥åŒºåˆ†ï¼Œå¯ä»¥åœ¨iTerm2 -&gt; Preferences -&gt; Profiles -&gt; Colors -&gt; å³ä¾§ANSI Colors -&gt; Brightç¬¬ä¸€è¡Œä¸­é…ç½®è‡ªåŠ¨è¡¥å…¨çš„å­—ä½“é¢œè‰²ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"/categories/Linux/"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"/tags/GitHub/"},{"name":"Git","slug":"Git","permalink":"/tags/Git/"},{"name":"Linux","slug":"Linux","permalink":"/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"/tags/Shell/"},{"name":"Fun!!!!!!!","slug":"Fun","permalink":"/tags/Fun/"},{"name":"Mac","slug":"Mac","permalink":"/tags/Mac/"},{"name":"oh-my-zsh","slug":"oh-my-zsh","permalink":"/tags/oh-my-zsh/"},{"name":"iTerm2","slug":"iTerm2","permalink":"/tags/iTerm2/"},{"name":"python3","slug":"python3","permalink":"/tags/python3/"},{"name":"pip","slug":"pip","permalink":"/tags/pip/"},{"name":"HomeBrew","slug":"HomeBrew","permalink":"/tags/HomeBrew/"}],"keywords":[{"name":"Linux","slug":"Linux","permalink":"/categories/Linux/"}]},{"title":"Goè¯­è¨€ç½‘ç»œç¼–ç¨‹ï¼ˆTCPã€HTTPã€Beegoæ¡†æ¶ï¼‰","slug":"go-web","date":"2019-12-04T15:37:01.000Z","updated":"2019-12-14T02:57:15.683Z","comments":true,"path":"go-web/","link":"","permalink":"/go-web/","excerpt":"","text":"Goè¯­è¨€ç½‘ç»œç¼–ç¨‹ï¼ˆTCPã€HTTPã€Beegoæ¡†æ¶ï¼‰ï¼ˆä¸€ï¼‰TCPç¼–ç¨‹æ¶‰åŠçš„åŒ…ï¼šnet 1.æœåŠ¡ç«¯ net.Listen()ç›‘å¬æŸä¸ªç«¯å£ å¾ªç¯è·å–è¿æ¥ï¼Œä¸ºæ¯ä¸ªè¿æ¥å¼€å¯ä¸€ä¸ªGoroutine åœ¨å•ç‹¬çš„Goroutineä¸­è¯»å–æ¯ä¸ªè¿æ¥çš„æ•°æ® å…³é—­è¿æ¥ package main import ( &quot;fmt&quot; &quot;net&quot; &quot;strings&quot; ) func main() { fmt.Println(&quot;TCPæœåŠ¡ç«¯å¯åŠ¨â€¦â€¦&quot;) //ç›‘å¬50000ç«¯å£ listen, err := net.Listen(&quot;tcp&quot;, &quot;0.0.0.0:50000&quot;) //é”™è¯¯å¤„ç† if err != nil { fmt.Println(&quot;ç›‘å¬50000ç«¯å£é”™è¯¯ï¼š&quot;, err) return } //å¼€å¯å¾ªç¯ï¼Œè·å–è¿æ¥ for { conn, err := listen.Accept() if err != nil { fmt.Println(&quot;è·å–è¿æ¥é”™è¯¯ï¼š&quot;, err) return } //ä¸ºæ¯ä¸ªè¿æ¥å¼€å¯ä¸€ä¸ªGoroutine go process(conn) } } //è¿æ¥å¤„ç†å‡½æ•° func process(conn net.Conn) { //æ‰§è¡Œå®Œå…³é—­è¿æ¥ defer conn.Close() //å¼€å¯å¾ªç¯ï¼Œå¤„ç†è¿æ¥ for { buf := make([]byte, 512) n, err := conn.Read(buf) if err != nil { fmt.Println(&quot;è¯»å–æ•°æ®å¤±è´¥ï¼š&quot;, err) return } //æ‰“å°æ¥æ”¶åˆ°çš„æ•°æ® fmt.Printf(strings.TrimSpace(string(buf[0:n]))) } } 2.å®¢æˆ·ç«¯ net.Dail()è¿æ¥æœåŠ¡ç«¯çš„æŸä¸ªç«¯å£ æ”¶å‘æ•°æ® å…³é—­è¿æ¥ package main import ( &quot;bufio&quot; &quot;fmt&quot; &quot;net&quot; &quot;os&quot; &quot;strings&quot; ) func main() { //æ‹¨å·ï¼Œè¿æ¥50000ç«¯å£ conn, err := net.Dial(&quot;tcp&quot;, &quot;localhost:50000&quot;) if err != nil { fmt.Println(&quot;è¿æ¥æœåŠ¡ç«¯å¤±è´¥ï¼š&quot;, err) return } //è¯»å–é”®ç›˜è¾“å…¥ inputReader := bufio.NewReader(os.Stdin) for { input, _ := inputReader.ReadString(&#39;\\n&#39;) trimedInput := strings.Trim(input, &quot;\\r\\n&quot;) //è¾“å…¥Qé€€å‡º if trimedInput == &quot;Q&quot; { return } //å°†æ•°æ®å†™å…¥è¿æ¥ï¼Œå‘é€ç»™æœåŠ¡ç«¯ _, err = conn.Write([]byte(trimedInput)) if err != nil { return } } //æ‰§è¡Œç»“æŸåå…³é—­è¿æ¥ defer conn.Close() } ï¼ˆäºŒï¼‰HTTPç¼–ç¨‹æ¶‰åŠçš„åŒ…ï¼šnet/http 1.æœåŠ¡ç«¯ http.HandleFunc()ï¼šæŒ‡å®šæŸä¸ªå‡½æ•°å¤„ç†å¯¹åº”è·¯å¾„ä¸‹çš„è¯·æ±‚ å¯¹åº”çš„å¤„ç†å‡½æ•°æ¥æ”¶w http.ResponseWriter, r *http.Requestä¸¤ä¸ªå‚æ•°ã€‚ http.ListenAndServe()ï¼šç›‘å¬æŸä¸ªç«¯å£çš„è¯·æ±‚ package main import ( &quot;fmt&quot; &quot;net/http&quot; ) func main() { http.HandleFunc(&quot;/&quot;, Hello) if err := http.ListenAndServe(&quot;0.0.0.0:8080&quot;, nil); err != nil { fmt.Println(&quot;HTTPå¼€å¯å¤±è´¥ï¼&quot;) } } func Hello(w http.ResponseWriter, r *http.Request) { fmt.Println(&quot;å¤„ç†â€œlocalhost:8080/â€è·¯å¾„ä¸‹çš„è¯·æ±‚&quot;) fmt.Fprintf(w, &quot;Hello World&quot;) } 2.å®¢æˆ·ç«¯ http.Get(url string) (resp *Response, err error) http.Post(url, contentType string, body io.Reader) (resp *Response, err error) http.Head(url string) (resp *Response, err error) package main import ( &quot;fmt&quot; &quot;io/ioutil&quot; &quot;net/http&quot; ) func main() { response, err := http.Get(&quot;http://www.dragonbaby308.com/&quot;) if err != nil { fmt.Println(&quot;http.Get()é”™è¯¯ï¼š&quot;, err) return } data, err := ioutil.ReadAll(response.Body) if err != nil { fmt.Println(&quot;è¯»å–å“åº”æ•°æ®é”™è¯¯ï¼š&quot;, err) return } fmt.Println(string(data)) } ï¼ˆä¸‰ï¼‰Beego MVCæ¡†æ¶ å‚è€ƒã€ŠBeegoå¼€å‘æ–‡æ¡£ã€‹ go get github.com/astaxie/beegoä¸‹è½½Beegoæ¡†æ¶ åˆ›å»ºå¦‚ä¸‹ç›®å½•ç»“æ„ï¼š beego â”œâ”€controller ï¼šæ§åˆ¶å™¨å±‚ â”œâ”€IndexController ï¼šã€/indexæ§åˆ¶å™¨ã€‘ â”œâ”€index.go â”œâ”€conf ï¼šé…ç½® â”œâ”€app.conf ï¼šã€é»˜è®¤é…ç½®æ–‡ä»¶ã€‘ â”œâ”€main ï¼šå…¥å£ â”œâ”€main.go ï¼šã€å…¥å£ç¨‹åºã€‘ â”œâ”€model ï¼šæ¨¡å‹å±‚ â”œâ”€router ï¼šè·¯ç”± â”œâ”€router.go ï¼šã€è·¯ç”±è§„åˆ™ã€‘ â””â”€view ï¼šè§†å›¾å±‚ â”œâ”€index â”œâ”€index.html ï¼šã€/indexæ¨¡æ¿ã€‘ main/main.goä¸­å¯¼å…¥Beegoæ¡†æ¶ï¼Œé€šè¿‡beego.Run()è¿è¡Œï¼š package main import ( &quot;github.com/astaxie/beego&quot; _ &quot;router&quot; //è°ƒç”¨routerçš„init() ) func main() { //è¿è¡ŒBeegoæ¡†æ¶ beego.Run() } router/router.goä¸­åˆ›å»ºè·¯ç”±è§„åˆ™ï¼š package router import &quot;github.com/astaxie/beego&quot; func init() { //è·¯ç”±è§„åˆ™ï¼š //1.URLè·¯å¾„ //2.å¯¹åº”çš„æ§åˆ¶å™¨ //3.å¯¹åº”å¤„ç†å‡½æ•° beego.Router(&quot;/index&quot;, &amp;IndexController.IndexController{}, &quot;*:Index&quot;) } åœ¨controller/IndexController/index.goä¸­ç»§æ‰¿Beegoçš„æ§åˆ¶å™¨ï¼Œé…ç½®æ¨¡æ¿ï¼š package IndexController import ( &quot;github.com/astaxie/beego&quot; &quot;github.com/astaxie/beego/logs&quot; ) //ç»§æ‰¿Beegoçš„æ§åˆ¶å™¨ type IndexController struct { beego.Controller } //å¤„ç†å‡½æ•° func (p *IndexController) Index() { //æ‰“æ—¥å¿— logs.Debug(&quot;è¿›å…¥IndexController&quot;) //1.ã€é¡µé¢å½¢å¼ã€‘ //é…ç½®æ¨¡æ¿ p.TplName = &quot;index/index.html&quot; //2.ã€APIå½¢å¼ã€‘ //autorender=falseï¼Œä¸å†æ¸²æŸ“é¡µé¢ï¼Œå¯ä»¥è¿”å›JSONç±»å‹çš„ç»“æœ // m := make(map[string]interface{}) // m[&quot;code&quot;] = 200 // m[&quot;msg&quot;] = &quot;success&quot; // p.Data[&quot;json&quot;] = m // p.ServeJSON(true) } view/index/index.htmlæ¨¡æ¿ï¼š &lt;html&gt; &lt;body&gt; &lt;p&gt;Hello World!&lt;/p&gt; &lt;/body&gt; &lt;/html&gt; Beegoé»˜è®¤ä¼šè§£æconf/app.confé…ç½®æ–‡ä»¶ï¼š # IPåœ°å€ httpaddr = &quot;127.0.0.1&quot; # åº”ç”¨å appname = beego_demo # æ˜¯å¦è‡ªåŠ¨æ¸²æŸ“æ¨¡æ¿ï¼Œé»˜è®¤trueï¼Œè¿”å›æ¸²æŸ“åçš„é¡µé¢ï¼› # å¦‚æœæƒ³è¦è¿”å›APIç±»å‹çš„JSONæ•°æ®ï¼Œå°†å…¶æ”¹ä¸ºfalse autorender = true # è¿è¡Œæ—¶ç¯å¢ƒ runmode = &quot;dev&quot; # å¼€å‘ç¯å¢ƒ [dev] # ç«¯å£ï¼Œé»˜è®¤9090 httpport = 9090 # ç”Ÿäº§ç¯å¢ƒ [prod] # ç«¯å£ httpport = 9091 beeå·¥å…·å‚è€ƒã€Šbee å·¥å…·ç®€ä»‹ã€‹","categories":[{"name":"Go","slug":"Go","permalink":"/categories/Go/"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"/tags/GitHub/"},{"name":"Go","slug":"Go","permalink":"/tags/Go/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"/tags/å¤šçº¿ç¨‹/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"/tags/é«˜å¹¶å‘/"},{"name":"Goroutine","slug":"Goroutine","permalink":"/tags/Goroutine/"},{"name":"TCP","slug":"TCP","permalink":"/tags/TCP/"},{"name":"HTTP","slug":"HTTP","permalink":"/tags/HTTP/"},{"name":"Beego","slug":"Beego","permalink":"/tags/Beego/"},{"name":"bee","slug":"bee","permalink":"/tags/bee/"},{"name":"JSON","slug":"JSON","permalink":"/tags/JSON/"}],"keywords":[{"name":"Go","slug":"Go","permalink":"/categories/Go/"}]},{"title":"GitHubå°æŠ€å·§","slug":"github","date":"2019-11-28T16:01:55.000Z","updated":"2019-12-14T02:57:07.226Z","comments":true,"path":"github/","link":"","permalink":"/github/","excerpt":"","text":"GitHubå°æŠ€å·§ ï¼ˆä¸€ï¼‰å¿«æ·é”®æŸ¥çœ‹ï¼šshift + ?åœ¨ä»»æ„ç•Œé¢è¾“å…¥shift + ?ï¼Œå¯ä»¥æ˜¾ç¤ºå¿«æ·é”®ã€‚ ï¼ˆäºŒï¼‰åˆ†äº«æŸæ®µä»£ç ï¼š#Lstart-Lendå¦‚æœä½ æƒ³åˆ†äº«ä½ çš„Githubä¸ŠæŸæ®µä»£ç ï¼Œå¯ä»¥åœ¨URLååŠ #Lå¼€å§‹è¡Œå·-Lç»“æŸè¡Œå·ï¼Œå¦‚ï¼šhttps://github.com/DragonBaby308/python_diy_crawlers/blob/master/xiumeim_crawler/xiumeim.py#L26-L32ã€‚å…¶å®ä¹Ÿä¸éœ€è¦ç‰¹åˆ«å»è®°ï¼Œç‚¹ä¸­æŸè¡Œä»£ç å‰çš„è¡Œå·ï¼ŒURLåå°±ä¼šåŠ #Lè¡Œå·ï¼Œå†æŒ‰ä½shiftï¼Œé€‰æ‹©ç»“æŸè¡Œå·ï¼ŒURLå°±ä¼šåŠ ä¸Š#Lå¼€å§‹è¡Œå·-Lç»“æŸè¡Œå·ã€‚ ï¼ˆä¸‰ï¼‰æŸ¥çœ‹è‡ªå·±é¡¹ç›®çš„è®¿é—®æ•°æ®ï¼šInsights - Trafficåœ¨è‡ªå·±çš„é¡¹ç›®ä¸‹ï¼Œç‚¹å‡»Insights-Trafficï¼Œé‡Œé¢æœ‰Referring sitesï¼ˆä»£è¡¨å¤§å®¶ä»ä»€ä¹ˆç½‘é¡µæ¥åˆ°ä½ çš„é¡¹ç›®ï¼‰å’ŒPopular contentï¼ˆä»£è¡¨å¤§å®¶ç»å¸¸çœ‹ä½ é¡¹ç›®çš„ä»€ä¹ˆæ–‡ä»¶ï¼‰ã€‚ ï¼ˆå››ï¼‰ç¼–è¾‘ä»£ç åœ¨æŸ¥çœ‹ä»»æ„æ–‡ä»¶æ—¶ï¼Œå³ä¸Šè§’ä¼šæœ‰ä¸€ä¸ªå°é“…ç¬”çš„æ ‡è¯†ã€‚ ç‚¹å‡»å°é“…ç¬”å°±å¯ä»¥ç›´æ¥ç¼–è¾‘æ–‡ä»¶ï¼Œç¼–è¾‘å®Œæˆåï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šç‚¹å‡»Propose File Changeï¼ŒGithubå°±ä¼šä¸ºä½ forkè¿™ä¸ªä»“åº“ï¼Œåˆ›å»ºä¸€ä¸ªpull requestï¼ŒèŠ‚çœäº†åœ¨æœ¬åœ°fork -&gt; pull -&gt; ä¿®æ”¹ -&gt; push -&gt; åˆ›å»ºPRçš„è¿‡ç¨‹ã€‚ ï¼ˆäº”ï¼‰è¶‹åŠ¿å›¾â€”â€”https://octoverse.github.com/Githubè¯­è¨€è¶‹åŠ¿å›¾ï¼šhttps://octoverse.github.com/ ï¼ˆå…­ï¼‰ç²¾ç¡®æœç´¢é¡¹ç›® in:name keyWordï¼šé¡¹ç›®åä¸­å«æœ‰keyWord in:readme keyWordï¼šé¡¹ç›®README.mdä¸­å«æœ‰keyWord in:description keyWordï¼šé¡¹ç›®æè¿°ä¸­å«æœ‰keyWord stars:&gt;Nï¼šæ˜Ÿæ˜Ÿæ•°é‡å¤§äºN language:Golangï¼šè¯­è¨€é™å®šä¸ºGolangè¯­è¨€ pushed:&gt;2019-06-06ï¼šæœ€åä¸€æ¬¡æäº¤æ—¶é—´æ™šäº2019-06-06 æ¯”å¦‚æˆ‘æƒ³æœç´¢Golangè¯­è¨€å¾®æœåŠ¡é¡¹ç›®ï¼Œæœ€åä¸€æ¬¡æäº¤æ—¶é—´è¦æ™šäº2019-06-06ï¼Œæ˜Ÿæ˜Ÿæ•°é‡å¤§äº1000ä¸ªï¼šin:description å¾®æœåŠ¡ language:go pushed:&gt;2019-06-06 stars:&gt;1000","categories":[{"name":"GitHub","slug":"GitHub","permalink":"/categories/GitHub/"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"/tags/GitHub/"},{"name":"Git","slug":"Git","permalink":"/tags/Git/"},{"name":"Go","slug":"Go","permalink":"/tags/Go/"}],"keywords":[{"name":"GitHub","slug":"GitHub","permalink":"/categories/GitHub/"}]},{"title":"Goè¯­è¨€å¹¶å‘ç¼–ç¨‹","slug":"goroutine","date":"2019-11-22T14:48:10.000Z","updated":"2019-12-14T02:57:31.210Z","comments":true,"path":"goroutine/","link":"","permalink":"/goroutine/","excerpt":"","text":"Goè¯­è¨€å¹¶å‘ç¼–ç¨‹ é‡‡ç”¨CSPï¼ˆCommunication Sequential Processï¼‰æ¨¡å‹ ç¼–ç¨‹æ—¶ä¸éœ€è¦é”ï¼Œä¸éœ€è¦callback é€‚åˆåˆ†å¸ƒå¼ ï¼ˆã€‡ï¼‰Goè¿è¡Œæ—¶è°ƒåº¦æœºåˆ¶ ï¼ˆä¸€ï¼‰å¹¶å‘ç‰ˆHello World Goå¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒå°±æ˜¯goå’Œchanï¼Œä¹Ÿå³Goroutineå’Œé€šé“ã€‚ åˆ›å»ºhelloworldconcç›®å½•ï¼Œåˆ›å»ºconc.goï¼š package main //Goè¯­è¨€ä¸­packageåçš„ç›®å½•åå¯ä»¥å’Œå®é™…ç›®å½•ä¸ä¸€è‡´ï¼Œmainè¡¨æ˜è¯¥æ–‡ä»¶æ˜¯ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ import( &quot;fmt&quot; ) func main() { //:=å˜é‡å£°æ˜ï¼Œå¹¶èµ‹åˆå€¼ ch := make(chan string) //å®šä¹‰ç®¡é“ for i := 0; i &lt; 5; i++ { //é€šè¿‡goå…³é”®å­—å¯ä»¥å¼€å¯ä¸€ä¸ªGoroutine go printHelloWorld(i, ch) } //ä»é€šé“è·å–æ¶ˆæ¯ for { msg := &lt;- ch fmt.Println(msg) } } func printHelloWorld(i int, ch chan string) { for { //å¦‚æœä½¿ç”¨äº†åƒ%dä¸€æ ·çš„formatå‚æ•°ï¼Œå°±éœ€è¦ç”¨åˆ°Printfï¼Œä¸èƒ½ç”¨Println ch &lt;- fmt.Sprintf(&quot;Hello World from Goroutine %d\\n&quot;, i) //å°†å­—ç¬¦ä¸²é€å…¥ç®¡é“ } } go run conc.goï¼Œä¸æ–­å¾ªç¯è¾“å‡ºï¼š Hello World from Goroutine 3 Hello World from Goroutine 4 Hello World from Goroutine 1 Hello World from Goroutine 2 Hello World from Goroutine 0 ï¼ˆäºŒï¼‰å¹¶è¡Œè®¡ç®— æ–°å»ºç›®å½•pipeline åˆ›å»ºnodes.goï¼Œä¸åŒ…æ‹¬mainå‡½æ•°ï¼š package pipeline import &quot;sort&quot; ///...è¡¨ç¤ºå¯å˜é•¿å‚æ•° //&lt;-è¡¨æ˜è¿™ä¸ªè¿”å›çš„é€šé“æ˜¯åªå‡ºä¸è¿›çš„ func ArraySource(a ...int) &lt;-chan int { //åˆ›å»ºé€šé“ out := make(chan int) //åˆ›å»ºGoroutineï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ è¾“é€åˆ°é€šé“ go func() { for _, v := range a { out &lt;- v } //å…³é—­é€šé“ close(out) }() return out } //æ’åºå•ä¸ªé€šé“ func InMemSort(in &lt;-chan int) &lt;-chan int { out := make(chan int) go func() { a := []int{} //å°†è¾“å…¥é€šé“ä¸­çš„æ•°æ®åŠ å…¥åˆ‡ç‰‡ä¸­ for v := range in { a = append(a, v) } //æ’åº sort.Ints(a) //è¾“å‡º for _, v := range a { out &lt;- v } //å…³é—­é€šé“ close(out) }() return out } //å½’å¹¶ func Merge(in1, in2 &lt;-chan int) &lt;-chan int { out := make(chan int) go func() { v1, ok1 := &lt;-in1 v2, ok2 := &lt;-in2 for ok1 || ok2 { if !ok2 || (ok1 &amp;&amp; v1 &lt;= v2) { out &lt;- v1 v1, ok1 = &lt;-in1 } else { out &lt;- v2 v2, ok2 = &lt;-in2 } } close(out) }() return out } åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶main.goï¼š package main func main() { p := pipeline.Merge( pipeline.InMemSort(pipeline.ArraySource(3, 2, 6, 7, 4)), pipeline.InMemSort(pipeline.ArraySource(7, 4, 0, 3, 2, 8, 13))) for { //é€šè¿‡ifå­å¥ï¼Œä»é€šé“è·å–æ•°ç»„å…ƒç´  if num, ok := &lt;- p; ok { fmt.Println(num) } else { break } //ç­‰ä»·äºï¼š // for v := range p { // fmt.Println(v) // } } } è¾“å‡ºï¼š 0 2 2 3 3 4 4 6 7 7 8 13","categories":[{"name":"Go","slug":"Go","permalink":"/categories/Go/"}],"tags":[{"name":"Go","slug":"Go","permalink":"/tags/Go/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"/tags/é«˜å¹¶å‘/"},{"name":"Goroutine","slug":"Goroutine","permalink":"/tags/Goroutine/"},{"name":"OS","slug":"OS","permalink":"/tags/OS/"}],"keywords":[{"name":"Go","slug":"Go","permalink":"/categories/Go/"}]},{"title":"Goè¯­è¨€å…¥é—¨","slug":"go","date":"2019-11-20T15:03:51.000Z","updated":"2019-12-14T02:57:23.259Z","comments":true,"path":"go/","link":"","permalink":"/go/","excerpt":"","text":"Goè¯­è¨€å…¥é—¨å¤šå­¦ä¸€é—¨è¯­è¨€å¤šæ¡è·¯å§ï¼ŒC/C++æ˜“å­¦éš¾ç²¾ï¼ŒGoè¯­è¨€åŸç”Ÿæ”¯æŒå¹¶å‘ç¼–ç¨‹ï¼Œç°åœ¨åœ¨å¾®æœåŠ¡æœåŠ¡ç«¯ç¼–ç¨‹ä¸­ä¹Ÿè¶Šæ¥è¶Šå¸¸ç”¨äº†ï¼Œæˆ–è®¸èƒ½ç»™åªä¼šJavaçš„æˆ‘æä¾›ä¸€ä¸ªåŠ å…¥é¹…å‚çš„æœºä¼šä¹Ÿè¯´ä¸å‡†å‘¢~PSï¼šPornHubåç«¯ä¹Ÿæ˜¯ç”¨çš„Goï¼Œä½ æ‡‚æˆ‘çš„æ„æ€å§ã€‚ å‚è€ƒï¼šhttps://howistart.org/posts/go/1/ Goè¯­è¨€åº”ç”¨ï¼š Docker é™æ€åšå®¢æ¡†æ¶ï¼šHugo ï¼ˆã€‡ï¼‰Goè¯­è¨€ç‰¹ç‚¹ å¼ºç±»å‹è¯­è¨€ï¼Œé™æ€ç¼–è¯‘ï¼Œä¸éœ€è¦è¿è¡Œæ—¶è¿›è¡Œç±»å‹æ¨å¯¼ï¼Œæ‰€ä»¥é€Ÿåº¦æ¯”è§£é‡Šå‹è¯­è¨€ï¼ˆå¦‚pythonã€phpâ€¦ï¼‰å¿« å­˜åœ¨GCï¼Œä¸éœ€è¦ç¨‹åºå‘˜è¿›è¡Œå†…å­˜å›æ”¶ å­˜åœ¨æœªå¼•ç”¨å˜é‡å’Œæœªå¼•ç”¨åŒ…æ—¶ä¼šæŠ¥é”™ Goè¯­è¨€æ‰€æœ‰ç¼–ç éƒ½æ˜¯UTF-8ï¼Œä¸éœ€è¦é¢å¤–æŒ‡å®šç¼–ç ç±»å‹ ï¼ˆä¸€ï¼‰ç¯å¢ƒæ­å»º ä¸‹è½½å¹¶å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„Goè¯­è¨€åŒ… æŸ¥çœ‹ç‰ˆæœ¬ï¼šgo version æŸ¥çœ‹ç¯å¢ƒï¼šgo env å…¶ä¸­GOROOT=&quot;/usr/local/go&quot;ç†Ÿæ‚‰å°±æ˜¯å®‰è£…ç›®å½•ã€‚è€ŒGOPATHå±æ€§å¯¹åº”çš„å°±æ˜¯Goçš„é¡¹ç›®å·¥ä½œç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹ä¼šæœ‰binã€pkgã€srcä¸‰ä¸ªå­ç›®å½•ã€‚binï¼šGoç¼–è¯‘å¥½çš„å¯è¿è¡Œç¨‹åºå­˜æ”¾åœ°å€ï¼›pkgï¼šGoåº“æºç æ–‡ä»¶ï¼›srcï¼šGoå‘½ä»¤æºç æ–‡ä»¶ã€ç¬¬ä¸‰æ–¹ç±»åº“å­˜æ”¾åœ°å€ï¼Œç›¸å½“äºæ ¹ç›®å½•ï¼Œå»ºè®®å°†ä»£ç æ”¾åœ¨srcç›®å½•ä¸‹ åœ¨ç”¨æˆ·ç›®å½•ä¸‹é™¤äº†GOROOTæ–‡ä»¶å¤¹å¤–çš„åœ°æ–¹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä½œä¸ºGOPATHçš„å€¼ï¼Œæ¯”å¦‚æˆ‘æ˜¯/Users/dragonbaby308/goï¼Œå¹¶åˆ›å»ºbinã€pkgã€srcä¸‰ä¸ªå­ç›®å½• vim ~/.bash_profileï¼ŒåŠ ï¼š GOROOT=/usr/local/go export GOROOT export GOPATH=/Users/dragonbaby308/go export GOBIN=$GOPATH/bin export PATH=$PATH:$GOBIN:$GOROOT/bin source ~/.bash_profileä½¿ä¹‹ç”Ÿæ•ˆ ç¼–è¾‘å™¨ GoLandï¼šJetBrainsæ——ä¸‹äº§å“ï¼Œä½“éªŒè‡ªç„¶æ²¡å¾—è¯´ Sublime Textå®‰è£…GoSublimeæ’ä»¶ ä½ è¦æ˜¯å¤Ÿç‰›é€¼ï¼Œç›´æ¥ç”¨vimå¾ˆç‚«é…·ï¼Œ10ä¸ªçœ‹äº†9ä¸ªéƒ½ä¼šä½©æœ ï¼ˆäºŒï¼‰æºç æ–‡ä»¶Goè¯­è¨€æºç æ–‡ä»¶åç§°éƒ½æ˜¯ä»¥.goä¸ºåç¼€ï¼Œå†…å®¹ä»¥Goè¯­è¨€ä»£ç ç»„ç»‡çš„æ–‡ä»¶ã€‚ åˆ†ç±» å‘½ä»¤æºç æ–‡ä»¶ï¼šå£°æ˜è‡ªå·±å±äºmainä»£ç åŒ…ï¼ŒåŒ…å«æ— å‚æ•°å£°æ˜å’Œç»“æœå£°æ˜çš„mainå‡½æ•°ï¼Œæ˜¯Goè¯­è¨€ç¨‹åºçš„å…¥å£ï¼› æ¯ä¸ªç¨‹åºåªèƒ½æœ‰ä¸€ä¸ªmainåŒ…ï¼Œåªæœ‰å£°æ˜äº†package mainçš„æ‰æ˜¯å‘½ä»¤æºç æ–‡ä»¶ï¼Œä¸€ä¸ªç¨‹åºåªå…è®¸ä¸€ä¸ªmain()ã€‚ åº“æºç æ–‡ä»¶ é™¤äº†mainçš„å…¶ä»–packageä¸‹çš„éƒ½æ˜¯åº“æºç æ–‡ä»¶ï¼Œç¼–è¯‘åä¼šåœ¨pkgç›®å½•ä¸‹ç”Ÿæˆ.aé™æ€åº“æ–‡ä»¶ã€‚ æµ‹è¯•æºç æ–‡ä»¶ï¼šåç§°ä»¥_test.goä¸ºåç¼€ï¼Œå…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‡½æ•°åç§°ä»¥Test/Benchmarkä¸ºå‰ç¼€ï¼Œä¸”è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªç±»å‹ä¸º*testing.T/*testing.Bçš„å‚æ•°ã€‚ Testï¼šåŠŸèƒ½æµ‹è¯•ï¼›Benchmarkï¼šæ€§èƒ½ï¼ˆåŸºå‡†ï¼‰æµ‹è¯• å•å…ƒæµ‹è¯•å°Demo æ–°å»ºteståŒ…ï¼Œåˆ›å»ºcalc.goï¼š package main func add(a, b int) int { return a + b } åŒç›®å½•ä¸‹åˆ›å»ºcalc_test.goï¼š åç§°ä»¥_test.goä¸ºåç¼€ï¼Œå…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‡½æ•°åç§°ä»¥Test/Benchmarkä¸ºå‰ç¼€ï¼Œä¸”è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªç±»å‹ä¸º*testing.T/*testing.Bçš„å‚æ•° package main func TestAdd(t *testing.T) { r := add(2, 4) if r != 6 { t.Fatalf(&quot;add(2, 4) error, expect: %d, actual: %d&quot;, 6, r) } t.Logf(&quot;test add() success!&quot;) } è¿è¡Œcalc_test.goï¼Œæˆ–è€…åœ¨testç›®å½•ä¸‹æ‰§è¡Œgo test -vï¼š ï¼ˆä¸‰ï¼‰åŸºç¡€å‘½ä»¤ Goè¯­è¨€çš„å‘½ä»¤å’ŒNPMå¾ˆç›¸ä¼¼ã€‚ 1.go runï¼šè¿è¡Œ go runç”¨äºè¿è¡Œæºç æ–‡ä»¶ åªèƒ½æ¥å—ä¸€ä¸ªå‘½ä»¤æºç æ–‡ä»¶ä»¥åŠè‹¥å¹²ä¸ªåº“æºç æ–‡ä»¶ä½œä¸ºæ–‡ä»¶å‚æ•° æ‰§è¡Œgo runä¼šå…ˆç¼–è¯‘æºç æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹ï¼Œç„¶åå†è¿è¡Œå‘½ä»¤æºç æ–‡ä»¶ç¼–è¯‘å¾—åˆ°çš„å¯æ‰§è¡Œæ–‡ä»¶ã€åº“æºç æ–‡ä»¶ç¼–è¯‘å¾—åˆ°çš„å½’æ¡£æ–‡ä»¶ å¦‚æœgo runä¸åŠ -workå‚æ•°ï¼Œä¼šåœ¨å‘½ä»¤æ‰§è¡Œå®Œä¹‹å‰åˆ é™¤ä¸´æ—¶æ–‡ä»¶å¤¹ å‚æ•° -aï¼šå¼ºåˆ¶ç¼–è¯‘ç›¸å…³ä»£ç ï¼Œä¸è®ºå…¶ç¼–è¯‘ç»“æœæ˜¯å¦å·²ç»æ˜¯æœ€æ–°ï¼› -nï¼šæ‰“å°ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰€éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œä½†æ˜¯ä¸çœŸæ­£æ‰§è¡Œï¼› -xï¼šæ‰“å°ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰€éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¹¶ä¸”çœŸæ­£æ‰§è¡Œï¼› -p nï¼šå¹¶è¡Œç¼–è¯‘ï¼Œå…¶ä¸­nä¸ºå¹¶è¡Œçš„æ•°é‡ï¼› -vï¼šåˆ—å‡ºè¢«ç¼–è¯‘çš„ä»£ç åŒ…çš„åç§°ï¼› -a -vï¼šåˆ—å‡ºæ‰€æœ‰ï¼ˆä¸å«æ ‡å‡†åº“ï¼‰è¢«ç¼–è¯‘çš„ä»£ç åŒ…çš„åç§° -workï¼šæ˜¾ç¤ºç¼–è¯‘æ—¶åˆ›å»ºçš„ä¸´æ—¶å·¥ä½œç›®å½•çš„è·¯å¾„ï¼Œå¹¶ä¸”åœ¨å‘½ä»¤æ‰§è¡Œå®Œåä¸åˆ é™¤ä¸´æ—¶å·¥ä½œç›®å½•ï¼› 2.go buildï¼šç¼–è¯‘ ç¼–è¯‘.goå‘½ä»¤æºç æ–‡ä»¶ï¼Œåœ¨ç›¸åŒç›®å½•ä¸‹å¾—åˆ°ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚ go buildä¸åŠ å‚æ•°ï¼Œä¼šå°†å½“å‰ç›®å½•å½“ä½œä»£ç åŒ…è¿›è¡Œç¼–è¯‘ã€‚ å‚æ•° -raceï¼šå¦‚æœå­˜åœ¨èµ„æºç«äº‰ï¼Œè¿è¡Œæ—¶ä¼šæ‰“å°åœ¨æ§åˆ¶å° 3.go installï¼šç¼–è¯‘å¹¶å®‰è£… go installä¸åŠ å‚æ•°ï¼Œä¼šå°†å½“å‰ç›®å½•å½“ä½œä»£ç åŒ…è¿›è¡Œç¼–è¯‘å®‰è£…ã€‚ 4.go getï¼šä»è¿œç¨‹ä»“åº“ä¸‹è½½å¹¶å®‰è£…ä»è¿œç¨‹ä»“åº“ï¼ˆGitHub/GitLab/Gogsï¼‰ä¸‹è½½å¹¶å®‰è£…ä»£ç åŒ… å‚æ•° -dï¼šåªæ‰§è¡Œä¸‹è½½åŠ¨ä½œï¼Œè€Œä¸æ‰§è¡Œå®‰è£…æ“ä½œï¼› -fixï¼šåœ¨ä¸‹è½½ä»£ç åŒ…åå…ˆæ‰§è¡Œä¿®æ­£æ“ä½œï¼Œè€Œåå†è¿›è¡Œç¼–è¯‘å’Œå®‰è£…ï¼› -nï¼šåˆ©ç”¨ç½‘ç»œæ¥æ›´æ–°å·²æœ‰çš„ä»£ç åŒ…åŠå…¶ä¾èµ–åŒ… -xï¼šæ‰“å°ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰€éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¹¶ä¸”çœŸæ­£æ‰§è¡Œï¼› 5.dsï¼šæŸ¥çœ‹ç›®å½•ç»“æ„ ds for directory structure 6.go testï¼šå•å…ƒæµ‹è¯•å‚æ•° -vï¼šæ‰“å°è¯¦ç»†ä¿¡æ¯ ï¼ˆå››ï¼‰æ•°æ®ç±»å‹1.å…³é”®å­— packageï¼šå£°æ˜ä»£ç åŒ… importï¼šå¯¼å…¥ä»£ç åŒ… é€šè¿‡import _ &quot;packagePath&quot;å¯ä»¥åœ¨å¯¼åŒ…æ—¶è°ƒç”¨å¯¹åº”åŒ…çš„init()æ–¹æ³•ï¼æ¯ä¸ªåŒ…éƒ½å¯ä»¥æœ‰è‡ªå·±çš„init()æ–¹æ³•ï¼Œåœ¨å…¶ä¸­å¯ä»¥å†™ä¸€äº›åˆå§‹åŒ–èµ„æºçš„é»˜è®¤æ–¹æ³•ã€‚ funcï¼šå£°æ˜å‡½æ•° varï¼šå£°æ˜å˜é‡ constï¼šå£°æ˜å¸¸é‡ mapï¼šå£°æ˜K/Vå¯¹å­—å…¸ chanï¼šå£°æ˜é€šé“ typeï¼šå®šä¹‰æ•°æ®ç±»å‹ structï¼šå®šä¹‰ç»“æ„ä½“ interfaceï¼šå®šä¹‰æ¥å£ goï¼šé€šè¿‡goå…³é”®å­—å¯ä»¥å¼€å¯ä¸€ä¸ªGoroutine Goroutineçš„æœ¬è´¨æ˜¯åç¨‹ï¼Œä½ å¯ä»¥ç†è§£ä¸ºè½»é‡çº§çš„çº¿ç¨‹ï¼Œå¾ˆå¤šä¸ªGoroutineå¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ªç‰©ç†çº¿ç¨‹ä¸Šã€‚ ç¨‹åºæµæ§ï¼šselect/break/case/continue/default/defer/else/fallthrough/for/goto/if/range/return/switch package main import ( &quot;fmt&quot; ) func main() { fmt.Println(&quot;Hello World!&quot;) } 2.å˜é‡var &amp; å¸¸é‡const å˜é‡å¯ä»¥åªå£°æ˜ä¸èµ‹å€¼ï¼Œå¸¸é‡å£°æ˜äº†å°±ä¸€å®šè¦èµ‹å€¼Goè¯­è¨€éå¸¸ä¸¥æ ¼ï¼šå£°æ˜äº†å˜é‡å°±ä¸€å®šè¦ä½¿ç”¨ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ å•è¡Œèµ‹å€¼ï¼šå…³é”®å­— åç§° ç±»å‹ ( = å€¼)/ åç§° := (å€¼) var var1 int = 1 var var0 //å˜é‡å¯ä»¥åªå£°æ˜ä¸èµ‹å€¼ shortVar := (577) //çŸ­å˜é‡å£°æ˜ï¼Œå¯ä»¥è¿›è¡Œç±»å‹æ¨æ–­ const cosnt1 int = 1 å¹³è¡Œèµ‹å€¼ var var2, var3 int = 2, 3 const const2, const3 int = 2, 3 å¤šè¡Œèµ‹å€¼ var ( var4 int = 4 var5 int = 5 ) const ( const4 int = 4 const5 int = 5 ) 3.æ•°ç»„ï¼ˆ1ï¼‰æ•°ç»„çš„å£°æ˜//å£°æ˜é•¿åº¦ä¸º3çš„æ•°ç»„ type Number1 [3]int var numbers2 [3]int //ä¸èµ‹å€¼æ—¶æ•°ç»„åˆå§‹å€¼é»˜è®¤ä¸º0ï¼Œå³ï¼š[3]int{0, 0, 0} ï¼ˆ2ï¼‰æ•°ç»„çš„èµ‹å€¼//å£°æ˜å®šé•¿æ•°ç»„æ—¶èµ‹å€¼ var numbers3 [3]int{1, 2, 3} //å£°æ˜ä¸å®šé•¿æ•°ç»„æ—¶èµ‹å€¼ var numbers4 [...]int{1, 2, 3} ï¼ˆ3ï¼‰è·å–æ•°ç»„å…ƒç´  &amp; æ•°ç»„é•¿åº¦ï¼ˆlen()ï¼‰//é€šè¿‡ä¸‹æ ‡è·å–æ•°ç»„å…ƒç´ ï¼Œä»0å¼€å§‹ numbers3[0] = 4 //æ•°ç»„é•¿åº¦ var length = len(numbers3) 4.åˆ‡ç‰‡ï¼ˆä¸å«é•¿åº¦çš„æ•°ç»„ï¼‰ï¼ˆ1ï¼‰åˆ‡ç‰‡çš„å£°æ˜ å£°æ˜ï¼štype MySlice []int å¼€è¾Ÿç©ºé—´ï¼šmake([]T, length)ï¼Œå…¶ä¸­lengthä¸ºåˆ‡ç‰‡é•¿åº¦ //å®šä¹‰é•¿åº¦ä¸º100çš„intç±»å‹çš„åˆ‡ç‰‡ type nums []int = make([]int, 100) //å¯ä»¥ç®€åŒ–ä¸º nums := make([]int, 100) slice := []int{}å®šä¹‰çš„æ˜¯ä¸€ä¸ªç©ºåˆ‡ç‰‡ï¼Œå¹¶ä¸æ˜¯ä¸ºåˆ‡ç‰‡å¼€è¾Ÿç©ºé—´ï¼ï¼ï¼ GolangäºŒç»´åˆ‡ç‰‡èµ‹å€¼æ˜¯çœŸTMDåäººç±»(ï¿£_ï¿£|||) ï¼ˆ2ï¼‰ä»æ•°ç»„è·å–åˆ‡ç‰‡var sliceName = arrayName[sIndex, eIndex]ï¼šè·å¾—çš„åˆ‡ç‰‡æ˜¯å¯¹åº”æ•°ç»„çš„ä¸€ä¸ª[sIndex, eIndex)çš„å­æ•°ç»„ï¼ˆä¸åŒ…å«ç»“æŸä½ç½®å…ƒç´ ï¼‰ //æ•°ç»„ var numbers = [5]int{1, 2, 3, 4, 5} //é€šè¿‡åˆ‡ç‰‡è¡¨è¾¾å¼è·å–åˆ‡ç‰‡ var slice1 = numbers[1:4] //ç›¸å½“äº[3]int{2, 3, 4} //è·å–åˆ‡ç‰‡çš„åˆ‡ç‰‡ var slice2 = slice1[1:3] //ç›¸å½“äº[2]int{3, 4} ï¼ˆ3ï¼‰ä»åˆ‡ç‰‡è·å–å­åˆ‡ç‰‡sub1 := slice[i:j] //iåˆ°jï¼Œä¸åŒ…æ‹¬j sub2 := slice[i:] //iåˆ°å°¾éƒ¨ sub3 := slice[:j] //å¤´éƒ¨åˆ°jï¼Œä¸åŒ…æ‹¬j sub4 := slice[:] //ç›¸å½“äºå¤åˆ¶æ•´ä¸ªåˆ‡ç‰‡ ï¼ˆ4ï¼‰åˆ‡ç‰‡çš„é•¿åº¦ &amp; å®¹é‡ï¼ˆcap()ï¼‰ åˆ‡ç‰‡çš„é•¿åº¦ï¼šeIndex - sIndex åˆ‡ç‰‡çš„å®¹é‡ï¼šlen - sIndexï¼Œå…¶ä¸­lenæ˜¯åˆ‡ç‰‡æ¥æºæ•°ç»„çš„é•¿åº¦ æœªèµ‹å€¼çš„åˆ‡ç‰‡é»˜è®¤å®¹é‡ä¸ºnil //capacity = len - 1 //lenä¸ºæ¥æºæ•°ç»„é•¿åº¦ï¼Œå¯¹äºåˆ‡ç‰‡çš„å­åˆ‡ç‰‡æ¥è¯´ï¼Œæ˜¯å…¶çˆ¶åˆ‡ç‰‡çš„å®¹é‡ï¼Œå³cap(slice1) //cap(slice1) = len(numbers) - 1 = 4 //capacity = cap(slice1) - 1 = 3 var capacity int = cap(slice2) //å€¼ä¸º3 ï¼ˆ5ï¼‰æ·»åŠ å…ƒç´ ï¼šappend() append(slice []Type, elems ...Type) []Type var numbers2 []int numbers2 = append(numbers2, 0) 5.å­—å…¸ Goè¯­è¨€çš„mapæ˜¯æ— åºçš„ï¼ä¸šåŠ¡å¦‚æœéœ€è¦æœ‰åºéœ€è¦è‡ªå·±å®ç° æ ¼å¼ï¼šmap[K]V mm := map[int]string{1:&quot;a&quot;, 2:&quot;b&quot;, 3:&quot;c&quot;} b := mm[2] //åˆ é™¤ï¼šæœ‰åˆ™åˆ é™¤ï¼Œæ²¡æœ‰åˆ™æ— è§† delete(mm, 4) //å¯¹äºå­—å…¸å€¼æ¥è¯´ï¼Œå¦‚æœå…¶ä¸­ä¸å­˜åœ¨ç´¢å¼•è¡¨è¾¾å¼æ¬²å–å‡ºçš„é”®å€¼å¯¹ï¼Œé‚£ä¹ˆå°±ä»¥å®ƒçš„å€¼ç±»å‹çš„ç©ºå€¼ï¼ˆæˆ–ç§°é»˜è®¤å€¼ï¼‰ä½œä¸ºè¯¥ç´¢å¼•è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœ e := mm[5] //eçš„å€¼ä¸€å®šæ˜¯ç©ºå­—ç¬¦ä¸²&quot;&quot;ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆçŸ¥é“å®ƒæ˜¯æœ¬æ¥å°±ä¸ºç©ºï¼Œè¿˜æ˜¯ä¸å­˜åœ¨è¯¥ç´¢å¼•å€¼å‘¢ï¼Ÿ //å­—å…¸çš„ç´¢å¼•è¡¨è¾¾å¼å¯ä»¥æœ‰ä¸¤ä¸ªç»“æœï¼Œç¬¬äºŒä¸ªç»“æœæ˜¯boolç±»å‹çš„ï¼Œè¡¨æ˜è¯¥é”®æ˜¯å¦å­˜åœ¨ e, ok := mm[5] //mapçš„valueå£°æ˜æˆç©ºæ¥å£ç±»å‹ï¼Œè¯´æ˜valueå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ var m map[string]interface{} //é€šè¿‡makeä¸ºmapåˆå§‹åŒ– m = make(map[string]interface{}) //èµ‹å€¼ m[&quot;username&quot;] = &quot;user2&quot; 6.é€šé“ã€Goå¹¶å‘ç¼–ç¨‹çš„åŸºç¡€ã€‘ å‚è€ƒã€ŠGoè¯­è¨€å¹¶å‘ç¼–ç¨‹ã€‹ é€šé“ï¼ˆChannelï¼‰çš„ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œç”¨äºåœ¨ä¸åŒGoroutineä¹‹é—´ä¼ é€’ç±»å‹åŒ–çš„æ•°æ®ï¼Œå¹¶ä¸”æ˜¯å¹¶å‘å®‰å…¨çš„ã€‚ Goroutineï¼ˆä¹Ÿç§°ä¸ºGoç¨‹åºï¼Œæœ¬è´¨ä¸Šæ˜¯åç¨‹ï¼‰å¯ä»¥è¢«çœ‹æˆæ˜¯æ‰¿è½½å¯è¢«å¹¶å‘æ‰§è¡Œçš„ä»£ç å—çš„è½½ä½“ï¼Œå®ƒä»¬ç”±Goè¯­è¨€çš„è¿è¡Œæ—¶ç³»ç»Ÿè°ƒåº¦ï¼Œå¹¶ä¸”ä¾æ‰˜äºæ“ä½œç³»ç»Ÿçº¿ç¨‹æ¥å¹¶å‘æ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚ å£°æ˜é€šé“ï¼šchan Tï¼Œå¦‚chan int èµ‹å€¼ï¼šmake(chan T, length)ï¼Œå…¶ä¸­lengthæ˜¯é€šé“çš„é•¿åº¦ï¼Œå¦‚make(chan int, 5) lengthå¯ä»¥çœç•¥ï¼Œå³make(chan T) æ¥æ”¶/å‘é€æ•°æ®ï¼š&lt;- å…³é—­é€šé“ï¼šclose() é‡å¤å…³é—­é€šé“/å‘å·²å…³é—­çš„é€šé“å‘é€æ•°æ®ï¼Œéƒ½ä¼šé€ æˆå¼‚å¸¸ï¼ //èµ‹å€¼ channel := make(chan string, 5) ch := make(chan int) //å‘é€æ•°æ®åˆ°é€šé“ channel &lt;- &quot;value1&quot; //ä»é€šé“æ¥æ”¶æ•°æ®ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯boolç±»å‹çš„ï¼Œtrueä»£è¡¨é€šé“å€¼æœ‰æ•ˆ value, ok := &lt;- channel //å…³é—­é€šé“ close(channel) 7.å‡½æ•° Goè¯­è¨€ä¸­å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥ä½œä¸ºå€¼æ¥ä¼ é€’å’Œä½¿ç”¨ï¼Œå‚è€ƒJava8ã€‚ Goè¯­è¨€ä¸­çš„å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªç»“æœã€‚ å‡½æ•°ç±»å‹å£°æ˜ï¼štype MyFunc func(å…¥å‚åˆ—è¡¨) (å‡ºå‚åˆ—è¡¨)ï¼Œå¦‚ï¼š //å¦‚æœå‡ºå‚åªæœ‰ä¸€ä¸ªï¼Œå¯ä»¥çœç•¥æ‹¬å· //å‡ºå‚ä¸­çš„å‚æ•°åç§°ä¹Ÿæ˜¯å¯ä»¥çœç•¥çš„ï¼Œåªä¿ç•™å‚æ•°ç±»å‹ type EmployeeIdGenerator func(company string, department string, number uint32) string å‡½æ•°å£°æ˜ï¼šfunc functionName(å…¥å‚åˆ—è¡¨) (å‡ºå‚åˆ—è¡¨){}ï¼Œå¦‚ï¼š //é»˜è®¤å…¬å¸åç§° var company = &quot;Tencent or PornHub&quot; //åºåˆ—å· var number uint32 func generateId(generator EmployeeIdGenerator, department string) (string, bool){ if generator == nil { return &quot;&quot;, false } //ä½¿ç”¨ä»£ç åŒ…sync/atomicä¸­æä¾›çš„åŸå­æ“ä½œï¼Œä¿è¯å¹¶å‘æ“ä½œå®‰å…¨æ€§ newNumber := atomic.AddUint32(&amp;number, 1) return generator(company, department, newNumber), true } å¯ä»¥ç®€å•åœ°è®¤ä¸ºï¼šå‡½æ•°åå¤§å†™æ˜¯publicå‡½æ•°ï¼Œå¯ä»¥åœ¨åŒ…å¤–è¢«è®¿é—®åˆ°ï¼›å‡½æ•°åå°å†™æ˜¯privateå‡½æ•°ï¼Œä¸èƒ½åœ¨åŒ…å¤–è¢«è®¿é—®åˆ° 8.ç»“æ„ä½“ å®šä¹‰ç»“æ„ä½“ï¼štpye StructName struct{è‹¥å¹²å­—æ®µå£°æ˜}ï¼› //å®šä¹‰ç»“æ„ä½“ type Person struct{ Name string Gender string Age uint8 } //åˆ›å»ºç»“æ„ä½“ Person{Name:&quot;Robert&quot;, Gender:&quot;Male&quot;, Age:30} //å¦‚æœé”®å€¼å¯¹çš„é¡ºåºä¸å…¶ç±»å‹ä¸­çš„å­—æ®µå£°æ˜å®Œå…¨ç›¸åŒçš„è¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»Ÿä¸€çœç•¥æ‰æ‰€æœ‰å­—æ®µçš„åç§° p := Person{&quot;Lee Tang&quot;, &quot;Male&quot;, 20} æ¯ä¸ªå­—æ®µå£°æ˜åå¯ä»¥å¸¦æ ‡ç­¾ï¼Œå‚è€ƒç¬¬å…­èŠ‚çš„Demo ç»“æ„ä½“çš„æ–¹æ³•func (person *Person) Grow() { person.Age++ } func (person *Person) Move(newAddress string) string { old := person.Address person.Address = newAddress return old } //è°ƒç”¨ç»“æ„ä½“çš„æ–¹æ³• p.Grow() //é€šè¿‡æŒ‡é’ˆåˆ›å»ºç»“æ„ä½“ person := &amp;Person{ Name: &quot;é˜¿é‡Œ&quot;, Gender: &quot;ç”·&quot;, Age: 20, } 9.æ¥å£ å®šä¹‰æ¥å£ï¼štpye InterfaceName interface{è‹¥å¹²æ–¹æ³•å£°æ˜}ï¼› type Animal interface{ Grow() Move(string) string } å¦‚æœä¸€ä¸ªæ•°æ®ç±»å‹æ‰€æ‹¥æœ‰çš„æ–¹æ³•é›†åˆä¸­åŒ…å«äº†æŸä¸€ä¸ªæ¥å£ç±»å‹ä¸­çš„æ‰€æœ‰æ–¹æ³•å£°æ˜çš„å®ç°ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¯´è¿™ä¸ªæ•°æ®ç±»å‹å®ç°äº†é‚£ä¸ªæ¥å£ç±»å‹ã€‚ //builtin.goä¸­çš„erroræ¥å£ type error interface { Error() string } //å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ type PathError struct{ path string op string time string msg string } //ä½¿ç”¨è¯¥ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œå®ç°æŸä¸ªæ¥å£çš„å…¨éƒ¨æ–¹æ³•ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯å®ç°äº†è¯¥æ¥å£ func (p *PathError) Error() string { return fmt.Sprintf(&quot;è‡ªå®šä¹‰å¼‚å¸¸ï¼š\\n path=%s\\n op=%s\\n time=%s\\n msg=%s\\n&quot;, p.path, p.op, p.time, p.msg) } å¦‚æœæƒ³è®©ä¸€ä¸ªæ–¹æ³•èƒ½å¤Ÿæ¥æ”¶/è¿”å›ä»»ä½•ç±»å‹çš„å‚æ•°ï¼Œå°±å°†å‚æ•°å£°æ˜ä¸ºç©ºæ¥å£ï¼šv interface{} â€”â€” å› ä¸ºä»»ä½•ç±»å‹éƒ½å¯ä»¥æ˜¯ç©ºæ¥å£ 10.æŒ‡é’ˆ &amp;ï¼šå–å€ï¼Œå½“&amp;åº”ç”¨åˆ°ä¸€ä¸ªå€¼ä¸Šä¼šå–å‡ºæŒ‡å‘è¯¥å€¼çš„æŒ‡é’ˆå€¼ å‡¡æ˜¯éœ€è¦æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€çš„ï¼Œéƒ½éœ€è¦ä½¿ç”¨&amp;å–å€ã€‚æ¯”å¦‚è¯´ï¼Œæ”¹å˜ä¸€ä¸ªmapä¸­æŸä¸ªkeyçš„valueä¸éœ€è¦&amp;ï¼Œä½†æ˜¯ååºåˆ—åŒ–æ—¶ä¸ºä¸€ä¸ªæ–°çš„mapåˆ†é…å†…å­˜ç©ºé—´å°±éœ€è¦ç”¨åˆ°&amp;å–å€ï¼Œè§ï¼ˆä¸ƒï¼‰-3-ï¼ˆ2ï¼‰-â‘ ~â‘¢ *ï¼šå–å€¼ï¼Œå½“*åº”ç”¨åˆ°ä¸€ä¸ªæŒ‡é’ˆå€¼ä¸Šä¼šå–å‡ºè¯¥æŒ‡é’ˆæŒ‡å‘çš„å€¼ 11.é”™è¯¯ï¼ˆ1ï¼‰erré”™è¯¯ä¸€èˆ¬æ¥è¯´å¯èƒ½è¿”å›é”™è¯¯çš„å‡½æ•°ï¼Œé€šè¿‡ä¸€ä¸ªerrå¯¹è±¡æ¥æ”¶åç›´æ¥æ‰“å°æˆ–ä½¿ç”¨å³å¯ã€‚ ï¼ˆ2ï¼‰ç®€å•å­—ç¬¦ä¸²é”™è¯¯é¦–å…ˆçœ‹ä¸‹Goè¯­è¨€ä¸­ç®€å•å­—ç¬¦ä¸²é”™è¯¯çš„ç±»åº“errors.goæºç ï¼š package errors func New(text string) error { //è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ç»“æ„ä½“ï¼Œä½¿ç”¨çš„æ˜¯ä¼ å…¥çš„å­—ç¬¦ä¸² return &amp;errorString{text} } //é”™è¯¯ä¿¡æ¯ç»“æ„ä½“ï¼ŒåªåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸² type errorString struct{ s string } æ‰€ä»¥è¯´æƒ³è¦è‡ªå®šä¹‰ç®€å•å­—ç¬¦ä¸²é”™è¯¯ï¼Œä½¿ç”¨errors.New(text string)å³å¯ï¼š err1 := errors.New(&quot;ç®€å•å­—ç¬¦ä¸²é”™è¯¯&quot;) fmt.Println(err1) //è¾“å‡ºï¼š //ç®€å•å­—ç¬¦ä¸²é”™è¯¯ ï¼ˆ3ï¼‰æ¥å£é”™è¯¯builtin.goç±»åº“ä¸‹å­˜åœ¨erroræ¥å£ï¼Œæºç å¦‚ä¸‹ï¼š package builtin type error interface{ Error() string } é€šè¿‡å®ç°erroræ¥å£å³å¯å®ç°è‡ªå®šä¹‰æ¥å£é”™è¯¯ï¼Œåœ¨Goä¸­ï¼Œå®ç°äº†ä¸€ä¸ªæ¥å£çš„å…¨éƒ¨æ–¹æ³•å°±å¯ä»¥è®¤ä¸ºæ˜¯å®ç°äº†è¯¥æ¥å£ï¼š //å®šä¹‰ç»“æ„ä½“ type PathError struct { path string op string time string msg string } //å®ç°erroræ¥å£ func (p *PathError) Error() string { return fmt.Sprintf(&quot;è‡ªå®šä¹‰é”™è¯¯ï¼š\\n path=%s\\n op=%s\\n time=%s\\n msg=%s\\n&quot;, p.path, p.op, p.time, p.msg) } //OpenFileå‡½æ•°ï¼Œå¼‚å¸¸æ—¶è¿”å›ä¸€ä¸ªPathErrorç»“æ„ä½“ï¼Œå®ç°äº†erroræ¥å£ func OpenFile(filePath string) error { file, err := os.Open(filePath) if err != nil { return &amp;PathError{ path: filePath, op: &quot;read&quot;, time: time.Now().String(), msg: err.Error(), } } defer file.Close() return nil } func main() { err2 := OpenFile(&quot;C:/faaaaaa/gaaaaa/donotexistfile.txt&quot;) if err2 != nil { fmt.Println(err2) } } //è¾“å‡ºï¼š // è‡ªå®šä¹‰é”™è¯¯ï¼š // path=C:/faaaaaa/gaaaaa/donotexistfile.txt // op=read // time=2019-12-03 15:28:14.7397259 +0800 CST m=+0.001979701 // msg=open C:/faaaaaa/gaaaaa/donotexistfile.txt: The system cannot find the path specified. switchåˆ¤æ–­é”™è¯¯ç±»å‹switch v := err.(type) { case *PathError: fmt.Println(&quot;PathErrorï¼š&quot;, v) default: fmt.Println(v) } 12.å¼‚å¸¸panic() &amp; æ•è·recover()package main import &quot;fmt&quot; func main() { fmt.Println(&quot;å‘ç”Ÿå¼‚å¸¸å‰&quot;) //å£°æ˜å¼‚å¸¸æ•è·æ–¹æ³• defer func() { if err := recover(); err != nil { fmt.Println(&quot;å¼‚å¸¸æ•è·ï¼š&quot;, err) } }() //å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³• Panic() fmt.Println(&quot;å‘ç”Ÿå¼‚å¸¸å&quot;) } //æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³• func Panic() { var x = 30 var y = 0 //è‡ªå®šä¹‰å¼‚å¸¸ panic(&quot;æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ï¼&quot;) var c = x / y fmt.Println(c) } //è¾“å‡ºï¼š // å‘ç”Ÿå¼‚å¸¸å‰ // å¼‚å¸¸æ•è·ï¼š æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ï¼ ï¼ˆäº”ï¼‰æµç¨‹æ§åˆ¶1.if//else if å’Œ elseå¯ä»¥æ²¡æœ‰ if 100 &gt; number { number += 3 } else if 100 &lt; number { number -= 2 } else { fmt.Println(&quot;100 hun!&quot;) } ifè¯­å¥çš„åˆå§‹åŒ–å­å¥ æˆ‘ä»¬å¯ä»¥åœ¨ifå­å¥ä¸­ä¸ºå˜é‡èµ‹å€¼ï¼Œä¸éœ€è¦å•ç‹¬èµ‹å€¼ åˆå§‹åŒ–å­å¥è¦æ”¾åœ¨ifå’Œ; æ¡ä»¶è¡¨è¾¾å¼ä¸­é—´ åˆå§‹åŒ–å­å¥ä¸­å®šä¹‰çš„å˜é‡åœ¨ifè¯­å¥å¤–æ˜¯ä¸å¯è§çš„ï¼Œé™¤éåœ¨ifè¯­å¥å¤–è¿›è¡Œäº†å£°æ˜ //numberçš„ä½œç”¨åŸŸåªåœ¨ifå†… if number := 4; 100 &gt; number { //... } 2.switchnames := []string{&quot;Golang&quot;, &quot;Java&quot;, &quot;Rust&quot;, &quot;C&quot;} //switchä¹Ÿå¯ä»¥æœ‰åˆå§‹åŒ–å­å¥ switch name := names[0]; name { case &quot;Golang&quot;: fmt.Println(&quot;Tencent/PornHub&quot;) case &quot;Java&quot;: fmt.Println(&quot;Alibaba&quot;) default: fmt.Println(&quot;å›å®¶å–‚çŒªæ˜¯ä¸€æ ·çš„&quot;) } 3.forfor i := 0; i &lt; 10; i++ { fmt.Print(i, &quot; &quot;) } //for-rangeè¯­å¥ for i, v := range &quot;fxxk&quot; { fmt.Printf(&quot;%d: %c\\n&quot;, i, v) } // 0: f // 1: x // 2: x // 3: k //Goè¯­è¨€ä¸­å£°æ˜äº†iå°±ä¸€å®šè¦ä½¿ç”¨ï¼Œå¦‚æœä¸æƒ³æ‰“å°ï¼Œå¯ä»¥ä½¿ç”¨_ä»£æ›¿ for _, v := range &quot;fxxk&quot; { fmt.Printf(&quot;%c\\n&quot;, v) } //f //x //x //k //æ­»å¾ªç¯ for { fmt.Println(&quot;æ­»å¾ªç¯&quot;) } 4.selectï¼šç”¨äºé€‰æ‹©ä¸åŒé€šé“æ¥æ”¶æ•°æ®ch1 := make(chan int, 1) ch2 := make(chan int, 1) select { case e1 := &lt;-ch1: fmt.Printf(&quot;1th case is selected. e1=%v.\\n&quot;, e1) case e2 := &lt;-ch2: fmt.Printf(&quot;2th case is selected. e2=%v.\\n&quot;, e2) default: fmt.Println(&quot;No data!&quot;) } 5.deferï¼šæ–¹æ³•ç»“æŸå‰æ‰§è¡Œfunc readFile(path string) ([]byte, error) { file, err := os.Open(path) if err != nil { return nil, err } //å…³é—­æ–‡ä»¶ defer file.Close() return ioutil.ReadAll(file) } ï¼ˆå…­ï¼‰ç½‘ç»œåº”ç”¨Demo å‚è€ƒã€ŠGoè¯­è¨€ç½‘ç»œç¼–ç¨‹ã€‹ åˆ›å»ºmain.go package main import ( &quot;net/http&quot; //ç”Ÿäº§çº§åˆ«çš„HTTPæœåŠ¡å™¨ï¼Œå…·å¤‡æŠµå¾¡å¸¸è§æ”»å‡»çš„èƒ½åŠ› &quot;encoding/json&quot; //JSONæ ¼å¼è§£æ &quot;strings&quot; //å¤„ç†å­—ç¬¦ä¸²çš„åº“ ) func main() { //è®©helloå‡½æ•°å¤„ç†æ¥è‡ª&quot;/hello&quot;çš„è¯·æ±‚ //æ¯å½“ä¸€ä¸ªæ–°è¯·æ±‚è¿›å…¥åˆ°ä¸è·¯å¾„åŒ¹é…çš„HTTPæœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨å°†ç”Ÿæˆä¸€ä¸ªæ‰§è¡Œhello()çš„æ–°goroutine http.HandleFunc(&quot;/hello&quot;, hello) //è®©weatherå‡½æ•°å¤„ç†æ¥è‡ª&quot;/weather&quot;çš„è¯·æ±‚ //æ¯å½“ä¸€ä¸ªæ–°è¯·æ±‚è¿›å…¥åˆ°ä¸è·¯å¾„åŒ¹é…çš„HTTPæœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨å°†ç”Ÿæˆä¸€ä¸ªæ‰§è¡Œweather()çš„æ–°goroutine //ä½¿ç”¨åŒ¿åå‡½æ•° http.HandleFunc(&quot;/weather/&quot;, func(w http.ResponseWriter, r *http.Request) { city := strings.SplitN(r.URL.Path, &quot;/&quot;, 3)[2] //Goä¸­çš„å‡½æ•°å¯ä»¥æ¥æ”¶ä¸¤ä¸ªè¿”å›å€¼ï¼Œä¸€èˆ¬éƒ½ä¼šé€šè¿‡erråˆ¤æ–­æ˜¯å¦å‘ç”Ÿå¼‚å¸¸ data, err := query(city) //å¼‚å¸¸å¤„ç† if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } //è®¾ç½®HTTPå“åº”å¤´ w.Header().Set(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;) //JSONæ ¼å¼åŒ– json.NewEncoder(w).Encode(data) }) //åœ¨8080ç«¯å£å¯åŠ¨æœåŠ¡å™¨ http.ListenAndServe(&quot;:8080&quot;, nil) } //helloå‡½æ•°ï¼Œç”¨äºå¤„ç†æ¥è‡ª&quot;/&quot;çš„è¯·æ±‚ //http.ResponseWriterï¼šç”¨äºå‘é€å“åº”æŠ¥æ–‡åˆ°å®¢æˆ·ç«¯ï¼Œå‚æ•°ä¸ºbyteç±»å‹çš„åˆ‡ç‰‡ func hello(w http.ResponseWriter, r *http.Request) { w.Write([]byte(&quot;hello!&quot;)) //å¦‚æœè§‰å¾—ä½¿ç”¨byteæ•°ç»„ä¸ç›´è§‚ï¼Œå¯ä»¥é€šè¿‡fmt.Fprintf()è¿›è¡Œè¾“å‡º //fmt.Fprintf(w, &quot;hello!&quot;) } //queryå‡½æ•° //å›å‚å¯ä»¥çœç•¥å‚æ•°åï¼Œåªä¿ç•™ç±»å‹ï¼ŒweatherDataæ˜¯ä¸€ä¸ªç»“æ„ä½“ç±»å‹ func query(city string) (weatherData, error) { //API_KEYéœ€è¦ç”³è¯· resp, err := http.Get(&quot;http://api.openweathermap.org/data/2.5/weather?APPID=YOUR_API_KEY&amp;q=&quot; + city) //å¼‚å¸¸å¤„ç† if err != nil { return weatherData{}, err } //å»¶è¿Ÿå¤„ç†å‡½æ•°ï¼Œç”¨äºå…³é—­èµ„æº defer resp.Body.Close() var d weatherData //ifåˆå§‹åŒ–å­å¥ï¼Œé€šè¿‡&amp;dæŒ‡é’ˆç»™ç»“æ„ä½“å¡å€¼ï¼Œerråªæœ‰å‘ç”Ÿäº†å¼‚å¸¸æ‰ä¼šæœ‰å€¼ if err := json.NewDecoder(resp.Body).Decode(&amp;d); err != nil { return weatherData{}, err } return d, nil } //å¤©æ°”æ•°æ®ç»“æ„ä½“ type weatherData struct { Name string `json:&quot;name&quot;` //åœ¨å­—æ®µååŠ æ ‡ç­¾ï¼Œæ–¹ä¾¿è¿›è¡ŒJSONè§£æ Main struct { Kelvin float64 `json:&quot;temp&quot;` } `json:&quot;main&quot;` } è¿è¡Œï¼šgo run æµ‹è¯•ï¼š curl http://localhost:8080/hello //è¾“å‡ºï¼šhello! curl http://localhost:8080/weather/tokyo //è¾“å‡ºï¼š{&quot;name&quot;:&quot;Tokyo&quot;,&quot;main&quot;:{&quot;temp&quot;:295.9}} ï¼ˆä¸ƒï¼‰å¸¸ç”¨çš„åº“ å·²ç»ä½¿ç”¨è¿‡çš„fmtã€net/httpã€stringsä¸å†è®°å½•ã€‚ 1.sortï¼šæ’åº sort.goï¼š package main import ( &quot;sort&quot; &quot;fmt&quot; ) func main() { a := []int{3, 6, 2, 1, 9, 10, 8} //sort.Ints()ï¼Œæ’åºintç±»å‹åˆ‡ç‰‡/æ•°ç»„ sort.Ints(a) for _, v := range a { fmt.Println(i, v) } } è¾“å‡ºï¼š 1 2 3 6 8 9 10 2.timeï¼šæ—¶é—´ï¼ˆ1ï¼‰åœé¡¿ï¼štime.Sleep()import &quot;time&quot; func main() { time.Sleep(1*time.Millisecond) //åœé¡¿1ms time.Sleep(5*time.Second) //åœé¡¿5s } ï¼ˆ2ï¼‰ä¸€æ¬¡æ€§è®¡æ—¶å™¨ï¼štime.After() ä¸€æ¬¡æ€§è®¡æ—¶å™¨è§¦å‘åä¼šè¢«GCï¼Œä½†æ˜¯ä¸ä¿è¯ä½•æ—¶å›æ”¶ï¼Œå¦‚æœå¯¹æ€§èƒ½è¦æ±‚é«˜çš„è¯ï¼Œä¸æ¨èä½¿ç”¨time.Afterï¼Œåº”è¯¥ç”¨time.NewTicker()å–ä»£ï¼Œæ‰‹åŠ¨å…³é—­ï¼› ä¸€æ¬¡æ€§è®¡æ—¶å™¨å¯ä»¥ç”¨äºè¶…æ—¶æ§åˆ¶ï¼š import &quot;time&quot; func main() { //1såè§¦å‘ä¸€æ¬¡ select { case v := &lt;- ch: fmt.Println(&quot;æ­£å¸¸æƒ…å†µ&quot;) //ä¸æ¨èä½¿ç”¨ï¼ case &lt;- time.After(time.Second) : fmt.Println(&quot;è¶…æ—¶1s&quot;) } } ï¼ˆ3ï¼‰å®šæ—¶å™¨ï¼štime.NewTicker()å®šæ—¶å™¨ä¹Ÿå¯ä»¥ç”¨äºè¶…æ—¶æ§åˆ¶ï¼Œä½†æ˜¯ä¸€å®šè¦å…³é—­å®šæ—¶å™¨ï¼Œå¦åˆ™å¯èƒ½é€ æˆå†…å­˜æ³„æ¼ï¼š import &quot;time&quot; func main() { //æ¯è¿‡1sè§¦å‘ä¸€æ¬¡ t := time.NewTicker(time.Second) //å®šæ—¶å™¨ä¹Ÿå¯ä»¥ç”¨äºè¶…æ—¶æ§åˆ¶ select{ case v := &lt;- ch: fmt.Println(&quot;æ­£å¸¸æƒ…å†µ&quot;) //t.Cæ˜¯ä¸€ä¸ªæ—¶é—´çš„é€šé“ case &lt;- t.C : fmt.Println(&quot;è¶…æ—¶1s&quot;) } //æ¯è¿‡1sæ‰“å°ä¸€æ¬¡ for v := range t.C { fmt.Println(&quot;hello&quot;, v) } //å…³é—­å®šæ—¶å™¨ t.Stop() } //è¾“å‡ºï¼š // è¶…æ—¶1s // hello 2019-12-04 14:39:27.2520634 +0800 CST m=+2.005214701 // hello 2019-12-04 14:39:28.251665 +0800 CST m=+3.004824301 // hello 2019-12-04 14:39:29.2532157 +0800 CST m=+4.006383001 //â€¦â€¦ 3.encoding/jsonï¼ˆ1ï¼‰åºåˆ—åŒ– NewEncoder(w io.Writer).Encode(v interface{}) å‚è€ƒï¼ˆå…­ï¼‰ç½‘ç»œåº”ç”¨Demo json.Marshal(v interface{}) ([]byte, error)ï¼šä¼ å…¥ä»»ä½•ç±»å‹çš„å‚æ•°ï¼Œè½¬æ¢ä¸ºbyte[]ç±»å‹çš„JSONæ•°ç»„ â‘ ç»“æ„ä½“åºåˆ—åŒ–package main import ( &quot;encoding/json&quot; &quot;fmt&quot; ) //å®šä¹‰ç”¨æˆ·ç»“æ„ä½“ type User struct { UserName string `json:&quot;user_name&quot;` NickName string `json:&quot;nick_name&quot;` Age int //ç•™ä¸€ä¸ªä¸åŠ æ ‡ç­¾ï¼Œæ–¹ä¾¿çœ‹æ ‡ç­¾çš„ä½œç”¨ Birthday string `json:&quot;birthday&quot;` Sex string `json:&quot;sex&quot;` Email string `json:&quot;e-mail&quot;` Phone string `json:&quot;phone&quot;` } func main() { //åˆ›å»ºç»“æ„ä½“å¯¹è±¡ user := &amp;User{ UserName: &quot;user001&quot;, NickName: &quot;ä½ å¼Ÿå«ç‹&quot;, Age: 14, Birthday: &quot;1988-08-08&quot;, Sex: &quot;ç”·&quot;, Email: &quot;741@qq.com&quot;, Phone: &quot;741741741&quot;, } jsonBytes, err := json.Marshal(user) if err != nil { fmt.Printf(&quot;json.Marshal err: &quot;, err) } fmt.Printf(&quot;%s\\n&quot;, jsonBytes) } //è¾“å‡ºï¼š //{&quot;user_name&quot;:&quot;user001&quot;,&quot;nick_name&quot;:&quot;ä½ å¼Ÿå«ç‹&quot;,&quot;Age&quot;:14,&quot;birthday&quot;:&quot;1988-08-08&quot;,&quot;sex&quot;:&quot;ç”·&quot;,&quot;e-mail&quot;:&quot;741@qq.com&quot;,&quot;phone&quot;:&quot;741741741&quot;} //å¯ä»¥çœ‹åˆ°æ²¡æœ‰æ‰“æ ‡ç­¾çš„ï¼ŒJSONåºåˆ—åŒ–æ—¶keyå°±æ˜¯å­—æ®µåï¼Œæ‰“äº†æ ‡ç­¾åˆ™keyæ˜¯æ ‡ç­¾å â‘¡å­—å…¸åºåˆ—åŒ–package main import ( &quot;encoding/json&quot; &quot;fmt&quot; ) func main() { //å®šä¹‰[string, interface{}]ç±»å‹çš„map var m map[string]interface{} //åˆå§‹åŒ– m = make(map[string]interface{}) m[&quot;username&quot;] = &quot;user002&quot; m[&quot;age&quot;] = 18 jsonBytes, err := json.Marshal(m) if err != nil { fmt.Printf(&quot;json.Marshal err: &quot;, err) } fmt.Printf(&quot;%s\\n&quot;, jsonBytes) } //è¾“å‡ºï¼š //{&quot;age&quot;:18,&quot;username&quot;:&quot;user002&quot;} â‘¢åˆ‡ç‰‡åºåˆ—åŒ–package main import ( &quot;encoding/json&quot; &quot;fmt&quot; ) func main() { //åˆ‡ç‰‡ç”±[string, interface{}]çš„mapç»„æˆ var s []map[string]interface{} //å®šä¹‰å¹¶ç»™mapèµ‹å€¼ var m map[string]interface{} m = make(map[string]interface{}) m[&quot;nickname&quot;] = &quot;å°è€å¼Ÿ&quot; m[&quot;address&quot;] = &quot;èšå®å±±åº„&quot; //å°†mapæ·»åŠ åˆ°åˆ‡ç‰‡ s = append(s, m) jsonByteArrays, err := json.Marshal(s) if err != nil { fmt.Printf(&quot;json.Marshal() err: &quot;, err) return } fmt.Printf(&quot;%s\\n&quot;, string(jsonByteArrays)) } //è¾“å‡ºï¼šJSONæ•°ç»„ //[{&quot;address&quot;:&quot;èšå®å±±åº„&quot;,&quot;nickname&quot;:&quot;å°è€å¼Ÿ&quot;}] ï¼ˆ2ï¼‰ååºåˆ—åŒ– NewDecoder(r io.Reader).Decode(v interface{}) å‚è€ƒï¼ˆå…­ï¼‰ç½‘ç»œåº”ç”¨Demo json.Unmarshal(data []byte, v interface{}) errorï¼šç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥çš„è¦æ˜¯&amp;æŒ‡é’ˆå¼•ç”¨ â‘ ç»“æ„ä½“ååºåˆ—åŒ–package main import ( &quot;encoding/json&quot; &quot;fmt&quot; ) //å®šä¹‰ç”¨æˆ·ç»“æ„ä½“ type User struct { UserName string `json:&quot;user_name&quot;` NickName string `json:&quot;nick_name&quot;` Age int //ç•™ä¸€ä¸ªä¸åŠ æ ‡ç­¾ï¼Œæ–¹ä¾¿çœ‹æ ‡ç­¾çš„ä½œç”¨ Birthday string `json:&quot;birthday&quot;` Sex string `json:&quot;sex&quot;` Email string `json:&quot;e-mail&quot;` Phone string `json:&quot;phone&quot;` } func main() { //åˆ›å»ºç»“æ„ä½“å¯¹è±¡ user := &amp;User{ UserName: &quot;user001&quot;, NickName: &quot;ä½ å¼Ÿå«ç‹&quot;, Age: 14, Birthday: &quot;1988-08-08&quot;, Sex: &quot;ç”·&quot;, Email: &quot;741@qq.com&quot;, Phone: &quot;741741741&quot;, } //è·å–è½¬æ¢åçš„JSONå­—èŠ‚æ•°ç»„ jsonBytes, err := json.Marshal(user) if err != nil { fmt.Printf(&quot;json.Marshal err: &quot;, err) } //ååºåˆ—åŒ– var userResult User //ç»“æ„ä½“ä¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥æ­¤å¤„ä¼ å…¥çš„å¿…é¡»æ˜¯æŒ‡é’ˆå¼•ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ err = json.Unmarshal(jsonBytes, &amp;userResult) if err != nil { fmt.Println(&quot;json.Unmarshal errï¼š &quot;, err) }else { fmt.Println(userResult) fmt.Println(userResult.Age) } } //è¾“å‡ºï¼š //{user001 ä½ å¼Ÿå«ç‹ 14 1988-08-08 ç”· 741@qq.com 741741741} //14 â‘¡å­—å…¸ååºåˆ—åŒ–package main import ( &quot;encoding/json&quot; &quot;fmt&quot; ) func main() { //åºåˆ—åŒ– var m map[string]interface{} m = make(map[string]interface{}) m[&quot;username&quot;] = &quot;user002&quot; m[&quot;age&quot;] = 18 jsonBytes, err := json.Marshal(m) if err != nil { fmt.Println(&quot;json.Marshal err: &quot;, err) } //ååºåˆ—åŒ– var mapResult map[string]interface{} mapResult = make(map[string]interface{}) //ä¼ å…¥çš„éœ€è¦æ˜¯&amp;æŒ‡é’ˆå¼•ç”¨ err = json.Unmarshal(jsonBytes, &amp;mapResult) if err != nil { fmt.Println(&quot;json.UnMarshal err: &quot;, err) } fmt.Println(mapResult) } //è¾“å‡ºï¼š //map[age:18 username:user002] â‘¢åˆ‡ç‰‡åºåˆ—åŒ–package main import ( &quot;encoding/json&quot; &quot;fmt&quot; ) func main() { //åºåˆ—åŒ– var s []map[string]interface{} var m map[string]interface{} m = make(map[string]interface{}) m[&quot;nickname&quot;] = &quot;å°è€å¼Ÿ&quot; m[&quot;address&quot;] = &quot;èšå®å±±åº„&quot; s = append(s, m) jsonByteArrays, err := json.Marshal(s) if err != nil { fmt.Printf(&quot;json.Marshal() err: &quot;, err) return } //ååºåˆ—åŒ– var sliceResult []map[string]interface{} err = json.Unmarshal(jsonByteArrays, &amp;sliceResult) if err != nil { fmt.Printf(&quot;json.UnMarshal() err: &quot;, err) } fmt.Println(sliceResult) } //è¾“å‡ºï¼š //[map[address:èšå®å±±åº„ nickname:å°è€å¼Ÿ]] 4.runtimeï¼šè·å–Goè¿è¡Œæ—¶ç¯å¢ƒimport runtime //è·å–è¿è¡Œæ—¶CPUæ ¸å¿ƒæ•° cpus := runtime.NumCPU() fmt.Println(cpus) //è·å–è¿è¡Œä¸­çš„Goroutineæ•° gos := runtime.NumGoroutine() fmt.Println(gos) 5.syncï¼šåŒæ­¥ï¼ˆ1ï¼‰sync.Mutexï¼šäº’æ–¥é”//å®šä¹‰äº’æ–¥é” var lock sync.Mutex //è·å–é” lock.Lock() //åŒæ­¥ä»£ç å—â€¦â€¦ //é‡Šæ”¾é” lock.Unlock() ï¼ˆ2ï¼‰sync.RWMutexï¼šè¯»å†™é”é€‚åˆè¯»å¤šå†™å°‘çš„æƒ…å†µï¼š //å®šä¹‰è¯»å†™é” var lock sync.RWMutex //è·å–å†™é” lock.Lock() //åŒæ­¥ä»£ç å—â€¦â€¦ //é‡Šæ”¾å†™é” lock.Unlock() //è·å–è¯»é” lock.RLock() //é‡Šæ”¾è¯»é” lock.RUnlock() 6.ioutilï¼šI/Oå·¥å…·ç±» ioutil.ReadAll(r io.Reader) ([]byte, error)ï¼šä¼ å…¥ä¸€ä¸ªio.Readerï¼Œä»¥å­—èŠ‚æ•°ç»„çš„å½¢å¼è¿”å›å…¶ä¸­å†…å®¹ response, err := http.Get(&quot;http://www.dragonbaby308.com/&quot;) if err != nil { fmt.Println(&quot;http.Get()é”™è¯¯ï¼š&quot;, err) return } //Body io.ReadCloser data, err := ioutil.ReadAll(response.Body) 7.mathï¼šæ•°å­¦åº“æ¯”è¾ƒfloat64ç±»å‹çš„å¤§å° ç”±äºfloat64ç±»å‹çš„æ•°æ®å…·å¤‡ç²¾åº¦çš„æ¦‚å¿µï¼Œå¼€å‘è€…ä¸å…·å¤‡ç²¾ç¡®æ¯”è¾ƒä¸¤ä¸ªfloat64ç±»å‹æ•°æ®çš„èƒ½åŠ›ï¼Œæ‰€ä»¥Golangæä¾›äº†åº“å‡½æ•°ï¼›ä½†æ˜¯å¯¹äºå…¶ä»–çš„intç±»å‹æ•°æ®ï¼Œç”±äºå¤§å°æ¯”è¾ƒå®ç°èµ·æ¥å¹¶ä¸éš¾ï¼ŒGolangä¸ºäº†ä¿è¯è¯­è¨€çš„å°½å¯èƒ½ç²¾ç‚¼ï¼Œä¸æä¾›æ¯”è¾ƒä¸¤ä¸ªintç±»å‹æ•°æ®å¤§å°çš„åº“å‡½æ•°ï¼Œéœ€è¦å¼€å‘äººå‘˜è‡ªå·±å®ç°ï¼ˆè€Œä¸”Golangè¿˜ä¸æ”¯æŒ?:çš„ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œåæ­£æˆ‘è§‰å¾—æ˜¯æŒºæ²¡é“ç†çš„â”â”³â” â”â”³â” math.Min(x, y float64) float64ï¼šä¸¤æ•°å°è€… math.Max(x, y float64) float64ï¼šä¸¤æ•°å¤§è€…","categories":[{"name":"Go","slug":"Go","permalink":"/categories/Go/"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"/tags/GitHub/"},{"name":"Git","slug":"Git","permalink":"/tags/Git/"},{"name":"Homebrew","slug":"Homebrew","permalink":"/tags/Homebrew/"},{"name":"Mac","slug":"Mac","permalink":"/tags/Mac/"},{"name":"Go","slug":"Go","permalink":"/tags/Go/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"/tags/å¤šçº¿ç¨‹/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"/tags/é«˜å¹¶å‘/"},{"name":"Goroutine","slug":"Goroutine","permalink":"/tags/Goroutine/"},{"name":"OS","slug":"OS","permalink":"/tags/OS/"},{"name":"HTTP","slug":"HTTP","permalink":"/tags/HTTP/"},{"name":"JSON","slug":"JSON","permalink":"/tags/JSON/"},{"name":"GC","slug":"GC","permalink":"/tags/GC/"},{"name":"åç¨‹","slug":"åç¨‹","permalink":"/tags/åç¨‹/"}],"keywords":[{"name":"Go","slug":"Go","permalink":"/categories/Go/"}]},{"title":"Crondå®šæ—¶ä»»åŠ¡","slug":"crond","date":"2019-10-28T14:37:32.000Z","updated":"2019-12-14T02:56:00.652Z","comments":true,"path":"crond/","link":"","permalink":"/crond/","excerpt":"","text":"Crondå®šæ—¶ä»»åŠ¡ Crondæ˜¯Linuxä¸‹ç”¨æ¥å‘¨æœŸæ€§æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–è€…ç­‰å¾…å¤„ç†æŸäº›äº‹ä»¶çš„ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ã€‚ å½“å®‰è£…äº†OSåé»˜è®¤ä¼šè‡ªåŠ¨å¯åŠ¨Crondè¿›ç¨‹ï¼Œæ¯åˆ†é’Ÿå®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰åˆ™è‡ªåŠ¨æ‰§è¡Œã€‚ å‚è€ƒhttps://blog.csdn.net/qq_22172133/article/details/81263736 ï¼ˆä¸€ï¼‰Linuxä¸‹çš„ä»»åŠ¡è°ƒåº¦1.ç³»ç»Ÿä»»åŠ¡è°ƒåº¦ï¼š/etc/crontab/etcç›®å½•ä¸‹çš„crontabæ–‡ä»¶æ˜¯ç³»ç»Ÿä»»åŠ¡è°ƒåº¦çš„é…ç½®æ–‡ä»¶ï¼Œè®°å½•äº†ç³»ç»Ÿå‘¨æœŸæ€§æ‰€æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚å†™ç¼“å­˜æ•°æ®åˆ°ç¡¬ç›˜ã€æ—¥å¿—æ¸…ç†ç­‰ã€‚å¦‚ï¼š # ã€Crondä»»åŠ¡è¿è¡Œçš„ç¯å¢ƒå˜é‡ã€‘ # æŒ‡å®šä½¿ç”¨å“ªä¸ªshellï¼Œæ¯”å¦‚bash SHELL=/bin/bash # æŒ‡å®šäº†ç³»ç»Ÿæ‰§è¡Œå‘½ä»¤çš„è·¯å¾„ PATH=/sbin:/bin:/usr/sbin:/usr/bin # Crondä»»åŠ¡æ‰§è¡Œä¿¡æ¯å°†é€šè¿‡ç”µå­é‚®ä»¶å‘é€ç»™rootç”¨æˆ· MAILTO=&quot;root&quot; # æ‰§è¡Œå‘½ä»¤æˆ–è„šæœ¬æ—¶ä½¿ç”¨çš„ä¸»ç›®å½• HOME=/ # ã€æ­¤éƒ¨åˆ†æ˜¯crontabæ–‡ä»¶ï¼Œç¬¬äºŒèŠ‚ä»‹ç»ã€‘ 51 * * * * root run-parts /etc/cron.hourly 24 7 * * * root run-parts /etc/cron.daily 22 4 * * 0 root run-parts /etc/cron.weekly 42 4 1 * * root run-parts /etc/cron.monthly 2.ç”¨æˆ·ä»»åŠ¡è°ƒåº¦ /etc/cron.denyï¼šä¸å…è®¸ä½¿ç”¨crontabå‘½ä»¤çš„ç”¨æˆ· /etc/cron.allowï¼šå…è®¸ä½¿ç”¨crontabå‘½ä»¤çš„ç”¨æˆ· /var/spool/cron/ï¼šæ‰€æœ‰ç”¨æˆ·crontabæ–‡ä»¶å­˜æ”¾çš„ç›®å½•,ä»¥ç”¨æˆ·åå‘½å ï¼ˆäºŒï¼‰crontabç”¨æˆ·æ‰€å»ºç«‹çš„crontabæ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€ä¸ªä»»åŠ¡ï¼Œæ¯è¡Œçš„æ¯ä¸ªå­—æ®µä»£è¡¨ä¸€é¡¹è®¾ç½®ã€‚ 1.æ–‡ä»¶æ ¼å¼minute hour day month week command minuteï¼šåˆ†é’Ÿï¼Œ0 ~ 59ä¹‹é—´çš„æ•´æ•° hourï¼šå°æ—¶ï¼Œ0 ~ 23ä¹‹é—´çš„æ•´æ•° dayï¼šæ—¥æœŸï¼Œ1 ~ 31ä¹‹é—´çš„æ•´æ•° monthï¼šæœˆä»½ï¼Œ1 ~ 12ä¹‹é—´çš„æ•´æ•° weekï¼šæ˜ŸæœŸå‡ ï¼Œ0 ~ 7ä¹‹é—´çš„æ•´æ•°ï¼Œ0/7è¡¨ç¤ºæ˜ŸæœŸæ—¥ commandï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå·±å†™çš„è„šæœ¬ ç‰¹æ®Šå­—ç¬¦åœ¨ä¸Šè¿°å­—æ®µä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼š *ï¼šæ˜Ÿå· â€”â€” è¡¨ç¤ºæ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œæ¯”å¦‚monthå­—æ®µä¸º*è¡¨ç¤ºæ¯ä¸ªæœˆï¼› ,ï¼šé€—å· â€”â€” ç”¨æ¥æŒ‡å®šä¸€ä¸ªèŒƒå›´åˆ—è¡¨ï¼Œæ¯”å¦‚1,2,3,4,5,6,7ï¼› -ï¼šä¸­æ  â€”â€” ç”¨åœ¨æ•´æ•°ä¸­é—´è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œæ¯”å¦‚2-6è¡¨ç¤º2,3,4,5,6ï¼› /ï¼šæ­£æ–œæ  â€”â€” æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œæ¯”å¦‚hourå­—æ®µä¸º0-23/2è¡¨ç¤ºæ¯éš”2å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼›minuteå­—æ®µä¸º*/10è¡¨ç¤º10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚ 2.å‘½ä»¤æ ¼å¼crontab [-u user] fileName crontab [-u user] [-e|-l|-r] -u userï¼šè®¾å®šæŸä¸ªç”¨æˆ·çš„crontabæœåŠ¡ fileNameï¼šcrontabæ–‡ä»¶å -eï¼šç¼–è¾‘æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™ç¼–è¾‘å½“å‰ç”¨æˆ·çš„ e for edit -lï¼šæ˜¾ç¤ºæŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„ l for list -rï¼šåˆ é™¤æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™åˆ é™¤å½“å‰ç”¨æˆ·çš„ r for remove ï¼ˆä¸‰ï¼‰CrondæœåŠ¡ å®‰è£…ï¼ˆä¸€èˆ¬ä¸éœ€è¦ï¼‰ yum install crontabs å¯åŠ¨/å…³é—­/é‡å¯/é‡è½½æœåŠ¡ /sbin/service crond start #å¯åŠ¨ /sbin/service crond stop #å…³é—­ /sbin/service crond restart #é‡å¯ /sbin/service crond reload #é‡è½½é…ç½® æŸ¥çœ‹æœåŠ¡çŠ¶æ€ service crond status","categories":[{"name":"Linux","slug":"Linux","permalink":"/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"/tags/Linux/"},{"name":"ECS","slug":"ECS","permalink":"/tags/ECS/"},{"name":"Crond","slug":"Crond","permalink":"/tags/Crond/"},{"name":"å®šæ—¶ä»»åŠ¡","slug":"å®šæ—¶ä»»åŠ¡","permalink":"/tags/å®šæ—¶ä»»åŠ¡/"}],"keywords":[{"name":"Linux","slug":"Linux","permalink":"/categories/Linux/"}]},{"title":"åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ID","slug":"uid","date":"2019-09-10T14:35:30.000Z","updated":"2019-12-14T02:58:23.034Z","comments":true,"path":"uid/","link":"","permalink":"/uid/","excerpt":"","text":"åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ID ï¼ˆä¸€ï¼‰UUIDç¼ºç‚¹ï¼š UUIDå¤ªé•¿ UUIDæ— åº ï¼ˆäºŒï¼‰MySQLè‡ªå¢ID éœ€è¦å•ç‹¬ä¸€ä¸ªMySQLå®ä¾‹ï¼Œåœ¨è¿™ä¸ªå®ä¾‹æ–°å»ºä¸€ä¸ªå•ç‹¬çš„è¡¨ CREATE DATABASE `SEQID`; CREATE TABLE SEQID.SEQUENCE_ID ( id bigint(20) unsigned NOT NULL auto_increment, stub char(10) NOT NULL default &#39;&#39;, PRIMARY KEY (id), UNIQUE KEY stub (stub) ) ENGINE=MyISAM; stubæ²¡æœ‰å®é™…æ„ä¹‰ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ’å…¥æ•°æ®ï¼Œåªæœ‰æ’å…¥æ•°æ®æ‰èƒ½äº§ç”Ÿè‡ªå¢IDã€‚ å¯ä»¥ä½¿ç”¨ä¸‹åˆ—è¯­å¥ç”Ÿæˆå¹¶è·å–åˆ°ä¸€ä¸ªè‡ªå¢ID bigin; replace into SEQUENCE_ID(stub) VALUES (&#39;anyword&#39;); select last_insert_id(); commit; replace intoä¼˜äºinsert intoçš„åœ°æ–¹ï¼šreplace intoä¼šå…ˆçœ‹æ˜¯å¦å­˜åœ¨å’ŒstubæŒ‡å®šå€¼ä¸€æ ·çš„æ•°æ®ï¼Œå¦‚æœå­˜åœ¨åˆ™å…ˆdeleteåinsertï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ç›´æ¥insertã€‚ ç¼ºç‚¹ ä¸šåŠ¡ç³»ç»Ÿæ¯éœ€è¦ä¸€ä¸ªIDï¼Œéƒ½ä¼šè¯·æ±‚åŒä¸€ä¸ªæ•°æ®åº“ï¼Œå•æ•°æ®åº“å‹åŠ›å¤§ã€æ€§èƒ½ä½ï¼› å•ç‚¹æ•…éšœï¼Œä¸€æ—¦æ•°æ®åº“å®•æœºï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½å—å½±å“ ä¼˜åŒ–1.MySQLåŒä¸»æ¨¡å¼ ä½¿ç”¨ä¸¤å°MySQLå®ä¾‹ï¼Œåšå¦‚ä¸‹é…ç½®ï¼š # ç¬¬ä¸€å°MySQLå®ä¾‹ set @@auto_increment_offset = 1; # åˆå§‹å€¼ set @@auto_increment_increment = 2; # æ­¥é•¿ # ç¬¬äºŒå°MySQLå®ä¾‹ set @@auto_increment_offset = 2; # åˆå§‹å€¼ set @@auto_increment_increment = 2; # æ­¥é•¿ åˆ†å¸ƒå¼åº”ç”¨éšæœºå»ä¸¤ä¸ªMySQLå®ä¾‹è·å–ID ä¼˜ç‚¹ å•MySQLå®ä¾‹å®•æœºï¼Œå¦ä¸€å°MySQLå®ä¾‹å¯ä»¥ç»§ç»­å·¥ä½œï¼Œä¸ä¼šå½±å“æ•´ä¸ªç³»ç»Ÿï¼Œé¿å…äº†å•ç‚¹æ•…éšœ ç¼ºç‚¹ ä¸åˆ©äºæ‰©å®¹ 2.å·æ®µæ¨¡å¼ åˆ›å»ºMySQLè¡¨ï¼Œç”¨äºå­˜å‚¨å½“å‰æœ€å¤§ID CREATE TABLE id_generator ( id int(10) NOT NULL, current_max_id bigint(20) NOT NULL COMMENT &#39;å½“å‰æœ€å¤§ID&#39;, increment_step int(10) NOT NULL COMMENT &#39;å·æ®µé•¿åº¦&#39;, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; åº”ç”¨ç¨‹åºä»MySQLè·å–IDæ—¶ï¼Œæ‰¹é‡è·å–å¤šä¸ªIDï¼ˆç§°ä¸ºä¸€ä¸ªâ€œå·æ®µâ€ï¼‰å¹¶è¿›è¡Œç¼“å­˜ï¼ˆå¯ä»¥æ˜¯ï¼šâ‘ JVMç¼“å­˜åœ¨æœ¬åœ° / â‘¡Redisç¼“å­˜ï¼‰/â‘¢MyCatç¼“å­˜ã€‚è¿™æ ·åº”ç”¨ç¨‹åºåªéœ€è¦åœ¨æœ¬åœ°è‡ªå¢å¹¶è¿”å›ï¼Œä¸éœ€è¦æ¯æ¬¡è¯·æ±‚æ•°æ®åº“ï¼Œåªæœ‰ç¼“å­˜å·æ®µç”¨å®Œæ‰å»æ•°æ®åº“è·å–ä¸‹ä¸€å·æ®µã€‚ å¯ä»¥åœ¨è¡¨ä¸­å¢åŠ ä¸€ä¸ªversionå­—æ®µï¼Œä¿è¯è·å–IDå·æ®µæ—¶çš„çº¿ç¨‹å®‰å…¨æ€§ï¼š update id_generator set current_max_id=#{newMaxId}, version=version + 1 where version=#{version} åŒä¸»æ¨¡å¼å’Œå·æ®µæ¨¡å¼å¯ä»¥ç»“åˆä½¿ç”¨ã€‚ ï¼ˆä¸‰ï¼‰é›ªèŠ±ç®—æ³•ï¼ˆsnow-flakeï¼‰æ€è·¯ï¼š ä¿è¯ç”Ÿæˆåˆ†å¸ƒå¼IDçš„æ¯å°æœºå™¨åœ¨æ¯mså†…ç”Ÿæˆä¸ä¸€æ ·çš„IDã€‚ åˆ†å¸ƒå¼IDå›ºå®šæ˜¯ä¸€ä¸ªlongç±»å‹çš„æ•°å­—ï¼Œä¸€ä¸ªlongå 64bitã€‚ç”±äºLong.MAX_VALUE = 2 ^ 63 - 1 = 9223372036854775807ï¼Œä¹Ÿå°±æ˜¯è¯´longç±»å‹æœ€å¤š19ä½ï¼Œç”¨ä¸€ä¸ª19ä½çš„Stringå°±å¯ä»¥ä¿å­˜ã€‚ 64 bit - snowflake id = 1 bit - æ ‡å¿—ä½ + 41 bit - æ—¶é—´æˆ³ + 10 bit - å·¥ä½œæœºå™¨ID + 12 bit - åºåˆ—å· ç¬¬ä¸€ä¸ª1 bitæ˜¯æ ‡è¯†éƒ¨åˆ†ï¼Œåœ¨Javaä¸­ç”±äºlongæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œæ­£æ•°0ï¼Œè´Ÿæ•°1ï¼Œä¸€èˆ¬ç”Ÿæˆçš„IDéƒ½æ˜¯æ­£æ•°ï¼Œæ‰€ä»¥å›ºå®šæ˜¯0ï¼› æ—¶é—´æˆ³éƒ¨åˆ†å 41 bitï¼Œæ˜¯ä¸€ä¸ªmsçº§çš„æ—¶é—´ï¼Œä¸€èˆ¬ä¸ä¼šå­˜å‚¨å½“å‰æ—¶é—´ï¼Œè€Œæ˜¯æ—¶é—´æˆ³å·®å€¼ï¼ˆå½“å‰æ—¶é—´ - å›ºå®šå¼€å§‹æ—¶é—´ï¼‰ï¼Œ41ä½çš„æ—¶é—´æˆ³å¯ä»¥ä½¿ç”¨69å¹´ï¼ˆ(1 &lt;&lt; 41) / (365 * 24 * 60 * 60 * 1000) = 69 å¹´ï¼‰ï¼› å½“å‰æ—¶é—´æˆ³åº”è¯¥ä½¿ç”¨åº”ç”¨å¯åŠ¨æ—¶é—´å¯¹åº”çš„msæ•°åŸå­é€’å¢ï¼Œä¸èƒ½ä½¿ç”¨System.currentTimeMillis()ï¼Œå› ä¸ºåè€…å¦‚æœæœºå™¨æ—¶é—´å›è°ƒï¼Œå¯èƒ½å‡ºç°é‡å¤IDã€‚ å·¥ä½œæœºå™¨IDå æ®10 bitï¼Œè¿™éƒ¨åˆ†æ¯”è¾ƒçµæ´»ï¼Œæ¯”å¦‚å‰5ä½ä½œä¸ºæ•°æ®ä¸­å¿ƒæœºæˆ¿æ ‡è¯†ï¼Œå5ä½ä½œä¸ºå•æœºæˆ¿æœºå™¨æ ‡è¯†ï¼Œå¯ä»¥éƒ¨ç½²1024ä¸ªèŠ‚ç‚¹ åºåˆ—å·éƒ¨åˆ†å 12 bitï¼Œæ”¯æŒåŒä¸€mså†…åŒä¸€èŠ‚ç‚¹å¯ä»¥ç”Ÿæˆ4096ä¸ªIDã€‚åºåˆ—å·å¯ä»¥ä»MySQLè·å–è‡ªå¢IDï¼Œå¯ä»¥å‚è€ƒä¸Šè¿°çš„â€œMySQLåºåˆ—å· + JVM/Redis/MyCatç¼“å­˜â€æ–¹æ¡ˆã€‚ ï¼ˆå››ï¼‰Redis åˆ©ç”¨Redisçš„incråŸå­å‘½ä»¤å®ç°IDçš„è‡ªå¢å’Œè¿”å›ï¼Œä½†æ˜¯éœ€è¦æŒä¹…åŒ– # è®¾ç½®IDåˆå§‹å€¼ set seq_id 1 # è‡ªå¢ &amp; è¿”å›ï¼Œæ˜¯åŸå­æ“ä½œ incr seq_id ç¼ºç‚¹ å¦‚æœä½¿ç”¨çš„RDBæŒä¹…åŒ–æ–¹å¼ï¼šRDBæŒä¹…åŒ–ä¼šä¸¢å¤±å®•æœºæœŸé—´åˆ°ä¸Šä¸€æ¬¡å¿«ç…§å­˜å‚¨æœŸé—´çš„æ•°æ®ï¼Œæ‰€ä»¥å¯èƒ½å‡ºç°é‡å¤ID å¦‚æœä½¿ç”¨çš„AOFæŒä¹…åŒ–æ–¹å¼ï¼šä¸ä¼šå‡ºç°é‡å¤IDï¼Œä½†æ˜¯ä¼šç”±äºincrå‘½ä»¤å¤ªå¤šå¯¼è‡´é‡å¯æ•°æ®æ¢å¤æ—¶é—´è¿‡é•¿ ï¼ˆäº”ï¼‰åº”ç”¨ï¼šçŸ­URLï¼ˆçŸ­ç½‘å€ï¼‰æœåŠ¡ ç™¾åº¦çŸ­ç½‘å€ â€”â€” https://dwz.cn/ï¼šæ¯”å¦‚è¾“å…¥http://www.dragonbaby308.com/ï¼Œç”Ÿæˆhttps://dwz.cn/SyQc17kpï¼ŒäºŒè€…æŒ‡å‘åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ã€‚ ä¼˜ç‚¹ çŸ­ä¿¡æˆ–å…¶ä»–å„ç±»ç¤¾äº¤å¹³å°ï¼ˆæ¯”å¦‚å¾®åšï¼‰éƒ½ä¼šæœ‰å­—æ•°é™åˆ¶ï¼Œä½¿ç”¨çŸ­é“¾æ¥å¯ä»¥å‡å°‘å­—æ•° æ¯”èµ·ä¸€å †ä¸æ˜æ‰€ä»¥çš„å‚æ•°ï¼Œä½¿ç”¨çŸ­é“¾æ¥æ›´åŠ ç®€æ´å‹å¥½ï¼ŒåŒæ—¶ä¸æš´éœ²å‚æ•°ä¼šæ›´å®‰å…¨ åŸç†HTTP 301/302é‡å®šå‘ï¼š å°†é•¿URLè½¬ä¸ºçŸ­URL ç”¨æˆ·è®¿é—®çŸ­URLï¼Œä¼šé€šè¿‡HTTP 301/302é‡å®šå‘ï¼Œè®¿é—®åˆ°å¯¹åº”çš„é•¿URL é•¿URLå¦‚ä½•è½¬çŸ­URLï¼Ÿ å»ºç«‹ä¸€ä¸ªå‘å·å™¨ï¼Œæ¯æ¬¡æœ‰ä¸€ä¸ªæ–°çš„é•¿URLè¿›æ¥ï¼Œå°±å°†çŸ­ç½‘å€ + 1ç„¶åè¿”å›ï¼ŒåŒæ—¶éœ€è¦è®°å½•ä¸‹é•¿URLå’ŒçŸ­URLçš„æ˜ å°„å…³ç³»ï¼ˆå¯ä»¥é€šè¿‡MySQLè¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ï¼‰ã€‚ æ¯”å¦‚ç¬¬ä¸€ä¸ªURLè¿”å›www.dwz.cn/1ï¼Œç¬¬äºŒä¸ªURLåˆ™è¿”å›www.dwz.cn/2 ä½¿ç”¨è¿™ç§æ–¹å¼ï¼ŒåŒä¸€ä¸ªé•¿URLå¤šæ¬¡è¯·æ±‚è¿”å›çš„çŸ­URLæ˜¯ä¸åŒçš„ å³ä¾¿æ˜¯ç™¾åº¦çŸ­ç½‘å€ï¼Œä¹Ÿæ²¡æœ‰å®ç°åŒä¸€ä¸ªé•¿URLå¤šæ¬¡è¯·æ±‚è¿”å›ç›¸åŒçš„çŸ­URLï¼Œå› ä¸ºè¿™æ ·çš„ä»£ä»·å¤ªå¤§ï¼Œå¹¶ä¸”æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚ç™¾åº¦çŸ­ç½‘å€ä¼šä¿å­˜1å¹´çš„æ˜ å°„å…³ç³»ã€‚ å­˜åœ¨çš„é—®é¢˜ï¼š å…¶å®å‘å·å™¨ç©¶æ ¹ç»“åº•ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§ åˆ†å¸ƒå¼å”¯ä¸€IDï¼Œåˆ†å¸ƒå¼å”¯ä¸€IDä¸­MySQLå‘å·çš„æ–¹æ¡ˆå­˜åœ¨çš„é«˜å¹¶å‘ã€å•ç‚¹æ•…éšœé—®é¢˜ï¼ŒçŸ­URLå‘å·å™¨ä¹ŸåŒæ ·ä¼šæœ‰ã€‚ 1.å¦‚æœç›´æ¥å­˜å‚¨åœ¨MySQLï¼Œé«˜å¹¶å‘æ—¶åº“å‹åŠ›å¤§æ€ä¹ˆåŠï¼Ÿ åŠ ä¸€å±‚Redisçƒ­ç‚¹ç¼“å­˜ é‡‡ç”¨MySQLå·æ®µ + ç¼“å­˜ï¼ˆJVMç¼“å­˜/Redisç¼“å­˜ï¼‰çš„å½¢å¼ï¼Œæ¯æ¬¡ä»æ•°æ®åº“è·å–ä¸€æ‰¹å·æ®µï¼Œåœ¨ç¼“å­˜ä¸­è¿›è¡Œåˆ†é…ï¼Œç¼“å­˜å·æ®µç”¨å®Œæ‰å»æ•°æ®åº“è¯·æ±‚æ–°çš„å·æ®µã€‚å¯ä»¥æœ‰æ•ˆå‡å°‘åº“å‹åŠ› 2.é‡‡ç”¨å•ä¸€MySQLï¼Œå‡ºç°å•ç‚¹æ•…éšœæ€ä¹ˆåŠï¼Ÿ é‡‡ç”¨MySQLåŒä¸»æ¨¡å¼ï¼Œæ¯”å¦‚ä¸€ä¸ªMySQLå‘å·å™¨å‘å•å·ï¼Œå¦ä¸€ä¸ªå‘åŒå· é‡‡ç”¨é›ªèŠ±ç®—æ³•","categories":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/categories/åˆ†å¸ƒå¼/"}],"tags":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/tags/åˆ†å¸ƒå¼/"},{"name":"MySQL","slug":"MySQL","permalink":"/tags/MySQL/"},{"name":"Java Base","slug":"Java-Base","permalink":"/tags/Java-Base/"},{"name":"Redis","slug":"Redis","permalink":"/tags/Redis/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"/tags/é«˜å¹¶å‘/"},{"name":"HTTP","slug":"HTTP","permalink":"/tags/HTTP/"},{"name":"é›ªèŠ±ç®—æ³•","slug":"é›ªèŠ±ç®—æ³•","permalink":"/tags/é›ªèŠ±ç®—æ³•/"},{"name":"CAS","slug":"CAS","permalink":"/tags/CAS/"},{"name":"JVM","slug":"JVM","permalink":"/tags/JVM/"},{"name":"MyCat","slug":"MyCat","permalink":"/tags/MyCat/"}],"keywords":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/categories/åˆ†å¸ƒå¼/"}]},{"title":"åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºåŸºç¡€","slug":"Distributed-System","date":"2019-09-06T13:01:40.000Z","updated":"2019-12-14T02:56:32.487Z","comments":true,"path":"Distributed-System/","link":"","permalink":"/Distributed-System/","excerpt":"","text":"åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºåŸºç¡€ åˆ†å¸ƒå¼ç³»ç»Ÿç›®æ ‡ æå‡ç³»ç»Ÿæ•´ä½“æ€§èƒ½å’Œååé‡ å°½é‡ä¿è¯åˆ†åŒºå®¹é”™æ€§ï¼Œå³åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡åˆ°æŸèŠ‚ç‚¹æˆ–ç½‘ç»œåˆ†åŒºæ•…éšœæ—¶ï¼Œä»è¦èƒ½å¤Ÿå¯¹å¤–ä¿è¯æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ€è·¯ï¼šä¸­å¿ƒåŒ–/å»ä¸­å¿ƒåŒ–1.ä¸­å¿ƒåŒ– ä¸­å¿ƒåŒ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å­˜åœ¨ä¸¤ç±»è§’è‰²ï¼šLeader/Follower Leaderè´Ÿè´£åˆ†å‘ä»»åŠ¡ï¼Œå¹¶ç›‘æ§æ•´ä¸ªç³»ç»Ÿï¼Œå¦‚æœæœ‰Followerä¸å·¥ä½œåˆ™å°†å…¶è¸¢å‡ºæ•´ä¸ªç³»ç»Ÿ Followerè´Ÿè´£æ‰§è¡ŒLeaderåˆ†é…çš„ä»»åŠ¡ æ¯”å¦‚MySQLçš„Master/Slaveæ¶æ„ï¼ŒMasterå’ŒSlaveçš„è§’è‰²æ˜¯ç”Ÿæ¥å°±æ˜¯ç¡®å®šçš„ã€‚ åˆæˆ–è€…ä½ å¯ä»¥å‚è€ƒç°å®ä¸­çš„é»‘å¿ƒä¼ä¸šï¼Œé¢†å¯¼è´Ÿè´£åˆ†é…å·¥ä½œç»™æ‰‹åº•ä¸‹çš„å‘˜å·¥ï¼Œå¹¶ä¸”ç›‘æ§å‘˜å·¥ï¼Œå¦‚æœæœ‰å‘˜å·¥è¿‡åŠ³ç—…å€’äº†ä¸èƒ½å·¥ä½œï¼Œé¢†å¯¼ä¸ä¼šå°è¯•åŒ»æ²»ä»–ï¼Œè€Œæ˜¯ä¼šç›´æ¥å¼€é™¤ä»–ã€‚ ä¸­å¿ƒåŒ–åˆ†å¸ƒå¼ç³»ç»Ÿ å­˜åœ¨çš„é—®é¢˜ &amp; è§£å†³ å•ç‚¹æ•…éšœé—®é¢˜ï¼šä¸€æ—¦Leaderå®•æœºï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¸å¯ç”¨ è§£å†³ï¼šâ‘ å¤šLeaderçƒ­å¤‡æˆ–å†·å¤‡ï¼Œä¸€æ—¦Leaderæ•…éšœå¯ä»¥è‡ªåŠ¨/æ‰‹åŠ¨åˆ‡æ¢â‘¡ç›´æ¥ç”¨å»ä¸­å¿ƒåŒ–å–ä»£ä¸­å¿ƒåŒ–ï¼Œä¸€æ—¦Leaderå®•æœºå°±é‡æ–°è¿›è¡Œé€‰ä¸¾ Leaderèƒ½åŠ›ä¼šé™åˆ¶ç³»ç»Ÿçš„æ‰©å±• 2.å»ä¸­å¿ƒåŒ– å»ä¸­å¿ƒåŒ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸æ„å‘³ç€æ²¡æœ‰Leaderï¼Œè€Œæ˜¯ç”±Followeræ¥è‡ªç”±é€‰æ‹©Leaderã€‚ ä¸€æ—¦Leaderå®•æœºï¼Œé›†ç¾¤ä¸­çš„Followerå°±ä¼šè‡ªå‘ä¸¾è¡Œæ–°ä¸€è½®çš„é€‰ä¸¾ï¼Œæ¨é€‰å‡ºæ–°çš„Leaderã€‚ ZKä¸­ZABåè®®çš„Masteré€‰ä¸¾å°±æ˜¯æ­¤ç±»ã€‚ å»ä¸­å¿ƒåŒ–åˆ†å¸ƒå¼ç³»ç»Ÿ å­˜åœ¨çš„é—®é¢˜ &amp; è§£å†³ ç½‘ç»œåˆ†åŒºï¼ˆâ€œè„‘è£‚â€ï¼‰ è§£å†³ï¼šå°é›†ç¾¤â€œè‡ªæ€â€æˆ–æ‹’ç»æœåŠ¡ åŸºç¡€ç†è®ºï¼ˆä¸€ï¼‰CAPç†è®º Cï¼šConsistencyï¼Œä¸€è‡´æ€§ â€”â€” æ‰€æœ‰èŠ‚ç‚¹è®¿é—®åŒä¸€ä»½æœ€æ–°æ•°æ®å‰¯æœ¬ å¼ºä¸€è‡´æ€§ï¼šä»»ä½•æ—¶é—´æ‰€æœ‰èŠ‚ç‚¹è®¿é—®åˆ°çš„æ•°æ®éƒ½æ˜¯æœ€æ–°çš„ã€‚æœ€ç»ˆä¸€è‡´æ€§ï¼šä¸ä¿è¯ä»»ä½•æ—¶é—´æ‰€æœ‰èŠ‚ç‚¹è®¿é—®åˆ°çš„æ•°æ®éƒ½æ˜¯æœ€æ–°çš„ï¼Œä½†æ˜¯ä¿è¯ä¸€å®šæ—¶é—´åç³»ç»Ÿä¸­çš„æ•°æ®éƒ½æ˜¯æœ€æ–°çš„ã€‚ Aï¼šAvailabilityï¼Œå¯ç”¨æ€§ â€”â€” æ¯æ¬¡è¯·æ±‚éƒ½èƒ½æ”¶åˆ°éé”™å“åº”ï¼Œä½†æ˜¯ä¸ä¿è¯è·å–çš„æ•°æ®æ˜¯æœ€æ–°æ•°æ® Pï¼šPartition Toleranceï¼Œåˆ†åŒºå®¹é”™æ€§ â€”â€” åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡åˆ°æŸèŠ‚ç‚¹æˆ–ç½‘ç»œåˆ†åŒºæ•…éšœæ—¶ï¼Œä»èƒ½å¤Ÿå¯¹å¤–ä¿è¯æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ CAPç†è®ºå¸¸è¢«è®¤ä¸ºæ˜¯ä¸€è‡´æ€§ï¼ˆCï¼‰ã€å¯ç”¨æ€§ï¼ˆAï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPï¼‰åªèƒ½3é€‰2ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œåˆ†åŒºå®¹é”™æ€§ï¼ˆPï¼‰æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºæœ¬èƒ½åŠ›ï¼Œå¿…é¡»è¦ä¿è¯ã€‚ C/Açš„å–èˆ åœ¨å‘ç”Ÿç½‘ç»œåˆ†åŒºï¼ˆPï¼‰çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³è¦ä¿è¯ç»§ç»­æœåŠ¡ï¼Œé‚£ä¹ˆå¼ºä¸€è‡´æ€§ï¼ˆCï¼‰å’Œå¯ç”¨æ€§ï¼ˆAï¼‰åªèƒ½2é€‰1ã€‚ ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œæ”¾å¼ƒå¯ç”¨æ€§ â€”â€” å¯ä»¥ä¿è¯ç”¨æˆ·çœ‹åˆ°çš„æ•°æ®éƒ½æ˜¯æœ€æ–°çš„æ•°æ®ï¼Œä½†æ˜¯ä»£ä»·æ˜¯å“åº”æ—¶é—´æ€¥å‰§å¢åŠ ï¼Œä¸€èˆ¬ä¸å¯å–ã€‚ ä¿è¯å¯ç”¨æ€§ï¼Œæ”¾å¼ƒå¼ºä¸€è‡´æ€§ â€”â€” é¦–å…ˆä¿è¯ç”¨æˆ·çš„ä½“éªŒï¼Œå…è®¸ç”¨æˆ·çœ‹åˆ°çš„æ•°æ®ä¸æ˜¯æœ€æ–°çš„ï¼Œåªä¿è¯åœ¨ä¸€å®šæ—¶é—´åç³»ç»Ÿä¸­çš„æ•°æ®ä¼šä¸€è‡´ï¼ˆå³æœ€ç»ˆä¸€è‡´æ€§ï¼‰ ï¼ˆäºŒï¼‰BASEç†è®º BAï¼šBasically Availableï¼ŒåŸºæœ¬å¯ç”¨æ€§ â€”â€” åœ¨é›†ç¾¤æ•…éšœæ—¶ï¼Œå…è®¸æŸå¤±ä¸€éƒ¨åˆ†çš„å¯ç”¨æ€§ï¼Œä½†ç»ä¸å…è®¸ç³»ç»Ÿä¸å¯ç”¨ å¦‚ï¼šâ‘ å“åº”æ—¶é—´å¢åŠ ï¼›â‘¡ç³»ç»ŸåŠŸèƒ½çš„æŸå¤±ï¼šå¤§ä¿ƒæœŸé—´ï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œéƒ¨åˆ†æ¶ˆè´¹è€…ä¼šè¢«å¼•å¯¼åˆ°ä¸€ä¸ªé™çº§é¡µé¢ Sï¼šSoft-stateï¼Œè½¯çŠ¶æ€ â€”â€” å…è®¸æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå³å…è®¸ä¸åŒæ•°æ®å‰¯æœ¬ä¹‹é—´çš„åŒæ­¥å­˜åœ¨å»¶è¿Ÿ Eï¼šEventually Consistentï¼Œæœ€ç»ˆä¸€è‡´æ€§","categories":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/categories/åˆ†å¸ƒå¼/"}],"tags":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/tags/åˆ†å¸ƒå¼/"},{"name":"CAP","slug":"CAP","permalink":"/tags/CAP/"},{"name":"BASE","slug":"BASE","permalink":"/tags/BASE/"},{"name":"ZooKeeper","slug":"ZooKeeper","permalink":"/tags/ZooKeeper/"},{"name":"ZAB","slug":"ZAB","permalink":"/tags/ZAB/"},{"name":"MySQL","slug":"MySQL","permalink":"/tags/MySQL/"},{"name":"é«˜å¯ç”¨","slug":"é«˜å¯ç”¨","permalink":"/tags/é«˜å¯ç”¨/"}],"keywords":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/categories/åˆ†å¸ƒå¼/"}]},{"title":"ç®—æ³•ä¸“é¢˜â€”â€”åŠ¨æ€è§„åˆ’","slug":"Algorithm-DP","date":"2019-09-03T14:40:22.000Z","updated":"2019-12-14T02:55:28.715Z","comments":true,"path":"Algorithm-DP/","link":"","permalink":"/Algorithm-DP/","excerpt":"","text":"ç®—æ³•ä¸“é¢˜â€”â€”åŠ¨æ€è§„åˆ’ å‚è€ƒè‡ªã€ŠåŠ¨æ€è§„åˆ’å¥—è·¯è¯¦è§£ã€‹ï¼Œå†™å¾—çœŸå¥½ã€‚ åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programming, DPï¼‰æ˜¯ä¸€ç§å°†åŸæœ‰é—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜ï¼Œæ¥æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•ï¼Œå¸¸å¸¸é€‚ç”¨äºæœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜ã€‚ æœ€ä¼˜å­ç»“æ„ï¼šåŸé—®é¢˜çš„è§£ç”±å­é—®é¢˜çš„æœ€ä¼˜è§£æ„æˆï¼Œå¹¶ä¸”å­é—®é¢˜å¿…é¡»ç›¸äº’ç‹¬ç«‹ã€äº’ä¸å¹²æ‰° åŸç†ï¼šå°†é‡å¤è®¡ç®—å­é—®é¢˜è½¬åŒ–ä¸ºæŸ¥è¡¨ï¼Œä¿è¯æ¯ä¸ªå­é—®é¢˜åªè®¡ç®—ä¸€æ¬¡ â€”â€” ä¸€æ—¦æŸä¸ªç»™å®šå­é—®é¢˜çš„è§£å·²ç»ç®—å‡ºï¼Œåˆ™å°†å…¶è®°å¿†åŒ–å­˜å‚¨ï¼Œä»¥ä¾¿ä¸‹æ¬¡éœ€è¦åŒä¸€ä¸ªå­é—®é¢˜è§£ä¹‹æ—¶ç›´æ¥æŸ¥è¡¨ã€‚ ç”¨é€”ï¼šDPå¸¸ç”¨äºä¼˜åŒ–é€’å½’é—®é¢˜ï¼Œä½¿ç”¨é€’å½’æ±‚è§£æ—¶å¦‚æœéœ€è¦è®¡ç®—å¾ˆå¤šæ¬¡é‡å¤å­é—®é¢˜ï¼Œé‚£ä¹ˆåˆ©ç”¨DPå¯ä»¥å‡å°‘è®¡ç®—é‡ï¼Œå…·æœ‰å¤©ç„¶å‰ªæçš„åŠŸèƒ½ã€‚ è§£DPé—®é¢˜çš„å…³é”®ï¼šæ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ æ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä¹Ÿå°±æ„å‘³ç€æ‰¾åˆ°äº†ä¸€ç§æš´åŠ›ç ´è§£çš„æ–¹æ³•ã€‚ ï¼ˆã€‡ï¼‰è§£DPçš„æƒ¯ç”¨ä¸‰æ­¥éª¤1.é€’å½’ è‡ªé¡¶å‘ä¸‹ï¼Œç”»é€’å½’æ ‘ï¼Œæ‰¾åˆ°é€’å½’è§£æ³•ï¼Œå‘ç°é‡å¤å­é—®é¢˜ã€‚ å¯ä»¥çœ‹åˆ°å­˜åœ¨å¾ˆå¤šé‡å¤è®¡ç®—ã€‚ int countPaths(boolean[][] grid, int row, int col) { if (!validSquare(grid, row, col)) { return 0; } if (isAtEnd(grid, row, col)) { return 1; } return countPaths(grid, row + 1, col) + countPaths(grid, row, col + 1); } 2.é€’å½’ + è®°å¿†åŒ– å°†é‡å¤å­é—®é¢˜è¿›è¡Œè®°å¿†åŒ–å­˜å‚¨ å°†æ¯æ¬¡è®¡ç®—æ‰€å¾—ç»“æœå­˜å…¥ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ¯æ¬¡ä¸æ˜¯é‡æ–°æ±‚ï¼Œè€Œæ˜¯æŸ¥æ•°ç»„ã€‚ 3.å®šä¹‰çŠ¶æ€æ•°ç»„ï¼Œé€’æ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹ å®šä¹‰çŠ¶æ€æ•°ç»„ï¼ˆå³dp[n]æ•°ç»„ï¼‰ è‡ªåº•å‘ä¸Šï¼Œé€’æ¨å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œè§£å†³DP //è¾¹ç•Œæ¡ä»¶ï¼šæœ€ä¸‹é¢ä¸€è¡Œå’Œæœ€å³è¾¹ä¸€åˆ—ï¼Œopt[i, j] = 0ï¼Œåªæœ‰ä¸€ç§èµ°æ³• if (a[i, j] = &#39;ç©ºåœ°&#39;) { opt[i, j] = opt[i - 1, j] + opt[i, j - 1]; }else { //çŸ³å¤´ opt[i, j] = 0; } ï¼ˆä¸€ï¼‰èƒŒåŒ…é—®é¢˜å°†ä¸€ç³»åˆ—å…·æœ‰é‡é‡wçš„ç‰©å“ï¼ˆå¯èƒ½è¿˜æœ‰ä»·å€¼vï¼‰ï¼Œæ”¾å…¥ä¸€ä¸ªæ€»å®¹é‡ä¸ºCçš„èƒŒåŒ…ä¸­ï¼Œæ»¡è¶³æŸç§æ¡ä»¶ï¼ˆæ¯”å¦‚æ”¾å…¥çš„ç‰©å“é‡é‡å’Œæ°å¥½ä¸ºC/é‡é‡å’Œæœ€å¤§/ä»·å€¼å’Œæœ€å¤§ï¼‰ã€‚ ï¼ˆ1ï¼‰0-1èƒŒåŒ…0-1èƒŒåŒ…éšå«çš„ä¿¡æ¯æ˜¯ï¼š å¯¹äºæ¯ç§ç‰©å“åªæœ‰ä¸¤ç§é€‰æ‹©ï¼Œå³â€œå®Œå…¨è£…å…¥èƒŒåŒ…â€/â€œä¸è£…å…¥èƒŒåŒ…â€ã€‚ ä¸èƒ½å°†åŒä¸€ä¸ªç‰©å“è£…å…¥èƒŒåŒ…å¤šæ¬¡ï¼Œä¹Ÿä¸èƒ½åªè£…ä¸€ä¸ªç‰©å“çš„ä¸€éƒ¨åˆ†ã€‚ â‘ ç‰©å“æ— ä»·å€¼ï¼šã€é‡é‡å’Œæ°å¥½ä¸ºC/é‡é‡å’Œæœ€å¤§ã€‘å‡è®¾æœ‰ä¸€ä¸ªæ€»å®¹é‡ä¸ºCçš„èƒŒåŒ…å’Œnä»¶é‡é‡åˆ†åˆ«ä¸ºw1,w2,..,wnçš„ç‰©å“ï¼Œèƒ½å¦ä»nä»¶ç‰©å“ä¸­æŒ‘é€‰è‹¥å¹²ä»¶æ­£å¥½è£…æ»¡èƒŒåŒ…ã€‚ å½“C=10ï¼Œ6ä»¶ç‰©å“ç§ç±»åˆ†åˆ«ä¸º{1,8,4,3,5,2}ï¼Œå¯ä»¥æ‰¾åˆ°ä»¥ä¸‹4ç»„è§£ï¼š(1,4,3,2)ã€(1,4,5)ã€(8,2)ã€(3,5,2) çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šmaxValue[i][j] = Math.max(maxValue[i -1][j], maxValue[i - 1][j - w[i]] + w[i]);ï¼Œå…¶ä¸­0 &lt;= i &lt; n - 1ï¼Œ0 &lt;= j &lt;= C æ— ä»·å€¼çš„0-1èƒŒåŒ…é—®é¢˜ï¼ˆé‡é‡å’Œæœ€å¤§ï¼‰ â‘¡ç‰©å“æœ‰ä»·å€¼ï¼šã€ä»·å€¼å’Œæœ€å¤§ã€‘å‡è®¾æœ‰ä¸€ä¸ªæ€»å®¹é‡ä¸ºCçš„èƒŒåŒ…ï¼Œnç§ç‰©å“æ»¡è¶³ç¬¬iç§ç‰©å“é‡é‡ä¸ºwiã€ä»·å€¼ä¸ºviï¼Œåº”è¯¥å¦‚ä½•é€‰æ‹©è£…å…¥èƒŒåŒ…çš„ç‰©å“ï¼Œä½¿å¾—è£…å…¥èƒŒåŒ…ä¸­çš„ç‰©å“ä»·å€¼å’Œæœ€å¤§ã€‚ ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„maxValue[i][C]æ¥è¡¨ç¤ºç¬¬iç§ç‰©å“è£…å…¥å®¹é‡ä¸ºCçš„èƒŒåŒ…æ—¶çš„æœ€å¤§ä»·å€¼ ç¬¬iç§ç‰©å“è£…å…¥èƒŒåŒ…æ—¶æœ€å¤§ä»·å€¼æœ‰ä¸¤ç§æƒ…å†µï¼š è£…å…¥ç¬¬iç§ç‰©å“æ—¶ï¼Œå®¹é‡è¶…è¿‡Cï¼šæ­¤æ—¶æœ€å¤§ä»·å€¼å°±æ˜¯ä¸è£…å…¥ç¬¬iç§ç‰©å“æ—¶çš„æœ€å¤§ä»·å€¼ â€”â€” maxValue[i-1][C] è£…å…¥ç¬¬iç§ç‰©å“æ—¶ï¼Œå®¹é‡ä¸è¶…è¿‡Cï¼šæ­¤æ—¶æœ€å¤§ä»·å€¼éœ€è¦åœ¨å‰i-1ç§ç‰©å“æœ€å¤§ä»·å€¼ä¸ŠåŠ ä¸Šç¬¬iç§ç‰©å“çš„ä»·å€¼ï¼ŒåŒæ—¶å‰i-1ç§ç‰©å“çš„å®¹é‡éœ€è¦å‡å»ç¬¬iç§ç‰©å“çš„å®¹é‡ â€”â€” vi + maxValue[i - 1][C - wi] çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šmaxValue[i][C] = Math.max(maxValue[i - 1][C], vi + maxValue[i - 1][C - wi]); //@params: int[] w é‡é‡ //@params: int[] v ä»·å€¼ //@params: int C èƒŒåŒ…å®¹é‡ public static int knapsack(int[] w, int[] v, int C) { int size = w.length(); if(size &lt;= 0) return 0; //æœ€å¤§ä»·å€¼æ•°ç»„ int[][] maxValue = new int[size][C + 1]; //è¾¹ç•Œå€¼â€”â€”åªå¡«å…¥ç‰©å“0æ—¶çš„æœ€å¤§ä»·å€¼ for(int i = 0; i &lt;= C; i++) { //åˆ¤æ–­å®¹é‡æ˜¯å¦è¶…è¿‡ maxValue[0][i] = w[0] &gt; C ? 0 : v[0]; } //çŠ¶æ€è½¬ç§»æ–¹ç¨‹ for(int j = 1; j &lt; size; j++){ for(int k = 0; k &lt;= C; k++){ //è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è¿‡æ»¤æ‰k - w[j] &lt; 0çš„æƒ…å†µï¼Œé˜²æ­¢æ•°ç»„è¶Šç•Œ maxValue[j][k] = maxValue[j - 1][k]; if(w[j] &lt;= k) maxValue[j][k] = Math.max(maxValue[j][k] , maxValue[j - 1][k - w[j]] + v[j]); } } //æ€»å…±sizeç§ï¼Œä»0å¼€å§‹ return maxValue[size - 1][C]; } ä»¥ä¸ŠDPä½¿ç”¨äº†äºŒç»´æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(n * C)ã€‚å¯ä»¥ä¼˜åŒ–ä¸ºä¸€ç»´æ•°ç»„ï¼š //... int[] maxValue = new int[C + 1]; //è¾¹ç•Œå€¼â€”â€”åªå¡«å…¥ç¬¬0ç§ç‰©å“ for(int i = 0; i &lt;= C; i++){ maxValue[i] = w[i] &lt; i ? v[i] : 0; } //çŠ¶æ€è½¬ç§»æ–¹ç¨‹ for(int j = 1; j &lt; size; j++){ //ä»åå¾€å‰éå†ï¼Œé˜²æ­¢è®¡ç®—ç»“æœè¢«è¦†ç›– for(int k = C; k &gt;= w[j]; k--){ maxValue[k] = Math.max(maxValue[k], v[j] + maxValue[k - w[j]]); } } return maxValue[C]; ï¼ˆ2ï¼‰å®Œå…¨èƒŒåŒ… ä¸â€œ0-1èƒŒåŒ…â€çš„åŒºåˆ«åœ¨äºæ¯ç§ç‰©å“å¯ä»¥æ”¾æ— é™æ¬¡ã€‚ å‡è®¾æœ‰ä¸€ä¸ªæ€»å®¹é‡ä¸ºCçš„èƒŒåŒ…ï¼Œnç§ç‰©å“æ»¡è¶³ç¬¬iç§ç‰©å“é‡é‡ä¸ºwiã€ä»·å€¼ä¸ºviï¼Œæ¯ç§ç‰©å“å¯ä»¥æ”¾å…¥æ— é™å¤šæ¬¡ï¼Œåº”è¯¥å¦‚ä½•é€‰æ‹©è£…å…¥èƒŒåŒ…çš„ç‰©å“ï¼Œä½¿å¾—è£…å…¥èƒŒåŒ…ä¸­çš„ç‰©å“ä»·å€¼å’Œæœ€å¤§ã€‚ ï¼ˆ3ï¼‰å¤šé‡èƒŒåŒ…ä¸â€œ0-1èƒŒåŒ…â€çš„åŒºåˆ«åœ¨äºæ¯ç§ç‰©å“æœ‰ä¸€ä¸ªå›ºå®šçš„æ¬¡æ•°ä¸Šé™ã€‚ ï¼ˆäºŒï¼‰Leetcode easy1.æœ€å¤§å­åºå’Œ https://leetcode-cn.com/problems/maximum-subarray/ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„numsï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚ è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4] è¾“å‡º: 6 è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6 æ‰«ææ³• æ€è·¯ï¼šåŠ ä¸Šä¸€ä¸ªæ­£æ•°å’Œä¼šå¢åŠ ï¼ŒåŠ ä¸Šä¸€ä¸ªè´Ÿæ•°å’Œä¼šå‡å°‘ï¼›ç”±äºå­æ•°ç»„æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥å¯¹äºå½“å‰å…ƒç´ æ¥è¯´ï¼Œå¦‚æœåŠ å…¥ä¹‹å‰å­æ•°ç»„å’Œä¸­å¾—åˆ°äº†ä¸€ä¸ªè´Ÿæ•°ï¼Œé‚£ä¹ˆå°±å°†ç´¯åŠ ç»“æœä¸¢å¼ƒå¹¶æ¸…é›¶ï¼Œå­æ•°ç»„ä»å½“å‰å…ƒç´ é‡æ–°å¼€å§‹éå†å³å¯ã€‚ çœ‹åˆ°ç½‘ä¸Šæœ‰äººå°†å…¶ç±»æ¯”æˆäº†â€œèµŒå¾’ç†è®ºâ€ â€”â€” æ°¸è¿œåªè®°ä½è‡ªå·±èµ¢é’±çš„æ—¶å€™ï¼Œå¦‚æœå“ªä¸€å¤©æŸ¥çœ‹æ€»èµ„äº§å‘ç°è‡ªå·±äºæœ¬äº†ï¼Œå°±å°†è¿™ä¸€å¤©ä¹‹å‰çš„é‚£äº›å¤©éƒ½å¿˜è®°ï¼Œä»0å¼€å§‹èµŒã€‚ æ—¶é—´å¤æ‚åº¦ï¼šO(N) //8 ms //3.3 MB func scanMaxSubArray(nums []int) int { //æœ€å¤§å­æ•°ç»„å’Œï¼Œç”±äºå­æ•°ç»„å¿…ç„¶è¿ç»­ä¸”éç©ºï¼Œæ‰€ä»¥åˆå§‹å€¼å³ç¬¬ä¸€ä¸ªå…ƒç´  max := nums[0] //å½“å‰å­æ•°ç»„å’Œ sum := 0 //éå†æ•°ç»„ï¼Œå°†å½“å‰å…ƒç´ åŠ å…¥å­æ•°ç»„ï¼ˆå¹¶ä¸éœ€è¦çœŸæ­£çš„åŠ å…¥ï¼Œå› ä¸ºæˆ‘ä»¬å…³å¿ƒçš„åªæ˜¯åŠ å…¥åçš„æ•°ç»„å’Œï¼‰ for i := 0; i &lt; len(nums); i++ { sum += nums[i] //å¦‚æœåŠ å…¥çš„æ˜¯æ­£æ•°ï¼Œæ›´æ–°æœ€å¤§å€¼ if sum &gt; max { max = sum } //å¦‚æœå’Œä¸ºè´Ÿæ•°ï¼Œå°†å’Œä¸¢å¼ƒå¹¶æ¸…ç©ºï¼Œå³å­æ•°ç»„å¼€å§‹å…ƒç´ å˜æ›´ä¸ºå½“å‰å…ƒç´  if sum &lt; 0 { sum = 0 } } return max } DP çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šdp[i] = max(dp[i - 1] + nums[i], nums[i]) æ—¶é—´å¤æ‚åº¦ï¼šO(N) //8 ms //3.5 MB func dpMaxSubArray(nums []int) int { max := nums[0] length := len(nums) dp := make([]int, length) //dp[i]ä»£è¡¨çš„æ˜¯æ•°ç»„ä¸‹æ ‡ä¸ºiçš„å…ƒç´ åŠ å…¥åï¼Œå­æ•°ç»„ä¸­æœ€å¤§å€¼ //æ‰€ä»¥å¯ä»¥çŸ¥é“dp[0] = nums[0]ï¼Œå³ç¬¬ä¸€ä¸ªå…ƒç´  dp[0] = nums[0] for i := 1; i &lt; length; i++ { dp[i] = nums[i] if sum := dp[i -1] + nums[i]; sum &gt; max { dp[i] = sum } //è®°å½•æœ€å¤§å€¼ if sum &gt; max { max = sum } } return max } 2.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬iä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬iå¤©çš„ä»·æ ¼ã€‚å¦‚æœä½ æœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ï¼ˆå³ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚æ³¨æ„ä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ã€‚ è¾“å…¥: [7,1,5,3,6,4] è¾“å‡º: 5 è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚ æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚ è¾“å…¥: [7,6,4,3,1] è¾“å‡º: 0 è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚ O(N)è§£æ³•è¿™ç§æ€è·¯æ˜¯å¾ˆå®¹æ˜“æƒ³åˆ°çš„ï¼Œè®°å½•æœ€å°å…ƒç´ minå’Œæœ€å¤§å·®å€¼maxï¼Œéå†æ•°ç»„ï¼Œå°†å½“å‰ä½ç½®å…ƒç´ å’Œminåšå‡æ³•ï¼Œæ›´æ–°maxå’Œminï¼š // 12 ms // 3.1 MB func maxProfit(prices []int) int { l := len(prices) if l &lt;= 1 { return 0 } max := 0 //æœ€å¤§å·®å€¼ min := prices[0] //è‚¡ç¥¨ä¹°å…¥æœ€ä½ä»· for i := 1; i &lt; l; i++ { tmp := prices[i] - min //æ­¤æ—¶å–å‡ºèµšåˆ°çš„é’± if tmp &gt; max { max = tmp } //å¦‚æœèµšåˆ°çš„é’±æ˜¯è´Ÿæ•°ï¼Œæ›´æ–°æœ€å°å€¼ if tmp &lt; 0 { min = prices[i] } } return max } DPæ ¹æ®æƒ¯æœ‰å¥—è·¯ï¼Œæˆ‘ä»¬è¦å…ˆå®šä¹‰çŠ¶æ€æ•°ç»„ï¼Œç„¶åé€’æ¨å‡ºDPçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚é‚£ä¹ˆçŠ¶æ€æ•°ç»„å¦‚ä½•å®šä¹‰å‘¢ï¼Ÿ é¦–å…ˆæœ€å®¹æ˜“æƒ³åˆ°çš„æ˜¯ä¸€ç»´çŠ¶æ€æ•°ç»„ï¼šmp[i]ä»£è¡¨çš„æ˜¯åˆ°ç¬¬iå¤©çš„æœ€å¤§åˆ©æ¶¦ã€‚åœ¨ç¬¬iå¤©çš„æ—¶å€™å¯ä»¥é€‰æ‹©ä¹°å…¥è‚¡ç¥¨æˆ–è€…å–å‡ºè‚¡ç¥¨ï¼Œå°è¯•æ¥å†™çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šmp[i] = (price[i] &gt;= 0) ? (mp[i - 1] - price[i]) : (mp[i - 1] + price[i])ã€‚ä½†æ˜¯è¿™æ ·å†™æ˜¯ä¸å¯¹çš„ï¼æˆ‘ä»¬è¿˜æœ‰å…¶ä»–çš„é™åˆ¶æ¡ä»¶ï¼šä¹°å…¥è‚¡ç¥¨æ—¶æ‰‹é‡Œä¸èƒ½æŒæœ‰è‚¡ç¥¨ã€å–å‡ºè‚¡ç¥¨æ—¶æ‰‹é‡Œå¿…é¡»æœ‰è‚¡ç¥¨ï¼Œæ‰€ä»¥åªç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥å®šä¹‰çŠ¶æ€æ˜¯ä¸å¤Ÿçš„ã€‚ æˆ‘ä»¬å¢åŠ ä¸€ä¸ªç»´åº¦ï¼šmp[i][has]ä»£è¡¨çš„æ˜¯åˆ°ç¬¬iå¤©çš„æœ€å¤§åˆ©æ¶¦ï¼Œhas âˆˆ {0, 1}ï¼Œ0è¡¨ç¤ºæ‰‹ä¸­æœªæŒæœ‰è‚¡ç¥¨ï¼Œ1è¡¨ç¤ºæ‰‹ä¸­æŒæœ‰è‚¡ç¥¨ã€‚åœ¨ç¬¬i - 1å¤©å¦‚æœæ‰‹ä¸­æ²¡æœ‰è‚¡ç¥¨ï¼Œæˆ‘ä»¬å¯ä»¥ç¬¬iå¤©ä¿æŒåŸçŠ¶æˆ–è€…é€‰æ‹©ä¹°å…¥ï¼Œé€‰æ‹©ä¸¤è€…ä¸­çš„æœ€å¤§å€¼ï¼›å¦‚æœç¬¬i - 1å¤©æ‰‹ä¸­æŒæœ‰è‚¡ç¥¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¬¬iå¤©ä¿æŒåŸçŠ¶æˆ–è€…å–å‡ºï¼Œé€‰æ‹©ä¸¤è€…ä¸­çš„æœ€å¤§å€¼ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹å˜æˆäº†ï¼š mp[i][0] = max(mp[i - 1][0], mp[i - 1][1] + price[i]) //å–å‡ºè‚¡ç¥¨ï¼Œåˆ©æ¶¦åŠ ä¸Šä»·æ ¼ mp[i][1] = max(mp[i - 1][1], mp[i - 1][0] - price[i]) //ä¹°å…¥è‚¡ç¥¨ï¼Œåˆ©æ¶¦å‡å»ä»·æ ¼ é‚£ä¹ˆä½¿ç”¨äºŒç»´æ•°ç»„å°±å¤Ÿäº†å—ï¼Ÿç­”æ¡ˆæ˜¯è¿˜æ˜¯ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªé™åˆ¶æ¡ä»¶ï¼šæœ€å¤šåªèƒ½ä¹°å–kæ¬¡è‚¡ç¥¨ï¼ˆæœ¬é¢˜ä¸­k = 1ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬è¦å†å¢åŠ ä¸€ä¸ªç»´åº¦ï¼šmp[i][cnt][has]ä»£è¡¨çš„æ˜¯åˆ°ç¬¬iå¤©çš„æœ€å¤§åˆ©æ¶¦ï¼Œcntä»£è¡¨ç¬¬iå¤©ä¹‹å‰äº¤æ˜“è‚¡ç¥¨çš„æ¬¡æ•°ï¼Œhas âˆˆ {0, 1}ï¼ˆ0è¡¨ç¤ºæ‰‹ä¸­æœªæŒæœ‰è‚¡ç¥¨ï¼Œ1è¡¨ç¤ºæ‰‹ä¸­æŒæœ‰è‚¡ç¥¨ï¼‰ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹å˜æˆäº†ï¼š mp[i][k][0] = max(mp[i - 1][k][0], mp[i - 1][k - 1][1] + price[i]) //å–å‡ºè‚¡ç¥¨ï¼Œåˆ©æ¶¦åŠ ä¸Šä»·æ ¼ mp[i][k][1] = max(mp[i - 1][k][1], mp[i - 1][k - 1][0] - price[i]) //ä¹°å…¥è‚¡ç¥¨ï¼Œåˆ©æ¶¦å‡å»ä»·æ ¼ åˆ°è¿™ä¸€æ­¥ï¼Œæœ€å¤§åˆ©æ¶¦å°±å˜æˆäº†max( mp[n - 1][cnt][0] ), cntåœ¨[0, k]èŒƒå›´å†…å¾ªç¯ é‚£ä¹ˆå¦‚æœé¢˜ç›®æ”¹ä¸ºæ‰‹ä¸­æœ€å¤šæŒæœ‰Xè‚¡ç¥¨å‘¢ï¼Ÿhasåœ¨[0, X]èŒƒå›´å†…å¾ªç¯å³å¯ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šmp[i][k][j] = max(mp[i - 1][k][j], mp[i - 1][k - 1][j + 1] + price[i], mp[i - 1][k - 1][j - 1] - price[i])","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"/tags/ç®—æ³•/"},{"name":"èƒŒåŒ…é—®é¢˜","slug":"èƒŒåŒ…é—®é¢˜","permalink":"/tags/èƒŒåŒ…é—®é¢˜/"},{"name":"0-1èƒŒåŒ…","slug":"0-1èƒŒåŒ…","permalink":"/tags/0-1èƒŒåŒ…/"},{"name":"å®Œå…¨èƒŒåŒ…","slug":"å®Œå…¨èƒŒåŒ…","permalink":"/tags/å®Œå…¨èƒŒåŒ…/"},{"name":"DP","slug":"DP","permalink":"/tags/DP/"},{"name":"é€’å½’","slug":"é€’å½’","permalink":"/tags/é€’å½’/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"/categories/ç®—æ³•/"}]},{"title":"ç®—æ³•ä¸“é¢˜ï¼šæ’åº","slug":"Algorithm-sort","date":"2019-08-16T12:24:26.000Z","updated":"2019-12-14T02:55:35.829Z","comments":true,"path":"Algorithm-sort/","link":"","permalink":"/Algorithm-sort/","excerpt":"","text":"æ’åº ç¨³å®šæ€§ä¸€ä¸ªæ’åºç®—æ³•çš„ç¨³å®šæ€§æ˜¯æŒ‡ï¼Œå¦‚æœa=bï¼Œæ’åºå‰aåœ¨bå‰é¢ï¼Œé‚£ä¹ˆæ’åºåaä¹Ÿè¦åœ¨bçš„å‰é¢ã€‚å³æ’åºåå…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚ ç®€å•æ¥è¯´ï¼š å¦‚æœä¸€ä¸ªæ’åºç®—æ³•ä¼šå°†æŸä¸ªå…ƒç´ å•ç‹¬æåˆ°æŸä¸ªä½ç½®ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸ç¨³å®šçš„ï¼› å¦‚æœä¸€ä¸ªæ’åºç®—æ³•åªæ¶‰åŠä¸¤ä¸¤ç›¸é‚»å…ƒç´ ä¹‹é—´çš„äº¤æ¢ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ç¨³å®šçš„ã€‚ ç¨³å®šæ’åºï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€å¸Œå°”æ’åºã€å½’å¹¶æ’åº ä¸ç¨³å®šæ’åºï¼šé€‰æ‹©æ’åºã€å¿«æ’ã€å †æ’åº 1.é€‰æ‹©æ’åºï¼ˆO(N^2)ï¼‰ é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰æ¯æ¬¡æ’åºæ—¶ï¼Œä»æœªæ’åºåºåˆ—ä¸­â€œé€‰æ‹©â€ä¸€ä¸ªå…ƒç´ åŠ å…¥æ’åºåºåˆ—ï¼Œå› æ­¤å¾—åã€‚ é€‰æ‹©æ’åºéœ€è¦ä¸¤æ¬¡éå† â€”â€” ç¬¬ä¸€éæ˜¯éå†æ‰€æœ‰å…ƒç´ ï¼Œç¡®è®¤å·²æ’åºçš„åºåˆ—èŒƒå›´[0,i)ï¼›ç¬¬äºŒéæ˜¯éå†æ‰€æœ‰æœªæ’åºåºåˆ—[i,lastIndex]ï¼Œæ¯æ¬¡å°†å½“å‰ä½ç½®ä¸é˜Ÿé¦–ï¼ˆiï¼‰å…ƒç´ æ¯”è¾ƒï¼Œé€‰æ‹©æœ€å°å…ƒç´ ï¼Œäº¤æ¢åˆ°é˜Ÿé¦–ï¼Œæ‰€ä»¥é€‰æ‹©æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N^2) é€‰æ‹©æ’åºæ˜¯ä¸ç¨³å®šæ’åºï¼Œå› ä¸ºå­˜åœ¨å°†å…ƒç´ å•ç‹¬æåˆ°æŸä¸ªä½ç½®çš„æƒ…å†µ //é€‰æ‹©æ’åº public static int[] selectionSort(int[] in) { int lastIndex = in.length - 1; //å³ï¼šå¾ªç¯éå†æ¬¡æ•° for (int i = 0; i &lt;= lastIndex; i++) { //æ¯æ¬¡éå†ï¼Œå°†æœ€å°å…ƒç´ æµ®åŠ¨åˆ°æœ€å·¦è¾¹ //0~iæ˜¯å·²æ’åºåºåˆ—ï¼Œi~lastIndexæ˜¯æœªæ’åºåºåˆ—ï¼Œå°†æœªæ’åºä¸­çš„æœ€å°å…ƒç´ æ”¾åœ¨iä½ç½® for(int j = i; j &lt;= lastIndex; j++) { //é»˜è®¤in[i]æ˜¯æœ€å°å…ƒç´ ï¼Œå¦‚æœin[j]å°äºin[i]ï¼Œåˆ™äº¤æ¢ if (in[j] &lt; in[i]) { //å¦‚æœi=jï¼Œé‚£ä¹ˆin[i]=in[j] //æ‰€ä»¥å¯ä»¥ä¿è¯in[i]ã€in[j]æ˜¯ä¸åŒå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å¼‚æˆ–è¿›è¡Œäº¤æ¢ in[i] = in[i] ^ in[j]; in[j] = in[i] ^ in[j]; in[i] = in[i] ^ in[j]; } } } return in; } é€‰æ‹©æ’åº &amp; æ’å…¥æ’åº çš„åŒºåˆ«ï¼šé€‰æ‹©æ’åºæ˜¯æ¯æ¬¡ä»æœªæ’åºåºåˆ—ä¸­é€‰æ‹©æœ€å°/æœ€å¤§çš„å…ƒç´ ï¼ŒåŠ å…¥å·²æ’åºåºåˆ—ï¼›æ’å…¥æ’åºæ˜¯æ¯æ¬¡æŒ‰é¡ºåºä»æœªæ’åºåºåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼ŒåŠ å…¥å·²æ’åºåºåˆ—ä¸­çš„åˆé€‚ä½ç½®ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œé€‰æ‹©æ’åºéå†çš„æœªæ’åºåºåˆ—ï¼Œæ’å…¥æ’åºéå†çš„å·²æ’åºåºåˆ—ã€‚ 2.å†’æ³¡æ’åºï¼ˆO(N^2)ï¼‰ å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰æ¯æ¬¡æ’åºæ—¶ï¼Œå°†æœªæ’åºåºåˆ—æœ€å¤§å…ƒç´ â€œæµ®åŠ¨â€åˆ°å°¾éƒ¨ï¼Œå› æ­¤å¾—åã€‚ å†’æ³¡æ’åºéœ€è¦ä¸¤æ¬¡éå† â€”â€” ç¬¬ä¸€éæ˜¯éå†æ‰€æœ‰å…ƒç´ ï¼Œç¡®è®¤å·²æ’åºçš„åºåˆ—èŒƒå›´[lastIndex - i, lastIndex]ï¼›ç¬¬äºŒéæ˜¯éå†æ‰€æœ‰æœªæ’åºåºåˆ—ï¼ˆ0, lastIndex - iï¼‰ï¼Œç›¸é‚»å…ƒç´ ä¸¤ä¸¤æ¯”è¾ƒï¼Œå°†æœ€å¤§å…ƒç´ æµ®åŠ¨åˆ°é˜Ÿå°¾ï¼Œæ‰€ä»¥å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N^2) å†’æ³¡æ’åºæ˜¯ç¨³å®šæ’åºï¼Œå› ä¸ºåªæ¶‰åŠç›¸é‚»å…ƒç´ ä¸¤ä¸¤æ¯”è¾ƒ //å†’æ³¡æ’åº public static int[] bubbleSort(int[] in) { int lastIndex = in.length - 1; for (int i = 0; i &lt;= lastIndex; i++) { //[lastIndex - i,lastIndex]æ˜¯æ’å¥½åºçš„åºåˆ— //[0,lastIndex - i)æ˜¯æœªæ’å¥½åºçš„åºåˆ— for(int j = 0; j &lt;= lastIndex - i - 1; j++) { //ä¸é€‰æ‹©æ’åºä¸åŒï¼Œå†’æ³¡æ’åºæ˜¯ä¸¤ä¸¤ç›¸é‚»å…ƒç´ æ¯”è¾ƒåäº¤æ¢ //å°†è¾ƒå¤§çš„äº¤æ¢åˆ°åé¢ if (in[j + 1] &lt; in[j]) { //ä¸åŒå…ƒç´ å¼‚æˆ–äº¤æ¢ in[j + 1] = in[j] ^ in[j + 1]; in[j] = in[j] ^ in[j + 1]; in[j + 1] = in[j] ^ in[j + 1]; } } } return in; } 2.1 å†’æ³¡æ’åºä¼˜åŒ–ï¼šäº¤æ¢æ ‡å¿—ä½å¯¹å†’æ³¡æ’åºçš„ä¼˜åŒ–æ˜¯åŠ å…¥ä¸€ä¸ªäº¤æ¢æ ‡å¿—ä½ï¼Œå¦‚æœæŸä¸€æ¬¡å¾ªç¯ä¸­æ²¡æœ‰è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œè¯´æ˜å‰©ä½™çš„åºåˆ—å·²ç»æ˜¯æœ‰åºçš„äº†ï¼Œå¯ä»¥ä¸å†è¿›è¡Œåç»­çš„å¾ªç¯ã€‚ //ä¼˜åŒ–å†’æ³¡æ’åºâ€”â€”åŠ å…¥äº¤æ¢æ ‡å¿—ä½ public static int[] flagBubbleSort(int[] in) { //æ ‡å¿—ä½ï¼šæœ¬è¶Ÿæ’åºæ˜¯å¦è¿›è¡Œäº†äº¤æ¢ //å¦‚æœæœ¬è¶Ÿæ’åºæ²¡æœ‰è¿›è¡Œå…ƒç´ äº¤æ¢ï¼Œè¯´æ˜å·²ç»æœ‰åºäº†ï¼Œå¯ä»¥æå‰ç»“æŸå¾ªç¯ boolean exchange; int lastIndex = in.length - 1; for (int i = 0; i &lt;= lastIndex; i++) { exchange = false; //[lastIndex - i,lastIndex]æ˜¯æ’å¥½åºçš„åºåˆ— //[0,lastIndex - i)æ˜¯æœªæ’å¥½åºçš„åºåˆ— for(int j = 0; j &lt;= lastIndex - i - 1; j++) { //ä¸é€‰æ‹©æ’åºä¸åŒï¼Œå†’æ³¡æ’åºæ˜¯ä¸¤ä¸¤ç›¸é‚»å…ƒç´ æ¯”è¾ƒåäº¤æ¢ //å°†è¾ƒå¤§çš„äº¤æ¢åˆ°åé¢ if (in[j + 1] &lt; in[j]) { //ä¸åŒå…ƒç´ å¼‚æˆ–äº¤æ¢ in[j + 1] = in[j] ^ in[j + 1]; in[j] = in[j] ^ in[j + 1]; in[j + 1] = in[j] ^ in[j + 1]; exchange = true; //å‘ç”Ÿäº†äº¤æ¢ } } if(!exchange) break; //æ— äº¤æ¢ç›´æ¥é€€å‡ºå¾ªç¯ } return in; } 3.æ’å…¥æ’åºï¼ˆO(N^2)ï¼‰ åœ¨å½¢å®¹æ’å…¥æ’åºæ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šç±»æ¯”æ‘¸æ‰‘å…‹ã€‚ä½ çš„æ‰‹ç‰Œå°±æ˜¯å·²æ’åºåºåˆ—ï¼Œç‰Œå †å°±æ˜¯æœªæ’åºåºåˆ—ï¼Œæ¯æ¬¡æ‘¸ç‰Œæ—¶ä¼šé€‰æ‹©æ‰‹æ’ä¸­çš„åˆé€‚ä½ç½®æ’å…¥ã€‚æˆ‘çš„ä¹ æƒ¯å°±æ˜¯å¼ºè¿«æŒ‰é¡ºåºæ’å¥½ç‰Œ - - ||| ï¼Œåæ¥æˆ‘æ‰å‘ç°å…¶ä»–å­©å­æ‘¸ç‰Œæ ¹æœ¬ä¸ä¼šåƒæˆ‘ä¸€æ ·ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€æŠŠæŠ“åœ¨æ‰‹é‡Œé¢çš„ï¼Œæ‰€ä»¥æ¯æ¬¡ç©æ‰‘å…‹ä»–ä»¬éƒ½è¦ç­‰æˆ‘æŠ“å¥½ç‰Œ=====(ï¿£â–½ï¿£*)b æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰çš„åŸç†å°±æ˜¯å°†åºåˆ—åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯å·²æ’åºåºåˆ—ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯æœªæ’åºåºåˆ—ï¼Œæ¯æ¬¡ä»æœªæ’åºåºåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ æ’å…¥å·²æ’åºåºåˆ—ä¸­çš„åˆé€‚ä½ç½® æ’å…¥æ’åºéœ€è¦ä¸¤æ¬¡å¾ªç¯â€”â€”ç¬¬ä¸€æ¬¡æ˜¯éå†æ‰€æœ‰å…ƒç´ ï¼Œç¡®å®šå·²æ’åºåºåˆ—[0,i)ï¼›ç¬¬äºŒæ¬¡æ˜¯éå†æ‰€æœ‰å·²æ’åºåºåˆ—[0,i)ï¼Œå°†ä½ç½®içš„å…ƒç´ æ’å…¥å·²æ’åºåºåˆ—çš„åˆç†ä½ç½®â€”â€”ç”±äºéå†çš„åºåˆ—æ˜¯å·²ç»æ’å¥½åºçš„ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥åªéœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸´æ—¶å˜é‡ã€‚æ‰€ä»¥æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N^2) ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡tempå­˜å‚¨ä½ç½®içš„å…ƒç´ ã€‚ä»j=iä½ç½®å¼€å§‹å‘å‰éå†ï¼Œå¦‚æœin[j] &gt; tempï¼Œé‚£ä¹ˆj--ï¼›å¦‚æœin[j] &lt;= tempï¼Œé‚£ä¹ˆäº¤æ¢jä½ç½®å…ƒç´ å’Œtempï¼Œç„¶åj--ï¼Œç»§ç»­æ¯”è¾ƒin[j]å’Œtempã€‚ æ’å…¥æ’åºæ˜¯ç¨³å®šæ€§æ’åºï¼Œå› ä¸ºåªæ¶‰åŠåˆ°ç›¸é‚»å…ƒç´ ä¸¤ä¸¤æ¯”è¾ƒ //æ’å…¥æ’åº public static int[] insertionSort(int[] in) { int lastIndex = in.length - 1; //ä»1å¼€å§‹éå†ï¼Œæ˜¯é»˜è®¤æœ€å¼€å§‹çš„å·²æ’åºåºåˆ—å°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œindex=0 for (int i = 1; i &lt;= lastIndex; i++) { int temp = in[i]; //å¾…æ¯”è¾ƒå…ƒç´  //æ³¨æ„iä¸èƒ½æ¯”1å°ï¼Œå¦åˆ™å°±ä¼šæ•°ç»„è¶Šç•Œ while (i &gt;= 1 &amp;&amp; in[i - 1] &gt; temp) { //å·²æ’åºåºåˆ—[0,i)ï¼Œæœ€å¤§ä¸‹æ ‡i - 1 //i - 1ä½ç½®å…ƒç´ å¤§äºå¾…æ¯”è¾ƒå…ƒç´ ï¼Œi - 1ä½ç½®å…ƒç´ åç§» in[i] = in[i - 1]; i--; } //é€€å‡ºå¾ªç¯è¯´æ˜æ‰¾åˆ°äº†åˆé€‚çš„ä½ç½® in[i] = temp; } return in; } 3.1 å¸Œå°”æ’åºï¼ˆO(NlogN)ï¼‰/ç¼©å°å¢é‡æ’åº å¸Œå°”æ’åºï¼ˆShell Sortï¼‰æ˜¯ä¸€ç§æ”¹è¿›çš„æ’å…¥æ’åºï¼Œä¹Ÿæˆä¸ºç¼©å°å¢é‡æ’åºï¼Œ1959å¹´ç”±Donald Shellæå‡ºã€‚å¸Œå°”æ’åºé‡‡ç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼Œå°†åŸåºåˆ—åˆ†ä¸ºè‹¥å¹²ä¸ªå­åºåˆ—ï¼Œå¯¹å­åºåˆ—åˆ†åˆ«è¿›è¡Œæ’å…¥æ’åºï¼Œæ‰€ä»¥å®ƒçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿç†æ‰€åº”å½“æ˜¯O(NlogN) åˆå§‹å¢é‡gap = len / 2ï¼Œéšåæ¯æ¬¡å¾ªç¯gap = gap / 2ï¼Œç›´åˆ°å‡ä¸º1ï¼Œå¾ªç¯ç»ˆæ­¢ã€‚å¢é‡gapçš„æ„ä¹‰æ˜¯å°†åºåˆ—åˆ†ä¸ºå¤šå°‘å­åºåˆ—ã€‚ å¸Œå°”æ’åºå­˜åœ¨éç›¸é‚»å…ƒç´ äº¤æ¢ä½ç½®ï¼Œæ‰€ä»¥å¸Œå°”æ’åºæ˜¯ä¸ç¨³å®šæ’åºã€‚ å¦‚å›¾ï¼š åˆå§‹åˆ†ç»„gap = len / 2 = 5ï¼Œå°†åŸåºåˆ—åˆ†ä¸º5ç»„ï¼Œè¦æ±‚æ¯ç»„å…ƒç´ ä¹‹é—´é—´éš”å°½å¯èƒ½å¤§ï¼Œæ‰€ä»¥æ˜¯{i, i + gap, i + 2 gap, â€¦, i + n gap} å¯¹5ç»„å­åºåˆ—åˆ†åˆ«è¿›è¡Œæ’å…¥æ’åºï¼Œå°†è¾ƒå°çš„å…ƒç´ äº¤æ¢åˆ°å‰é¢ äº¤æ¢å®Œåï¼Œgap /= 2ï¼Œå°†åŸåºåˆ—é‡æ–°åˆ†ä¸º2ç»„ï¼Œè¦æ±‚æ¯ç»„å…ƒç´ ä¹‹é—´é—´éš”å°½å¯èƒ½å¤§ï¼Œæ‰€ä»¥æ˜¯{i, i + gap, i + 2 gap, â€¦, i + n gap} å¯¹2ç»„å­åºåˆ—åˆ†åˆ«è¿›è¡Œæ’å…¥æ’åºï¼Œå°†è¾ƒå°çš„å…ƒç´ äº¤æ¢åˆ°å‰é¢ gap = 2 / 1 = 1ï¼Œè¿›è¡Œæœ€åä¸€æ¬¡æ’å…¥æ’åºï¼Œç»“æŸå¾ªç¯ //å¸Œå°”æ’åº public static int[] shellSort(int[] in) { int gap = in.length &gt;&gt; 1; //åˆå§‹å€¼ï¼Œgap = len / 2 while (gap &gt; 0) { //ä»gapå¼€å§‹æ˜¯å› ä¸ºé»˜è®¤[0,gap)æ˜¯æ’å¥½åºçš„ //å³æ¯ä¸ªå­åºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ’å¥½åºçš„ï¼Œä¸€å…±gapä¸ªå…ƒç´  //å°†åºåˆ—åˆ†ä¸ºgapç»„ï¼Œå¯¹å­åºåˆ—è¿›è¡Œæ’å…¥æ’åº for (int i = gap; i &lt; in.length; i++) { int temp = in[i]; //é™åˆ¶äº†gap&gt;0ï¼Œæ‰€ä»¥åªéœ€è¦ i-gap&gt;=0 è€Œé 1 while ((i - gap &gt;= 0) &amp;&amp; (in[i - gap] &gt; temp) ) { in[i] = in[i - gap]; i -= gap; //æ¯æ¬¡è·¨åº¦ä¸ºä¸€ä¸ªgap } //é€€å‡ºå¾ªç¯è¯´æ˜æ‰¾åˆ°äº†åˆé€‚ä½ç½® in[i] = temp; } gap = gap &gt;&gt; 1; //gap = gap / 2 } return in; } å¸Œå°”æ’åº vs æ’å…¥æ’åºï¼šæ’å…¥æ’åºæ˜¯ç¨³å®šçš„ï¼Œå¸Œå°”æ’åºä¸ç¨³å®šï¼›å¸Œå°”æ’åºæ¯”è¾ƒæ¬¡æ•°å’Œç§»åŠ¨æ¬¡æ•°éƒ½è¦æ˜æ˜¾å°äºæ’å…¥æ’åºï¼ŒNè¶Šå¤§è¶Šæ˜æ˜¾ï¼›å¸Œå°”æ’åºä¸é€‚ç”¨äºé“¾å¼ç»“æ„ 4.å½’å¹¶æ’åºï¼ˆO(NlogN)ï¼‰ åˆå¹¶ä¸¤ä¸ªæœ‰åºå­åºåˆ—çš„è¿‡ç¨‹ï¼šåˆ›å»ºä¸€ä¸ªå’Œä¸¤ä¸ªå­—åºåˆ—é•¿åº¦å’Œç­‰é•¿çš„åºåˆ—ï¼Œåˆ†åˆ«ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸¤ä¸ªå­åºåˆ—çš„å¤´éƒ¨ï¼Œå°†ä¸¤ä¸ªå­åºåˆ—å¤´éƒ¨è¾ƒå°çš„é‚£ä¸ªåŠ å…¥åˆ°æ–°åºåˆ—ï¼Œæœ€åä¸€ä¸ªåºåˆ—å…¨éƒ¨è¢«åŠ å…¥æ–°åºåˆ—ï¼Œå°±å¯ä»¥æŠŠå¦ä¸€ä¸ªåºåˆ—å‰©ä¸‹çš„å…ƒç´ åŠ å…¥æ–°åºåˆ—ã€‚æ‰€ä»¥å½’å¹¶æ’åºéœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ //åˆå¹¶ä¸¤ä¸ªæœ‰åºå­åºåˆ— //@params: left[] å·¦å­åºåˆ— //@params: right[] å³å­åºåˆ— public static void merge(int[] left, int[] right) { //ç»“æœåºåˆ—ï¼Œç”¨äºåˆå¹¶ä¸¤ä¸ªå­æœ‰åºåºåˆ— int[] rst = new int[left.length + right.length]; //å·¦å­åºåˆ—ã€å³å­åºåˆ—ã€æ€»åºåˆ—å½“å‰ä½ç½® int l = 0, r = 0, curr = 0; //éå†ï¼Œç›´åˆ°æŸä¸ªå­åºåˆ—è¢«éå†å®Œï¼Œå°†è¾ƒå°çš„æ”¾å‰é¢ while (l &lt; left.length &amp;&amp; r &lt; right.length) { if (left[l] &lt; right[r]) { rst[curr] = left[l]; l++; curr++; }else{ rst[curr] = right[r]; r++; curr++; } } //å‰©ä½™åºåˆ—ç›´æ¥åŠ å…¥ç»“æœåºåˆ— while(l &lt; left.length) { rst[curr] = left[l]; l++; curr++; } while (r &lt; right.length) { rst[curr] = right[r]; r++; curr++; } return rst; } å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰åˆ©ç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼Œå°†åºåˆ—ä¸æ–­è¿›è¡ŒäºŒåˆ†ï¼Œç›´åˆ°æ¯ç»„å­åºåˆ—åªå‰©ä¸‹ä¸¤ä¸ªå…ƒç´ ï¼ˆâ€œåˆ†â€ï¼‰ï¼Œç„¶åå¯¹è¿™ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ’åºï¼ˆâ€œæ²»â€ï¼‰ï¼Œæœ€åå°†æ‰€æœ‰å­åºåˆ—ä¸¤ä¸¤è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶æ—¶é‡æ–°æ’åºï¼ˆâ€œåˆâ€ï¼‰ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(NlogN) å½’å¹¶æ’åºåªæ¶‰åŠç›¸é‚»å…ƒç´ ä¹‹é—´çš„äº¤æ¢ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šæ€§æ’åº //å½’å¹¶æ’åºï¼šé€’å½’åœ°ä½¿ç”¨äºŒåˆ†æ³•ï¼Œå°†ä¸€ä¸ªåºåˆ—åˆ†è§£ä¸ºä¸¤ä¸ªå­åºåˆ—ï¼Œç›´åˆ°å­åºåˆ—åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´  //@params: in[] public static int[] mergeSort(int[] in) { //é€€å‡ºé€’å½’çš„æ¡ä»¶ï¼šå­åºåˆ—åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´  if(in == null || in.length &lt; 2) return in; int mid = in.length &gt;&gt; 1; //ä»ä¸­é—´å°†åºåˆ—åˆ‡åˆ† //Arrays.copyOfRange(int[] a, int from, int to); å¤åˆ¶èŒƒå›´[from,to) int[] left = Arrays.copyOfRange(in, 0, mid); //ä¸åŒ…æ‹¬mid int[] right = Arrays.copyOfRange(in, mid, in.length); //é€’å½’è°ƒç”¨mergeSortï¼Œç„¶åå°†ç»“æœmergeåˆå¹¶ return merge(mergeSort(left), mergeSort(right) ); } æµ‹è¯•ï¼š int[] in = {999, 1, 2, 4, 3, -1, 0, 0}; System.out.println(&quot;å½’å¹¶æ’åºï¼š &quot; + Arrays.toString(mergeSort(in))); //å½’å¹¶æ’åºï¼š [-1, 0, 0, 1, 2, 3, 4, 999] 5.å¿«é€Ÿæ’åºï¼ˆO(NlogN)ï¼‰ å‚è€ƒäº†https://cloud.tencent.com/developer/article/1403566ï¼Œè¯´çš„å¾ˆè¯¦ç»†ã€‚ å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰çš„ä¸­å¿ƒæ€æƒ³æ˜¯æ¯æ¬¡é€‰å–ä¸€ä¸ªåŸºå‡†å€¼ï¼ˆpivotï¼‰ï¼Œç„¶åé€šè¿‡æ¯”è¾ƒä¸äº¤æ¢ï¼Œä½¿å¾—pivotå·¦è¾¹çš„å…ƒç´ éƒ½å°äºpivotï¼Œpivotå³è¾¹çš„å…ƒç´ éƒ½å¤§äºpivotï¼›ç„¶åå†é€šè¿‡äºŒåˆ†æ³•ï¼Œå¯¹pivotå·¦å³çš„å­åºåˆ—åˆ†åˆ«è¿›è¡Œå¿«æ’ã€‚æ‰€ä»¥å¿«æ’çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(NlogN) pivotä¸€èˆ¬ç›´æ¥é€‰æ‹©æœ€å·¦å…ƒç´  äº¤æ¢pivotå·¦å³å…ƒç´ ç”¨åˆ°äº†å¿«æ…¢æŒ‡é’ˆæ³•â€”â€”å¿«æŒ‡é’ˆä»å³å¾€å·¦éå†ï¼Œç›´åˆ°æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ï¼›æ…¢æŒ‡é’ˆä»å·¦å¾€å³éå†ï¼Œç›´åˆ°æ‰¾åˆ°æ¯”pivotå¤§çš„å…ƒç´ ã€‚ç”±äºæˆ‘ä»¬çš„ç›®çš„æ˜¯è®©å·¦è¾¹çš„æ›´å°ï¼Œå³è¾¹çš„æ›´å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å¿«æ…¢æŒ‡é’ˆå…ƒç´ è¿›è¡Œäº¤æ¢ï¼ˆäº¤æ¢ä¹‹å‰è¦åˆ¤æ–­æ…¢æŒ‡é’ˆæ˜¯å¦è¶…è¿‡äº†å¿«æŒ‡é’ˆï¼‰ã€‚ å¦‚ä¸‹å›¾ï¼š åŸºå‡†å€¼æ˜¯æœ€å·¦ç«¯å…ƒç´ 6ã€‚æ…¢æŒ‡é’ˆiï¼Œä»å·¦å¾€å³ï¼›å¿«æŒ‡é’ˆjï¼Œä»å³å¾€å·¦ jå…ˆèµ°ï¼Œå½“é‡åˆ°æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ æ—¶åœæ­¢ï¼ˆ5&lt;6ï¼‰ï¼›ç„¶åiå†èµ°ï¼Œé‡åˆ°æ¯”åŸºå‡†å€¼å¤§çš„å…ƒç´ æ—¶åœæ­¢ï¼ˆ7&gt;6ï¼‰ å¦‚æœæ…¢æŒ‡é’ˆæ²¡æœ‰è¶…è¿‡å¿«æŒ‡é’ˆï¼Œå°±å°†å¿«æ…¢æŒ‡é’ˆæ‰€åœ¨å…ƒç´ è¿›è¡Œäº¤æ¢ é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°å¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œå°†å¿«æ…¢æŒ‡é’ˆæ‰€åœ¨ä½ç½®å…ƒç´ ä¸åŸºå‡†å€¼è¿›è¡Œäº¤æ¢ï¼ŒåŸºå‡†å€¼æŒ‡é’ˆæŒ‡å‘å¿«æ…¢æŒ‡é’ˆæ‰€åœ¨ä½ç½® äº¤æ¢å®Œæˆåï¼ŒåŸºå‡†å€¼å·¦è¾¹çš„å…ƒç´ å°±éƒ½å°äºåŸºå‡†å€¼ï¼ŒåŸºå‡†å€¼å³è¾¹çš„å…ƒç´ éƒ½å¤§äºåŸºå‡†å€¼ ä»¥ä¸Šæ“ä½œéƒ½æ˜¯ç›¸å¯¹çš„ï¼Œå¦‚æœpivoté€‰æ‹©äº†æœ€å³å…ƒç´ ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆå°±åº”è¯¥æ˜¯ä»å·¦å¾€å³éå†çš„é‚£ä¸ª é€’å½’åœ°å¯¹åŸºå‡†å€¼å·¦å³åºåˆ—è¿›è¡Œå¿«æ’ï¼Œç›´åˆ°å…ƒç´ å…¨éƒ¨æœ‰åºã€‚é€€å‡ºé€’å½’çš„æ¡ä»¶â€”â€”å­åºåˆ—åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå³å­˜åœ¨low &gt; high åŒæ ·æ˜¯ä¸Šè¿°åºåˆ—{6,1,2,7,9,3,4,5,10,8}ï¼Œå¦‚æœæ…¢æŒ‡é’ˆiå…ˆèµ°ä¼šå‘ç”Ÿä»€ä¹ˆ?ï¼ˆ1ï¼‰pivot=6ï¼Œi=7&gt;6ï¼Œj=5&lt;6ï¼Œäº¤æ¢iä¸jï¼š{6,1,2,&quot;5&quot;,9,3,4,&quot;7&quot;,10,8}ï¼›ï¼ˆ2ï¼‰i=9&gt;6ï¼Œj=4&lt;6ï¼Œäº¤æ¢iä¸jï¼š{6,1,2,5,&quot;4&quot;,3,&quot;9&quot;,10,8}ï¼›ï¼ˆ3ï¼‰i=9=jï¼Œäº¤æ¢i/jä¸pivotï¼š{&quot;9&quot;,1,2,5,4,3,&quot;6&quot;,10,8}ï¼Œ9&gt;6ï¼Œå¾ˆæ˜æ˜¾ç»“æœä¸å¯¹ã€‚ç»“è®ºï¼šå¦‚æœå¿«æŒ‡é’ˆå…ˆèµ°ï¼Œå¯ä»¥ä¿è¯å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶å…ƒç´ å€¼å°äºpivotï¼Œäº¤æ¢è¿‡æ¥åå¯ä»¥ä¿è¯pivotå·¦è¾¹å…ƒç´ éƒ½å°äºpivotï¼›ä½†æ˜¯å¦‚æœæ…¢æŒ‡é’ˆå…ˆèµ°ï¼Œå¾ˆå¯èƒ½ç›¸é‡æ—¶å…ƒç´ å€¼å°±å¤§äºpivotï¼Œäº¤æ¢åpivotå·¦è¾¹å°±ä¼šå­˜åœ¨æ¯”pivotå¤§çš„å…ƒç´ ã€‚ public static void quickSort(int[] in, int low, int high) { //é€€å‡ºé€’å½’æ¡ä»¶ï¼šå­åºåˆ—åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶low = high if(low &gt; high) return; int pivot = in[low]; //åŸºå‡†å€¼ï¼Œé€‰æœ€å·¦è¾¹å…ƒç´  int quick = high; //å¿«æŒ‡é’ˆï¼Œæ¯”æ…¢æŒ‡é’ˆå…ˆèµ°ä¸€æ­¥ï¼Œä»å³å¾€å·¦ int slow = low; //æ…¢æŒ‡é’ˆï¼Œä»å·¦å¾€å³ //å½“quické‡åˆ°äº†æ¯”pivotå°çš„å…ƒç´ ï¼Œ //åŒæ—¶slowé‡åˆ°äº†æ¯”pivotå¤§çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°±äº¤æ¢ä¸¤ä¸ªå…ƒç´  while (slow &lt; quick) { //å¿«æŒ‡é’ˆè¦å…ˆèµ°ä¸€æ­¥ //å¿«æŒ‡é’ˆå‘å·¦ï¼Œç›´åˆ°æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´  while (in[quick] &gt;= pivot &amp;&amp; slow &lt; quick) { quick--; } //æ…¢æŒ‡é’ˆå¾€å³ï¼Œç›´åˆ°æ‰¾åˆ°æ¯”pivotå¤§çš„å…ƒç´  while (in[slow] &lt;= pivot &amp;&amp; slow &lt; quick) { slow++; } //éœ€è¦å†æ¬¡åˆ¤æ–­slowæ˜¯å¦å·²ç»é‡åˆ°æˆ–è¶…è¿‡äº†quick if (slow &lt; quick) { //äº¤æ¢ä¸¤ä¸ªå…ƒç´  â€”â€” å¯ä»¥è‚¯å®šslow!=quickï¼Œæ˜¯ä¸åŒå…ƒç´ ï¼Œ //æ‰€ä»¥å¯ä»¥ç”¨å¼‚æˆ–äº¤æ¢ä¸¤ä¸ªå…ƒç´  in[slow] = in[slow] ^ in[quick]; in[quick] = in[slow] ^ in[quick]; in[slow] = in[slow] ^ in[quick]; } } //å°†å¿«æ…¢æŒ‡é’ˆæ‰€åœ¨ä½ç½®å…ƒç´ ä¸åŸºå‡†å€¼è¿›è¡Œäº¤æ¢ //slowä¸quickç›¸é‡çš„ä½ç½®ï¼Œå°±æ˜¯åŸºå‡†å€¼æŒ‡é’ˆåº”è¯¥åœ¨çš„ä½ç½® in[low] = in[slow]; in[slow] = pivot; //slowæˆ–è€…quickå°±æ˜¯æ–°çš„pivotï¼Œå·¦è¾¹å…ƒç´ éƒ½æ¯”å®ƒå°ï¼Œå³è¾¹å…ƒç´ éƒ½æ¯”å®ƒå¤§ //é€’å½’å¯¹pivotçš„å·¦å³åºåˆ—è¿›è¡Œå¿«æ’ quickSort(in, low, slow - 1); //åŸºå‡†å€¼ä¸éœ€è¦å†æ’åºï¼Œæ‰€ä»¥æ˜¯slow-1 quickSort(in, slow + 1, high); //åŸºå‡†å€¼ä¸éœ€è¦å†æ’åºï¼Œæ‰€ä»¥æ˜¯slow+1 } æµ‹è¯•ï¼š int[] in = {999, 1, 2, 4, 3, -1, 0, 0}; quickSort(in, 0, in.length - 1); System.out.println(Arrays.toString(in)); //ç»“æœä¸ºï¼š[-1, 0, 0, 1, 2, 3, 4, 999] 5.1 å½©è™¹æ’åºï¼ˆNlogKï¼ŒKæ˜¯å…ƒç´ ç§ç±»ï¼‰å½©è™¹æ’åºé€‚ç”¨äºåºåˆ—ä¸­å…ƒç´ ç§ç±»æ˜¯å·²çŸ¥å¸¸æ•°çš„æƒ…å†µã€‚ å½©è™¹æ’åºï¼ˆRainbow Sortï¼‰æ˜¯ä¸€ç§å˜ç§çš„å¿«æ’ï¼Œå¿«æ’æ˜¯ä»å…ƒç´ Nä¸­é€‰æ‹©åŸºå‡†å€¼è¿›è¡Œåˆ†æ²»ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(NlogN)ï¼Œè€Œå½©è™¹æ’åºåˆ™æ˜¯ä»å…ƒç´ ç§ç±»Kä¸­é€‰æ‹©åŸºå‡†å€¼è¿›è¡Œåˆ†æ²»ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(NlogK)ï¼Œè€ŒKæ˜¯å¸¸æ•°ã€‚ å…·ä½“çš„åˆ†æ²»ç­–ç•¥æ˜¯ï¼šé€’å½’åœ°ä»ç§ç±»Kä¸­é€‰æ‹©ä¸€ä¸ªåŸºå‡†å€¼ï¼Œæ¯æ¬¡ä½¿å¾—åŸºå‡†å€¼å·¦è¾¹çš„ç§ç±»ç¼–ç å°äºåŸºå‡†å€¼ï¼Œå³è¾¹çš„ç§ç±»ç¼–ç å¤§äºåŸºå‡†å€¼ ç»“æŸé€’å½’çš„æ¡ä»¶ï¼š æ™®é€šå¿«æ’çš„ç»“æŸé€’å½’æ¡ä»¶ï¼šåºåˆ—ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œlow == highï¼ˆæˆ–è€…low &gt; highï¼‰ å½©è™¹æ’åºä¸­é¢å¤–çš„ç»“æŸé€’å½’æ¡ä»¶ï¼šåºåˆ—ä¸­åªæœ‰ä¸€ç§å…ƒç´ ï¼ŒelementFrom == elementToï¼ˆæˆ–è€…elementFrom &gt; elementToï¼‰ elementFromã€elementToæ˜¯æŒ‡å­åºåˆ—ï¼ˆä¸‹æ ‡ä»startåˆ°endï¼‰ä¸­å…ƒç´ ç§ç±»ä»ç¬¬elementFromç§åˆ°ç¬¬elementToç§ï¼Œå³å…ƒç´ ç§ç±»èŒƒå›´ã€‚ å‚è€ƒLintCode 143. Sort Colors IIè¿™é¢˜ï¼Œçœ‹çœ‹å½©è™¹æ’åºçš„å®é™…åº”ç”¨ï¼š /** * @param colors: A list of integer * @param k: An integer * @return: nothing */ public static void sortColors2(int[] colors, int k) { if (colors == null || colors.length == 0) return; rainbowSort(colors, 0, colors.length - 1, 1, k); } //å½©è™¹æ’åº //@params: colors[] è¾“å…¥åºåˆ—ï¼ŒåŒ…å«ä»colorFromåˆ°colorToç§ç±»çš„é¢œè‰² //@params: start å­åºåˆ—å¼€å§‹ä½ç½® //@params: end å­åºåˆ—ç»“æŸä½ç½® //@params: colorFrom é¢œè‰²ç§ç±»å¼€å§‹ä½ç½® //@params: colorTo é¢œè‰²ç§ç±»ç»“æŸä½ç½® private static void rainbowSort(int[] colors, int start, int end, int colorFrom, int colorTo) { //ç»“æŸé€’å½’çš„æ¡ä»¶ï¼š // 1.ä¼ ç»Ÿå¿«æ’ç»“æŸæ¡ä»¶ï¼šå­åºåˆ—åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼› // 2.å½©è™¹æ’åºç»“æŸæ¡ä»¶ï¼šå­åºåˆ—åªæœ‰ä¸€ç§å…ƒç´  if (start == end || colorFrom == colorTo) return; //ä¸­é—´é¢œè‰²ï¼Œå³åŸºå‡†å€¼pivot int colorMid = (colorFrom + colorTo) &gt;&gt; 1; int left = start, right = end; while (left &lt;= right) { //æ‰¾åˆ°åŸºå‡†å€¼å·¦è¾¹å¤§äºåŸºå‡†å€¼çš„å…ƒç´  while (left &lt;= right &amp;&amp; colors[left] &lt;= colorMid) left++; //æ‰¾åˆ°åŸºå‡†å€¼å³è¾¹å°äºåŸºå‡†å€¼çš„å…ƒç´  while (left &lt;= right &amp;&amp; colors[right] &gt; colorMid) right--; //å†æ¬¡åˆ¤æ–­ï¼Œå¦‚æœæ­¤æ—¶leftæŒ‡é’ˆæ²¡æœ‰è¶…è¿‡rightæŒ‡é’ˆï¼Œå°±äº¤æ¢ä¸¤ä¸ªä½ç½®å…ƒç´  if (left &lt;= right) { //å¯èƒ½ç›¸ç­‰ï¼Œä¸èƒ½ç”¨å¼‚æˆ– int temp = colors[left]; colors[left] = colors[right]; colors[right] = temp; left++; right--; } } //ç”±äºåŸºå‡†å€¼é€‰æ‹©çš„æ˜¯ä¸­é—´ä½ç½®ï¼Œæ‰€ä»¥ä¸éœ€è¦å°†åŸºå‡†å€¼äº¤æ¢åˆ°leftæ‰€åœ¨ä½ç½® rainbowSort(colors, start, right, colorFrom, colorMid); rainbowSort(colors, left, end, colorMid + 1, colorTo); //åŸºå‡†å€¼å¯ä»¥ä¸ä½œä¸ºå­åºåˆ—å‚ä¸ä¸‹ä¸€è½®å¾ªç¯ } æµ‹è¯•ï¼š public static void main(String[] args) { int[] in = {3,2,2,1,4}; sortColors2(in, 4); System.out.println(Arrays.toString(in)); //[1,2,2,3,4] } 6.å †æ’åºï¼ˆO(N + KlogN)ï¼ŒKæ˜¯æ’åºåºåˆ—é•¿åº¦ï¼‰å¦‚æœæƒ³å¾—åˆ°ä¸€ä¸ªåºåˆ—ä¸­ç¬¬Kä¸ªæœ€å°å…ƒç´ ä¹‹å‰çš„éƒ¨åˆ†åºåˆ—ï¼Œæœ€å¥½é‡‡ç”¨å †æ’åºï¼ï¼ï¼ å †æ’åºå­˜åœ¨éç›¸é‚»å…ƒç´ ä¹‹é—´çš„äº¤æ¢ï¼Œæ‰€ä»¥æ˜¯éç¨³å®šæ’åº å †çš„ç‰¹å®šï¼š å †æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚å¯ä»¥ç”¨æ•°ç»„è¡¨ç¤ºï¼ŒèŠ‚ç‚¹kæœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼šçˆ¶èŠ‚ç‚¹ä¸º(k-1)/2ï¼Œå·¦å­©å­ä¸º2k + 1ï¼Œå³å­©å­ä¸º2k + 2ã€‚ å¦‚æœæ˜¯å¤§æ ¹å †ï¼Œé‚£ä¹ˆå¯¹äºä»»ä½•èŠ‚ç‚¹ï¼Œå…¶çˆ¶èŠ‚ç‚¹éƒ½ä¼šæ¯”æ‰€æœ‰å­èŠ‚ç‚¹å¤§ï¼›å¦‚æœæ˜¯å°æ ¹å †ï¼Œé‚£ä¹ˆå¯¹äºä»»ä½•èŠ‚ç‚¹ï¼Œå…¶çˆ¶èŠ‚ç‚¹éƒ½ä¼šæ¯”æ‰€æœ‰å­èŠ‚ç‚¹å° å‚è€ƒä¸Šå›¾ï¼Œç†è§£äº†ä¸‹é¢3ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±ç†è§£äº†å †æ’åºï¼š ç»™å®šä¸€ä¸ªæ•°ç»„è¡¨ç¤ºçš„æ»¡äºŒå‰æ ‘ï¼Œå¦‚ä½•æ„å»ºä¸€ä¸ªå †ï¼Ÿæˆ–è€…è¯´ï¼Œå¯¹ä¸€ä¸ªå †è¿›è¡Œäº†ä¿®æ”¹åï¼Œå¦‚ä½•ä¿è¯ä¿®æ”¹åçš„åºåˆ—ä»æ˜¯ä¸€ä¸ªå †ï¼Ÿ heapifyï¼šå¯¹äºä»»æ„èŠ‚ç‚¹æ¥è¯´ï¼Œå †éƒ½æœ‰çˆ¶äº²èŠ‚ç‚¹å¤§äºï¼ˆæˆ–å°äºï¼‰å·¦å³å„¿å­çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥ï¼Œå¯¹äºä»»æ„èŠ‚ç‚¹ï¼Œå°†å…¶ä¸å…¶å·¦å³å„¿å­æ¯”è¾ƒå¤§å°ï¼Œå°†æœ€å¤§çš„å…ƒç´ æ›¿æ¢åˆ°çˆ¶äº²èŠ‚ç‚¹ï¼Œå¯¹æ›¿æ¢ä¸‹å»çš„èŠ‚ç‚¹é‡å¤è¿›è¡Œæ­¤æ“ä½œï¼Œå³å¯å°†æ»¡äºŒå‰æ ‘æ„å»ºæˆå †ã€‚ æ¯”å¦‚è¯´ä¸Šå›¾ï¼Œå¯¹äº5-7-8è¿™æ£µå­æ ‘æ¥è¯´ï¼Œ5&lt;8ï¼Œæ‰€ä»¥å°†5å’Œ8äº¤æ¢ä½ç½®ï¼Œç„¶åé‡æ–°å¯¹æ›¿æ¢ä¸‹å»çš„5èŠ‚ç‚¹è¿›è¡Œheapify //heapifyï¼šå°†æ»¡äºŒå‰æ ‘æ„å»ºä¸ºå † //@param: tree[] è¡¨ç¤ºå †çš„æ•°ç»„ //@param: n èŠ‚ç‚¹æ€»æ•° //@param: i å¯¹å“ªä¸ªèŠ‚ç‚¹è¿›è¡Œheapify public static void heapify(int[] tree, int n, int i) { if(i &gt;= n) return; //ç»“æŸé€’å½’æ¡ä»¶ï¼šå»ºå †èŠ‚ç‚¹ä¸‹æ ‡è¶…è¿‡èŠ‚ç‚¹æ€»æ•°ï¼Œi&gt;=n //æ ¹æ®æ»¡äºŒå‰æ ‘çš„ç‰¹ç‚¹ï¼Œæœ‰ï¼š int left = 2 * i + 1; //å·¦å­æ ‘ int right = 2 * i + 2; //å³å­æ ‘ //å°†çˆ¶äº²ã€å·¦å³å­æ ‘3è€…ä¸­æœ€å¤§çš„æ•°æ›¿æ¢åˆ°çˆ¶äº²èŠ‚ç‚¹ int max = i; //æ³¨æ„left å’Œ rightä¸èƒ½è¶Šç•Œ if(left &lt; n &amp;&amp; tree[left] &gt; tree[max]) max = left; if (right &lt; n &amp;&amp; tree[right] &gt; tree[max]) max = right; if(max != i) { //å¦‚æœçˆ¶äº²èŠ‚ç‚¹å°±æ˜¯æœ€å¤§èŠ‚ç‚¹ï¼Œå°±ä¸éœ€è¦é‡æ–°å»ºå †äº† //äº¤æ¢maxå’Œiçš„å…ƒç´  tree[max] = tree[max] ^ tree[i]; tree[i] = tree[max] ^ tree[i]; tree[max] = tree[max] ^ tree[i]; //å¯¹æ›¿æ¢ä¸‹å»çš„èŠ‚ç‚¹é‡æ–°å»ºå † heapify(tree, n, max); } } é€šè¿‡æ­¥éª¤1ï¼Œæˆ‘ä»¬æœ‰äº†å°†ä¸€ä¸ªä¿®æ”¹åçš„å †è¿˜åŸæˆå †çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆç»™å®šä¸€ä¸ªæ•°ç»„è¡¨ç¤ºçš„æ»¡äºŒå‰æ ‘ï¼Œå¦‚ä½•æ„å»ºå‡ºåˆå§‹çš„å †ï¼Ÿ æˆ‘ä»¬å¯ä»¥ä»æ ‘çš„å€’æ•°ç¬¬äºŒå±‚ï¼ˆh-1å±‚ï¼‰é€†åºåœ°å¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œheapifyæ“ä½œï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¾—åˆ°ä¸€ä¸ªåˆå§‹å †ã€‚ ä¸ºä»€ä¹ˆä¸ä»æ ‘çš„å€’æ•°ç¬¬ä¸€å±‚ï¼ˆhå±‚ï¼‰å¼€å§‹heapifyå‘¢ï¼Ÿå› ä¸ºå€’æ•°ç¬¬ä¸€å±‚æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œæœ¬èº«å°±æ˜¯æ»¡äºŒå‰æ ‘ï¼Œæ²¡æœ‰heapifyçš„å¿…è¦ã€‚ é‚£ä¹ˆå¦‚ä½•ç¡®å®šå€’æ•°ç¬¬äºŒå±‚çš„ä¸‹æ ‡å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“æ»¡äºŒå‰æ ‘ä¸­ï¼ŒkèŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹æ˜¯(k-1)/2ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šå€’æ•°ç¬¬ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå³æ•°ç»„å°¾éƒ¨ï¼‰ï¼Œè¯¥èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹æ­£å¥½å°±ä½äºå€’æ•°ç¬¬äºŒå±‚ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬heapifyçš„èµ·ç‚¹//åˆå§‹å»ºå † //@params: tree[] æ»¡äºŒå‰æ ‘ //@params: n èŠ‚ç‚¹æ€»æ•° public static void buildHeap(int[] tree, int n) { int last = tree.length; int parent = (last - 1) &gt;&gt; 1; //å€’æ•°ç¬¬äºŒå±‚ for(int i = parent; i &gt;= 0; i--) { heapify(tree, n, i); } } ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªåˆå§‹å †ï¼Œæœ‰äº†èƒ½å¤Ÿå°†æ›´æ”¹åçš„å †æ„å»ºæˆæ–°å †çš„èƒ½åŠ›ï¼Œå¦‚ä½•è¿›è¡Œå †æ’åºï¼Ÿ å †çš„ç‰¹ç‚¹æ˜¯çˆ¶äº²èŠ‚ç‚¹å¤§äºï¼ˆæˆ–å°äºï¼‰å„¿å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå…¶æ ¹èŠ‚ç‚¹å¿…å®šæ˜¯æœ€å¤§çš„ï¼ˆæœ€å°çš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ¯æ¬¡æ„å»ºå¥½å †ï¼Œéƒ½èƒ½å¾—åˆ°ä¸€ä¸ªå‰©ä½™å…ƒç´ çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼ï¼‰ å°†æ ¹èŠ‚ç‚¹ï¼ˆæœ€å¤§å€¼/æœ€å°å€¼ï¼‰ä¸å †å°¾å…ƒç´ ï¼ˆä¹Ÿå°±æ˜¯æ•°ç»„é˜Ÿå°¾ï¼‰è¿›è¡Œäº¤æ¢ï¼Œç„¶åå°†å †å°¾å‰”é™¤å¹¶è®°å½•ä¸‹æ¥ï¼ˆå½“ç„¶è¿™æ˜¯é€»è¾‘ä¸Šçš„å‰”é™¤ï¼Œå®é™…ä¸Šä½ å¯ä»¥åœ¨heapifyçš„æ—¶å€™ä¸ä¼ å…¥å †å°¾å³å¯ï¼‰ï¼Œå¹¶å¯¹å‰©ä½™å…ƒç´ é‡æ–°è¿›è¡Œheapifyã€‚é‡å¤æ­¤æ­¥éª¤ï¼Œç›´åˆ°å·²æ’åºçš„åºåˆ—é•¿åº¦æ»¡è¶³è¦æ±‚ã€‚//å †æ’åº //@params: tree[] æ»¡äºŒå‰æ ‘ //@params: n èŠ‚ç‚¹æ€»æ•° public static void heapSort(int[] tree, int n) { //æ„å»ºåˆå§‹å † buildHeap(tree, n); //å¦‚æœåªéœ€è¦kä¸ªæœ‰åºåºåˆ—ï¼Œå¯ä»¥æå‰ç»“æŸå¾ªç¯ for(int i = n - 1; i &gt;= 0; i--) { //å°†æ ¹èŠ‚ç‚¹ä¸å †å°¾è¿›è¡Œäº¤æ¢ int temp = tree[i]; tree[i] = tree[0]; tree[0] = temp; //å‰”é™¤å †å°¾çš„æœ€å¤§å€¼ï¼Œå¯¹å‰©ä½™å…ƒç´ é‡æ–°è¿›è¡Œheapify heapify(tree, i, 0); } } å½’å¹¶æ’åº vs å¿«æ’ vs å †æ’åº å¦‚æœä»ç©ºé—´å¤æ‚åº¦æ¥è€ƒè™‘ï¼Œé¦–é€‰å †æ’åºï¼Œç„¶åæ˜¯å¿«æ’ï¼Œæœ€åæ˜¯å½’å¹¶æ’åºï¼ˆéœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ï¼‰ å¦‚æœæ˜¯ä»ç¨³å®šæ€§æ¥è€ƒè™‘ï¼Œåº”é€‰æ‹©å½’å¹¶æ’åºï¼Œå› ä¸ºå¿«æ’å’Œå †æ’åºå¹¶ä¸ç¨³å®š å¦‚æœä»å¹³å‡æƒ…å†µä¸‹çš„æ’åºé€Ÿåº¦æ¥è€ƒè™‘ï¼Œåº”è¯¥é€‰æ‹©å¿«æ’ 7.åŸºæ•°æ’åºï¼ˆO(N*D)ï¼ŒDä¸ºä½æ•°ï¼ŒNä¸ºå…ƒç´ ä¸ªæ•°ï¼‰ é€šè¿‡å¯¹æ’åºçš„Nä¸ªå…ƒç´ è¿›è¡Œè‹¥å¹²è¶Ÿâ€œåˆ†é…â€ä¸â€œæ”¶é›†â€æ¥å®ç°æ’åº åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰ä¸éœ€è¦äº¤æ¢å…ƒç´ ä½ç½®ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šæ€§æ’åº åŸºæ•°æ’åºæ•ˆç‡ä¸åˆå§‹åºåˆ—æ˜¯å¦æœ‰åºæ²¡æœ‰å…³è” åœ¨åŸºæ•°æ’åºä¸­ï¼Œå¯¹äºä»»ä½•ä½æ•°ä¸Šçš„åŸºæ•°è¿›è¡Œè£…æ¡¶æ“ä½œæ—¶ï¼Œéƒ½éœ€è¦n + rä¸ªä¸´æ—¶ç©ºé—´ ä»»ä½•ä¸€ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—ï¼Œå®ƒçš„å„ä¸ªä½æ•°ä¸Šçš„åŸºæ•°éƒ½æ˜¯ä»¥0 ~ 9 æ¥è¡¨ç¤ºçš„ï¼Œæˆ‘ä»¬å°†0 ~ 9è§†ä¸º10ä¸ªæ¡¶ã€‚å¦‚ï¼šç»™å®šåºåˆ—{50,123,543,187,49,30,0,2,11,100} é¦–å…ˆæ ¹æ®ä¸ªä½æ•°å…ƒç´ åˆ†åˆ°æŒ‡å®šçš„æ¡¶ä¸­ã€‚ å°†æ¡¶ä¸­å…ƒç´ æŒ‰é¡ºåºä¾æ¬¡å¼¹å‡ºï¼Œå³{50,30,0,100,11,2,123,543,187,49} å†æ ¹æ®åä½æ•°å°†å…ƒç´ åˆ†åˆ°æŒ‡å®šæ¡¶ä¸­ã€‚ å°†æ¡¶ä¸­å…ƒç´ æŒ‰é¡ºåºä¾æ¬¡å¼¹å‡ºï¼Œå³{0,100,2,11,123,30,543,49,50,187} å†æ ¹æ®ç™¾ä½æ•°å°†å…ƒç´ åˆ†åˆ°æŒ‡å®šæ¡¶ä¸­ã€‚ å°†æ¡¶ä¸­å…ƒç´ æŒ‰é¡ºåºä¾æ¬¡å¼¹å‡ºï¼Œæ­¤æ—¶å…ƒç´ å°±å·²ç»æœ‰åºäº† //åŸºæ•°æ’åº //ä¸è€ƒè™‘è´Ÿæ•°çš„æƒ…å†µ public static int[] radixSort(int[] in) { int len = in.length; if (len &lt; 2 || in == null) return in; //0~9ï¼š10ä¸ªæ¡¶ï¼Œæ¯ä¸€ä¸ªæ¡¶æ˜¯ä¸€ä¸ªä¸å®šé•¿çš„ArrayList ArrayList&lt;ArrayList&lt;Integer&gt;&gt; buckets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(); for (int i = 0; i &lt; 10; i++) buckets.add(new ArrayList&lt;Integer&gt;()); //æ‰¾å‡ºåºåˆ—ä¸­çš„æœ€å¤§å€¼â€”â€”ä¸èƒ½ç”¨æ’åºç®—æ³•ï¼Œä¸ç„¶è¿˜åŸºæ•°æ’åºä¸ªä»€ä¹ˆåŠ²ï¼Ÿ int max = in[0]; for (int i = 1; i &lt; len; i++) max = in[i] &gt; max ? in[i] : max; //æ ¹æ®æœ€å¤§å€¼ï¼Œåˆ¤æ–­ä½æ•°â€”â€”å³éœ€è¦å¾ªç¯å…¥æ¡¶ã€å‡ºæ¡¶çš„æ¬¡æ•° int digit = 0; while (max != 0) { max /= 10; digit++; } //å…¥æ¡¶ &amp; å‡ºæ¡¶ int mod = 10, div = 1; for (int i = 0; i &lt; digit; i++, mod *= 10, div *= 10) { //éå†åºåˆ—ï¼Œå…¥æ¡¶ for (int j = 0; j &lt; len; j++) { int temp = (in[j] % mod) / div; //åˆ¤æ–­å¯¹åº”ä½çš„å…ƒç´ ï¼Œå­˜å…¥æ¡¶ä¸­ //ArrayList API: T get(int index); &amp; add(T t); buckets.get(temp).add(in[j]); } //éå†æ‰€æœ‰æ¡¶ï¼Œå‡ºæ¡¶ int[] newArray = new int[len]; //å‡ºæ¡¶åºåˆ— int cnt = 0; for (int outArrayIndex = 0; outArrayIndex &lt; buckets.size(); outArrayIndex++) { for (int inArrayIndex = 0; inArrayIndex &lt; buckets.get(outArrayIndex).size(); inArrayIndex++) { newArray[cnt++] = buckets.get(outArrayIndex).get(inArrayIndex); //ç­‰ä»·äºï¼š //newArray[cnt] = buckets.get(outArrayIndex).get(inArrayIndex); //cnt++; } //è®°å¾—å‡ºæ¡¶åè¦æ¸…ç©ºæ¡¶ï¼Œä¸èƒ½å½±å“ä¸‹ä¸€æ¬¡å¾ªç¯ buckets.get(outArrayIndex).clear(); } //å‡ºæ¡¶åºåˆ—æ›¿æ¢åŸåºåˆ— for (int j = 0; j &lt; len; j++) in[j] = newArray[j]; } return in; } 8.è®¡æ•°æ’åºè®¡æ•°æ’åºï¼ˆCounting Sortï¼‰ 9.æ¡¶æ’åºæ¡¶æ’åºï¼ˆBucket Sortï¼‰ 10.æ‹“æ‰‘æ’åº å…¥åº¦ï¼šæŒ‡å‘èŠ‚ç‚¹çš„è¾¹çš„ä¸ªæ•°ï¼ˆæ¯”å¦‚å›¾ä¸­èŠ‚ç‚¹1çš„å…¥åº¦å°±æ˜¯0ï¼‰ ä½¿ç”¨BFSè¿›è¡Œæ‹“æ‰‘æ’åº æ‰¾åˆ°å›¾ä¸­å…¥åº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œä»å›¾ä¸­ç§»é™¤ è¢«ç§»é™¤èŠ‚ç‚¹æŒ‡å‘çš„èŠ‚ç‚¹ï¼Œå…¥åº¦å‡1 é‡å¤2ã€3 å¦‚æœæœ€åä¸å­˜åœ¨å…¥åº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œè¯´æ˜å›¾ä¸­æœ‰ç¯ï¼Œè¿™æ—¶å€™æ‹“æ‰‘æ’åºæ— è§£","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"/categories/ç®—æ³•/"}],"tags":[{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"/tags/ä½è¿ç®—/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"/tags/ç®—æ³•/"},{"name":"é€’å½’","slug":"é€’å½’","permalink":"/tags/é€’å½’/"},{"name":"æ’åº","slug":"æ’åº","permalink":"/tags/æ’åº/"},{"name":"åˆ†æ²»æ³•","slug":"åˆ†æ²»æ³•","permalink":"/tags/åˆ†æ²»æ³•/"},{"name":"å†’æ³¡æ’åº","slug":"å†’æ³¡æ’åº","permalink":"/tags/å†’æ³¡æ’åº/"},{"name":"é€‰æ‹©æ’åº","slug":"é€‰æ‹©æ’åº","permalink":"/tags/é€‰æ‹©æ’åº/"},{"name":"æ’å…¥æ’åº","slug":"æ’å…¥æ’åº","permalink":"/tags/æ’å…¥æ’åº/"},{"name":"å¸Œå°”æ’åº","slug":"å¸Œå°”æ’åº","permalink":"/tags/å¸Œå°”æ’åº/"},{"name":"å½’å¹¶æ’åº","slug":"å½’å¹¶æ’åº","permalink":"/tags/å½’å¹¶æ’åº/"},{"name":"å †æ’åº","slug":"å †æ’åº","permalink":"/tags/å †æ’åº/"},{"name":"åŸºæ•°æ’åº","slug":"åŸºæ•°æ’åº","permalink":"/tags/åŸºæ•°æ’åº/"},{"name":"è®¡æ•°æ’åº","slug":"è®¡æ•°æ’åº","permalink":"/tags/è®¡æ•°æ’åº/"},{"name":"æ¡¶æ’åº","slug":"æ¡¶æ’åº","permalink":"/tags/æ¡¶æ’åº/"},{"name":"å¿«æ’","slug":"å¿«æ’","permalink":"/tags/å¿«æ’/"},{"name":"å›¾","slug":"å›¾","permalink":"/tags/å›¾/"},{"name":"æ‹“æ‰‘æ’åº","slug":"æ‹“æ‰‘æ’åº","permalink":"/tags/æ‹“æ‰‘æ’åº/"},{"name":"BFS","slug":"BFS","permalink":"/tags/BFS/"},{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"/tags/é˜Ÿåˆ—/"},{"name":"å½©è™¹æ’åº","slug":"å½©è™¹æ’åº","permalink":"/tags/å½©è™¹æ’åº/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"/tags/åŒæŒ‡é’ˆ/"},{"name":"ArrayList","slug":"ArrayList","permalink":"/tags/ArrayList/"},{"name":"Arrays","slug":"Arrays","permalink":"/tags/Arrays/"}],"keywords":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"/categories/ç®—æ³•/"}]},{"title":"BIO / NIO / AIO","slug":"BIO-NIO-AIO","date":"2019-08-16T11:50:20.000Z","updated":"2019-12-14T07:05:23.683Z","comments":true,"path":"BIO-NIO-AIO/","link":"","permalink":"/BIO-NIO-AIO/","excerpt":"","text":"BIO &amp; NIO &amp; AIOï¼ˆã€‡ï¼‰åŒæ­¥vså¼‚æ­¥ã€é˜»å¡vséé˜»å¡åŒæ­¥vså¼‚æ­¥ åŒæ­¥ï¼šå‘èµ·ä¸€ä¸ªè°ƒç”¨åï¼Œè¢«è°ƒç”¨è€…æœªå¤„ç†å®Œè¯·æ±‚ä¹‹å‰ï¼Œè°ƒç”¨ä¸è¿”å› å¼‚æ­¥ï¼šå‘èµ·ä¸€ä¸ªè°ƒç”¨åï¼Œç«‹å³æ”¶åˆ°è¢«è°ƒç”¨è€…çš„å›åº”è¡¨ç¤ºå·²ç»æ¥æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯è¢«è°ƒç”¨è€…æ²¡æœ‰è¿”å›ç»“æœï¼Œä¼šé€šè¿‡äº‹ä»¶/å›è°ƒç­‰æœºåˆ¶é€šçŸ¥è°ƒç”¨è€…ç»“æœ é˜»å¡vséé˜»å¡ é˜»å¡ï¼šè°ƒç”¨æ–¹å¿…é¡»ç­‰å¾…è¯·æ±‚è¿”å›ç»“æœï¼ˆå³è¢«æŒ‚èµ·ï¼‰ï¼Œä¸èƒ½ä»äº‹å…¶ä»–ä»»åŠ¡ é˜»å¡I/Oçº¿ç¨‹å¤„äºçº¿ç¨‹çš„å“ªä¸ªçŠ¶æ€å‘¢ï¼Ÿç­”æ¡ˆï¼šRUNNABLEã€‚å› ä¸ºå®ƒæ—¢æ²¡æœ‰ç­‰å¾…notify()/notifyAll()ï¼Œä¹Ÿä¸æ˜¯ç”±äºsynchronizedè¢«é˜»å¡ çº¿ç¨‹æ± å®ç°äº†ä¼ªå¼‚æ­¥I/Oï¼Œä½†æ˜¯åº•å±‚ä»ç„¶æ˜¯BIOã€‚ éé˜»å¡ï¼šè°ƒç”¨æ–¹åœ¨ç­‰å¾…è¯·æ±‚è¿”å›ç»“æœæ—¶ï¼Œä¸ä¼šè¢«æŒ‚èµ·ï¼Œå¯ä»¥ä»äº‹å…¶ä»–ä»»åŠ¡ åœ¨ç½‘ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªå¾ˆè´´åˆ‡çš„æ¯”å–»â€”â€”çƒ§å¼€æ°´ï¼š1.ä½ å¦ˆå¦ˆå«ä½ çƒ§å¼€æ°´ï¼Œä½ å°æ—¶å€™æ¯”è¾ƒç¬¨ï¼Œååœ¨å¼€æ°´å£¶å‰ç­‰æ°´å¼€ï¼Œè¿™æ˜¯åŒæ­¥é˜»å¡ï¼›2.ç­‰ä½ å¤§ä¸€ç‚¹äº†ï¼ŒçŸ¥é“ç­‰æ°´çƒ§å¼€çš„è¿™æ®µæ—¶é—´å¯ä»¥å¿™åˆ«çš„äº‹æƒ…ï¼Œä½ åªéœ€è¦æ—¶ä¸æ—¶æ¥çœ‹çœ‹æ°´çƒ§å¼€äº†æ²¡æœ‰ï¼Œè¿™æ˜¯åŒæ­¥éé˜»å¡ï¼›3.åæ¥ä½ ä»¬å®¶ç”¨ä¸Šäº†æ°´çƒ§å¼€ä¼šå‘å‡ºå£°éŸ³çš„å£¶ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å»å¹²åˆ«çš„äº‹æƒ…äº†ï¼Œç­‰åˆ°æ°´å¼€äº†å®ƒè‡ªå·±ä¼šå‘å‡ºå£°éŸ³æé†’ä½ ï¼Œè¿™å°±æ˜¯å¼‚æ­¥éé˜»å¡ ï¼ˆä¸€ï¼‰BIOåŒæ­¥é˜»å¡I/Oï¼Œæ•°æ®çš„è¯»å–å†™å…¥å¿…é¡»é˜»å¡åœ¨ä¸€ä¸ªçº¿ç¨‹å†…å®Œæˆï¼Œä¸èƒ½åº”ä»˜é«˜å¹¶å‘ã€‚ BIOè®¾è®¡çš„ç±»æœ‰40å¤šä¸ªï¼Œçœ‹ä¼¼æ‚ä¹±ï¼Œä½†æ˜¯å…¶å®éƒ½æ˜¯ä»4ä¸ªæŠ½è±¡ç±»ä¸­æ´¾ç”Ÿæ¥çš„ã€‚ Readerï¼šå­—ç¬¦è¾“å…¥æµ InputStreamï¼šå­—èŠ‚è¾“å…¥æµ Writerï¼šå­—ç¬¦è¾“å‡ºæµ OutputStreamï¼šå­—èŠ‚è¾“å‡ºæµ åˆ†ç±»1.å­—ç¬¦è¯»å– - Reader èŠ‚ç‚¹æµï¼š æ–‡ä»¶æ“ä½œï¼šFileReader ç®¡é“æ“ä½œï¼šPipedReader æ•°ç»„æ“ä½œï¼šCharArrayReader å¤„ç†æµï¼š ç¼“å†²æ“ä½œï¼šBufferedReader è½¬åŒ–æ§åˆ¶ï¼šInputStreamReader 2.å­—èŠ‚è¯»å– - InputStream èŠ‚ç‚¹æµï¼š æ–‡ä»¶æ“ä½œï¼šFileInputStream ç®¡é“æ“ä½œï¼šPipedInputStream æ•°ç»„æ“ä½œï¼šByteArrayInputStream å¤„ç†æµï¼š ç¼“å†²æ“ä½œï¼šBufferedInputStream åŸºæœ¬æ•°æ®ç±»å‹æ“ä½œï¼šDataInputStream å¯¹è±¡åºåˆ—åŒ–æ“ä½œï¼šObjectInputStream SequenceInputStream 3.å­—ç¬¦å†™å‡º - Writer èŠ‚ç‚¹æµï¼š æ–‡ä»¶æ“ä½œï¼šFileWriter ç®¡é“æ“ä½œï¼šPipedWriter æ•°ç»„æ“ä½œï¼šCharArrayWriter å¤„ç†æµï¼š ç¼“å†²æ“ä½œï¼šBufferedWriter è½¬åŒ–æ§åˆ¶ï¼šOutputStreamWriter æ‰“å°æ§åˆ¶ï¼šPrintWriter 4.å­—èŠ‚å†™å‡º - OutputStream èŠ‚ç‚¹æµï¼š æ–‡ä»¶æ“ä½œï¼šFileOutputStream ç®¡é“æ“ä½œ:PipedOutputStream æ•°ç»„æ“ä½œï¼šByteArrayOutputStream å¤„ç†æµï¼š ç¼“å†²æ“ä½œï¼šBufferedOutputStream åŸºæœ¬æ•°æ®ç±»å‹æ“ä½œï¼šDataOutputStream å¯¹è±¡åºåˆ—åŒ–æ“ä½œï¼šObjectOutputStream æ‰“å°æ“ä½œï¼šPrintStream demo//BIOï¼štry-catch-finally BufferedReader br = null; String sCurrentLine = null; try{ br = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\19047535\\\\IdeaProjects\\\\batal\\\\src\\\\io\\\\text.txt&quot;)); while ((sCurrentLine = br.readLine()) != null) { System.out.println(sCurrentLine); } }catch (IOException e){ e.printStackTrace(); }finally { try{ if (br != null) br.close(); }catch (IOException e){ e.printStackTrace(); } } ä½¿ç”¨try-with-resourceså–ä»£try-catch-finallyï¼š //BIOï¼štry-with-resource try(BufferedReader br2 = new BufferedReader( new FileReader(&quot;C:\\\\Users\\\\19047535\\\\IdeaProjects\\\\batal\\\\src\\\\io\\\\text.txt&quot;))) { while ((sCurrentLine = br2.readLine()) != null) { System.out.println(sCurrentLine); } }catch (IOException e){ e.printStackTrace(); } ç¼ºç‚¹ &amp; è§£å†³æ–¹æ¡ˆï¼šçº¿ç¨‹æ± æ¯ä¸€ä¸ªè¯·æ±‚éœ€è¦ä¸€ä¸ªI/Oçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼ŒåŒæ—¶çº¿ç¨‹çš„åˆ›å»ºã€é”€æ¯éœ€è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºï¼ŒåŠ é‡äº†ç³»ç»Ÿçš„è´Ÿæ‹…ã€‚ è§£å†³æ–¹æ³•ï¼šé€šè¿‡çº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹ çº¿ç¨‹æ± æœ¬è´¨ä¸Šä»ç„¶æ˜¯BIO ï¼ˆäºŒï¼‰NIOåŒæ­¥éé˜»å¡I/Oï¼Œæ”¯æŒé«˜å¹¶å‘ã€é«˜è´Ÿè½½ã€‚åº”ç”¨æ“ä½œä¹‹åç›´æ¥è¿”å›ï¼Œä¸ä¼šå µå¡åœ¨é‚£é‡Œã€‚ NIO ä¸ BIO çš„åŒºåˆ« BIOæ˜¯é¢å‘æµçš„ï¼ŒNIOæ˜¯é¢å‘ç¼“å†²åŒºçš„ BIOæ˜¯é˜»å¡çš„ï¼ŒNIOæ˜¯éé˜»å¡çš„ NIOæœ‰é€‰æ‹©å™¨è€ŒBIOæ²¡æœ‰ è¯» &amp; å†™ è¯»ï¼šåˆ›å»ºä¸€ä¸ªç¼“å†²åŒºï¼Œç„¶åè¯·æ±‚é€šé“è¯»å–æ•°æ® å†™ï¼šåˆ›å»ºä¸€ä¸ªç¼“å†²åŒºï¼Œå¡«å……æ•°æ®ï¼Œç„¶åè¦æ±‚é€šé“å†™å…¥æ•°æ® æ ¸å¿ƒç»„ä»¶1.ç¼“å†²åŒºï¼ˆBufferï¼‰Bufferçš„æœ¬è´¨æ˜¯ä¸€å—å†…å­˜åŒºåŸŸï¼Œç”¨äºå’ŒChannelè¿›è¡Œäº¤äº’â€”â€”å°†Bufferä¸­çš„æ•°æ®å†™å…¥Channelï¼Œæˆ–æ˜¯ä»Channelè¯»å–æ•°æ®åˆ°Bufferã€‚ ï¼ˆ1ï¼‰å±æ€§ capacityï¼šbufferå®¹é‡ï¼Œä¸€æ—¦è®¾ç½®å°±ä¸èƒ½æ›´æ”¹ positionï¼šä¸‹ä¸€ä¸ªè¯»/å†™å…ƒç´ çš„ä½ç½®ï¼Œé€šè¿‡get/putæ›´æ–° limitï¼šbufferä¸­ä¸èƒ½è¯»/å†™çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ¢å¥è¯æ¥è¯´å°±æ˜¯bufferä¸­å­˜æ´»å…ƒç´ çš„ä¸ªæ•° markï¼šbufferä¸­ä¸€ä¸ªè®°å½•çš„ä½ç½®ï¼Œè°ƒç”¨mark()å¯ä»¥è®©mark = positionï¼Œè°ƒç”¨reset()å¯ä»¥è®©position = mark 0 &lt;= mark &lt;= position &lt;= limit &lt;= capacity ï¼ˆ2ï¼‰å¸¸è§æ–¹æ³• Buffer clear() Buffer flip() Buffer rewind() Buffer position(int newPosition) ï¼ˆ3ï¼‰ä½¿ç”¨ç¼“å†²åŒº åˆ†é…ç¼“å†²åŒºï¼šBuffer.allocate(capacity)`java//å­—èŠ‚ç¼“å†²åŒºByteBuffer buffer = ByteBuffer.allocate(28); //å­—ç¬¦ç¼“å†²åŒºCharBuffer charBuffer = CharBuffer.allocate(100);//ä»åŸæœ‰å­—ç¬¦æ•°ç»„ä¸­åˆ†é…ç¼“å†²åŒºchar[] charArr = new char[100];CharBuffer charBuffer2 = CharBuffer.wrap(charArr);CharBuffer charBuffer2 = CharBuffer.wrap(charArr, 12, 43); //åˆ†é…ä¸€éƒ¨åˆ† 2. å†™å…¥æ•°æ®åˆ°ç¼“å†²åŒºï¼š`Channel.read(Buffer)`/`Buffer.put()` * ä»`Channel`ä¸­è¯»æ•°æ®åˆ°`Buffer` ```java int bytesRead = inChannel.read(buffer); é€šè¿‡putå†™æ•°æ®buffer.put(127); ä»ç¼“å†²åŒºè¯»å–æ•°æ®ï¼šBuffer.get() è¯»å†™åè½¬ï¼šè°ƒç”¨Buffer.flip()å¯ä»¥è®©limit = position; position = 0ï¼Œä»è¯»æ¨¡å¼åˆ‡æ¢åˆ°å†™æ¨¡å¼ æŸ¥è¯¢å‰©ä½™å…ƒç´ ï¼šBuffer.hasRemaining()ï¼Œå¦‚æœbufferéç©ºï¼Œè¿”å›true æ¸…ç©ºbufferï¼šBuffer.clear() ç­‰ä»·äºï¼š for(int i = 0; buffer.hasRemaining(), i++){ buffer.get(); } 2.é€šé“ï¼ˆChannelï¼‰ FileChannel SocketChannel ServerSocketChannel DatagramChannel RandomAccessFile raf = new RandomAccessFile(&quot;file&quot;, &quot;r&quot;); FileChannel fc = raf.getChannel(); SocketChannel sc = SocketChannel.open(); sc.connect(new InetSocketAddress(&quot;host&quot;, port)); ServerSocketChannel ssc = ServerSocketChannel.open(); ssc.socket().bind(new InetSocketAddress(localport)); DatagramChannel dc = DatagramChannel.open(); //channel.read() //channel.write() //channel.close() ï¼ˆ1ï¼‰å¤šç¼“å†²åŒºæ“ä½œ Scatterï¼šå°†1ä¸ªChannelä¸­çš„æ•°æ®åˆ†æ•£åˆ°Nä¸ªBufferä¸­å» public interface ScatteringByteChannel extends ReadableByteChannel{ public long read(ByteBuffer[] dsts) throws IOException; public long read(ByteBuffer[] dsts, int offset, int length) throws IOException; } Gatherï¼šå°†Nä¸ªBufferä¸­çš„æ•°æ®æŒ‰ç…§é¡ºåºå‘é€åˆ°ä¸€ä¸ªChannel public interface GatheringByteChannel extends ReadableByteChannel{ public long write(ByteBuffer[] srcs) throws IOException; public long write(ByteBuffer[] srcs, int offset, int length) throws IOException; } ï¼ˆ2ï¼‰å¤šé€šé“ä¹‹é—´æ•°æ®ä¼ è¾“ transferFrom()ï¼šæŠŠæ•°æ®ä»é€šé“æºä¼ è¾“åˆ°FileChannel transferTo()ï¼šå°†FileChannelæ•°æ®ä¼ è¾“åˆ°å…¶ä»–é€šé“ public abstract class FileChannel extends AbstractChannel implements ByteChannel, GatheringByteChannel, ScatteringByteChannel { // There are more other methods public abstract long transferTo (long position, long count, WritableByteChannel target); public abstract long transferFrom (ReadableByteChannel src, long position, long count); } 3.é€‰æ‹©å™¨/å¤šè·¯å¤ç”¨å™¨ï¼ˆSelectorï¼‰é€šè¿‡å•çº¿ç¨‹çš„Selectoræ£€æŸ¥å¤šä¸ªChannelæ˜¯å¦å¤„äºå¯è¯»/å¯å†™ï¼Œä»è€Œå®ç°å•çº¿ç¨‹ç®¡ç†å¤šä¸ªé€šé“ã€‚ ï¼ˆ1ï¼‰ä¼˜ç‚¹Selectoré€šè¿‡å¤šè·¯å¤ç”¨é¿å…äº†å¤šçº¿ç¨‹ï¼Œä»è€Œå‡å°‘äº†çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€‚ ï¼ˆ2ï¼‰ä½¿ç”¨é€‰æ‹©å™¨ åˆ›å»ºï¼šSelector.open() Selector selector = Selector.open(); æ³¨å†ŒChannelåˆ°Selectorï¼šChannel.register(...) channel.configureBlocking(false); //é€šé“å¿…é¡»æ˜¯éé˜»å¡çš„ SelectionKey key = channel.register(selector, SelectionKey.OP_READ); //ä¸€ä¸ªSelectionKeyè¡¨ç¤ºäº†ä¸€ä¸ªSelectorå’Œä¸€ä¸ªChannelä¹‹é—´çš„ç»‘å®šå…³ç³» demopublic static void main(String[] args) throws IOException{ //NIO System.out.println(&quot;============NIO============&quot;); RandomAccessFile file = new RandomAccessFile(&quot;C:\\\\Users\\\\19047535\\\\IdeaProjects\\\\batal\\\\src\\\\io\\\\text.txt&quot;, &quot;r&quot;); //é€šè¿‡æ–‡ä»¶æ‰“å¼€channel FileChannel channel = file.getChannel(); //åˆ†é…buffer ByteBuffer buffer = ByteBuffer.allocate(1024); while (channel.read(buffer) &gt; 0){ buffer.flip(); for (int i = 0; i &lt; buffer.limit(); i++) { System.out.println((char)buffer.get()); } buffer.clear(); } channel.close(); file.close(); } å†…å­˜æ˜ å°„æ–‡ä»¶å†…å­˜æ˜ å°„æ–‡ä»¶ï¼ˆmemory-mapped fileï¼‰èƒ½è®©ä½ åˆ›å»º/ä¿®æ”¹é‚£äº›å¤§åˆ°æ— æ³•è¯»å…¥å†…å­˜çš„æ–‡ä»¶ã€‚æœ‰äº†å†…å­˜æ˜ å°„æ–‡ä»¶ï¼Œä½ å°±å¯ä»¥è®¤ä¸ºæ–‡ä»¶å·²ç»å…¨éƒ¨è¯»å…¥å†…å­˜ï¼Œç„¶åæŠŠå®ƒå½“ä½œä¸€ä¸ªéå¸¸å¤§çš„æ•°ç»„æ¥è®¿é—®ã€‚å†…å­˜æ˜ å°„æ–‡ä»¶è™½ç„¶æœ€åè¿˜æ˜¯éœ€è¦ä»ç£ç›˜è¯»å–æ–‡ä»¶ï¼Œä½†æ˜¯å®ƒä¸éœ€è¦å°†æ•°æ®è¯»å–åˆ°OSçš„å†…æ ¸ç¼“å†²åŒºï¼Œè€Œæ˜¯ç›´æ¥å°†è¿›ç¨‹çš„ç”¨æˆ·ç§æœ‰ç©ºé—´å’Œæ–‡ä»¶ç£ç›˜åœ°å€è¿›è¡Œæ˜ å°„ï¼Œå°±å¥½åƒæ˜¯ä»å†…å­˜ä¸­è¯»/å†™æ–‡ä»¶ä¸€æ ·ï¼Œæ‰€ä»¥æ‰å¿«ã€‚ ï¼ˆä¸‰ï¼‰AIOå¼‚æ­¥éé˜»å¡I/Oï¼šåº”ç”¨æ“ä½œä¹‹åç›´æ¥è¿”å›ï¼Œä¸ä¼šå µå¡åœ¨é‚£é‡Œï¼Œå½“åå°å¤„ç†å®Œæˆï¼Œæ“ä½œç³»ç»Ÿä¼šé€šçŸ¥ç›¸åº”çš„çº¿ç¨‹è¿›è¡Œåç»­çš„æ“ä½œã€‚ AIOåŒ…æ‹¬Socketså’ŒFilesä¸¤éƒ¨åˆ†çš„å¼‚æ­¥é€šé“æ¥å£åŠå®ç°ï¼Œå¹¶å°½é‡ä½¿ç”¨OSæä¾›çš„åŸç”Ÿæœ¬åœ°I/OåŠŸèƒ½è¿›è¡Œå®ç°ã€‚ AIO å’Œ NIO çš„åŒºåˆ« NIOæ˜¯OSæœ‰äº†I/Oèµ„æºåï¼Œé€šçŸ¥è°ƒç”¨æ–¹ï¼ˆI/Oçº¿ç¨‹ï¼‰æ‰§è¡ŒI/Oæ“ä½œï¼› AIOæ˜¯ç›´æ¥å°†I/Oæ“ä½œä»¥å‡½æ•°çš„å½¢å¼ä¼ ç»™OSï¼Œæœ‰èµ„æºçš„æ—¶å€™ç”±OSä»£æ›¿æ‰§è¡Œï¼Œåªä»¥Futureæˆ–Callbackçš„å½¢å¼è¿”å›ä¸€ä¸ªå¼‚æ­¥çš„ç»“æœç»™è°ƒç”¨æ–¹ï¼ˆI/Oçº¿ç¨‹ï¼‰ã€‚ AIOçš„I/Oæ“ä½œ1.Futureæäº¤ä¸€ä¸ªI/Oæ“ä½œè¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ªFutureã€‚ç„¶åè°ƒç”¨æ–¹å¯ä»¥é€šè¿‡Future.get()è¿›è¡Œæ£€æŸ¥ï¼Œç¡®è®¤å®ƒæ˜¯å¦å®Œæˆï¼Œæˆ–è€…é˜»å¡I/Oæ“ä½œç›´åˆ°æ­£å¸¸å®Œæˆåè¶…æ—¶å¼‚å¸¸ã€‚ //å¼‚æ­¥é€šé“ AsynchronousSocketChannel ch = AsynchronousSocketChannel.open(); //åˆ†é…ç¼“å†²åŒº ByteBuffer buffer = ByteBuffer.allocateDirect(8192); //å¼‚æ­¥ è¯» Future&lt;Integer&gt; result = ch.read(buffer); try{ //é€šè¿‡Future.get()å¼‚æ­¥è·å–æ‰§è¡Œç»“æœ int bytesRead = result.get(); //Success if(bytesRead == -1) return; }catch(ExecutionException e) { //Fail } æ³¨æ„ï¼šFuture.get()æ˜¯åŒæ­¥çš„ï¼Œè°¨æ…ä½¿ç”¨ã€‚ 2.Callbackæäº¤ä¸€ä¸ªI/Oæ“ä½œè¯·æ±‚ï¼Œå¹¶ä¸”æŒ‡å®šä¸€ä¸ªCompletionHandlerã€‚å½“å¼‚æ­¥I/Oå®Œæˆåï¼Œå‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ­¤æ—¶CompletionHandlerå¯¹è±¡çš„completed/failedæ–¹æ³•å°†ä¼šè¢«å›è°ƒã€‚ public interface CompletionHandler&lt;V, A&gt; { //å½“æ“ä½œå®Œæˆåè¢«è°ƒç”¨ //V resultï¼šæ“ä½œç»“æœ //A attachmentï¼šæäº¤æ“ä½œè¯·æ±‚æ—¶çš„å‚æ•° void completed(V value, A attachment); //å½“æ“ä½œå¤±è´¥åè¢«è°ƒç”¨ //Throwable excï¼šå¤±è´¥åŸå›  void failed(Throwable exc, A attachment); } 3.Future å’Œ Callback çš„åŒºåˆ« Futureæ˜¯è°ƒç”¨æ–¹ä¸»åŠ¨å¼‚æ­¥æŸ¥è¯¢æ“ä½œæˆåŠŸ/å¤±è´¥ï¼Œç„¶åè°ƒç”¨æ–¹å†æ ¹æ®æ“ä½œç»“æœå®ç°ä¸åŒé€»è¾‘ Callbackæ˜¯è°ƒç”¨æ–¹ç›´æ¥å°†æˆåŠŸï¼ˆcompletedï¼‰/å¤±è´¥ï¼ˆfailedï¼‰æ—¶å¯¹åº”çš„æ“ä½œä»¥å‡½æ•°çš„æ–¹å¼ä¼ é€’ç»™æ“ä½œæ–¹ï¼Œæ“ä½œæˆåŠŸ/å¤±è´¥åï¼Œæ“ä½œæ–¹å¼‚æ­¥å›è°ƒå¯¹åº”çš„å‡½æ•° AsynchronousFileChannelï¼šå¼‚æ­¥æ–‡ä»¶é€šé“AsynchronousFileChannelä½¿æ•°æ®å¯ä»¥å¼‚æ­¥è¯»å†™ã€‚","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"/categories/JavaåŸºç¡€/"}],"tags":[{"name":"BIO","slug":"BIO","permalink":"/tags/BIO/"},{"name":"NIO","slug":"NIO","permalink":"/tags/NIO/"},{"name":"Java Base","slug":"Java-Base","permalink":"/tags/Java-Base/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"/tags/å¤šçº¿ç¨‹/"},{"name":"çº¿ç¨‹æ± ","slug":"çº¿ç¨‹æ± ","permalink":"/tags/çº¿ç¨‹æ± /"},{"name":"Future","slug":"Future","permalink":"/tags/Future/"}],"keywords":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"/categories/JavaåŸºç¡€/"}]},{"title":"GayHubä¸Šä¸€äº›æœ‰è¶£çš„é¡¹ç›®ã€æŒç»­æ›´æ–°~ã€‘","slug":"fun-with-GayHub","date":"2019-08-04T09:47:11.000Z","updated":"2019-12-14T02:56:58.272Z","comments":true,"path":"fun-with-GayHub/","link":"","permalink":"/fun-with-GayHub/","excerpt":"","text":"GayHubä¸Šä¸€äº›æœ‰è¶£çš„é¡¹ç›® ï¼ˆä¸€ï¼‰reveal-mdï¼šä½¿ç”¨.mdæ¥åšPPTè¯¦ç»†ä¿¡æ¯è§reveal-mdé¡¹ç›®åœ°å€ã€‚ç›¸ä¼¼çš„è¿˜æœ‰ç”¨HTMLåšPPTå±•ç¤ºçš„reveal.jsã€‚ å®‰è£…npm install -g reveal-md ä½¿ç”¨reveal-md path/demo.mdï¼Œå…¶ä¸­ï¼Œpath/demo.mdæ˜¯ä½ çš„Markdownæ–‡ä»¶åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°åœ°å€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨URLã€‚ä½¿ç”¨å¦‚ä¸‹çš„Markdownæ–‡ä»¶ï¼š # Title * Point 1 * Point 2 --- ## Second slide &gt; Best quote ever. Note: speaker notes FTW! æ•ˆæœå¦‚å›¾ï¼š é€šè¿‡solarizedä¸»é¢˜ä½¿ç”¨reveal-md path/demo.md --theme solarizedæ•ˆæœå¦‚å›¾ï¼š ï¼ˆäºŒï¼‰Logoly.Proï¼šä¸æ­£ç»çš„Logoç”Ÿæˆå™¨è¯¥é¡¹ç›®å¯ä»¥æ ¹æ®ä½ è¾“å…¥çš„æ–‡å­—åˆ›å»ºPornHubé£æ ¼çš„Logoï¼ˆçŸ¥é“PornHubæ˜¯ä»€ä¹ˆçš„åå­©å­è¯·é¢å£æ€è¿‡ï¼‰ã€‚GitHubä»“åº“åœ°å€Logoly.Proåœ¨çº¿ç‰ˆ æ¯”å¦‚ï¼Œæˆ‘è¾“å…¥DragonBabyï¼Œç„¶åç‚¹å‡»Exportï¼šä¿®æ”¹theme/_config.yamlçš„avatarå±æ€§ï¼Œå°±å¯ä»¥å°†å¯¼å‡ºçš„å›¾ç‰‡ä½œä¸ºæˆ‘ä¸ªäººåšå®¢çš„å¤´åƒå•¦~ ï¼ˆä¸‰ï¼‰emoji-mosaicï¼šå°†å›¾ç‰‡è½¬æˆemojiæ ‡ç­¾é©¬èµ›å…‹GitHubä»“åº“åœ°å€emoji-mosaicåœ¨çº¿ç‰ˆï¼ˆæœ‰ä¸€è¯´ä¸€ï¼Œè¿™ä¸ªåœ¨çº¿ç‰ˆå±å®ç®€çº¦å—·â€¦â€¦ï¼‰ æ•ˆæœå›¾å¦‚ä¸‹ï¼š ï¼ˆå››ï¼‰gifiï¼šåœ¨ä½ æ‰§è¡Œnpm installæ—¶æ”¾gifå›¾ gifiï¼šæ³¨æ„å®ƒä¸æ˜¯åœ¨ä½ çš„ç»ˆç«¯æ’­æ”¾ï¼Œè€Œæ˜¯æµè§ˆå™¨æ‰“å¼€gifå›¾æ’­æ”¾ï¼Œæ‰€ä»¥é…Œæƒ…å®‰è£…ã€‚ ï¼ˆäº”ï¼‰bash-insulterï¼šåœ¨è¾“å…¥é”™è¯¯bashå‘½ä»¤æ—¶è¿›è¡Œç¾è¾±çš„è„šæœ¬Githubé¡¹ç›®åœ°å€ã€‚ git cloneé¦–å…ˆä½ æœåŠ¡å™¨éœ€è¦å®‰è£…äº†Gitã€‚é€šè¿‡git clone https://github.com/hkbakke/bash-insulter bash-insulterå‘½ä»¤å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°ã€‚ å°†ä¸‹è½½å†…å®¹ç§»åŠ¨åˆ°/etcç›®å½•ä¸‹sudo cp bash-insulter/src/bash.command-not-found /etc/ ä¿®æ”¹/etc/bash.bashrcæ–‡ä»¶vim /etc/bash.bashrcæ‰“å¼€æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ï¼š #Bash Insulter if [ -f /etc/bash.command-not-found ]; then . /etc/bash.command-not-found fi source /etc/bash.bashrc ä½¿ä¿®æ”¹ç”Ÿæ•ˆsource /etc/bash.bashrc ç”Ÿæ•ˆåï¼Œè¾“å…¥é”™è¯¯çš„bashå‘½ä»¤å°±ä¼šè¢«ç‹ ç‹ ç¾è¾±ï¼š ï¼ˆå…­ï¼‰the-fuckï¼šè¾“å…¥é”™è¯¯bashå‘½ä»¤åé€šè¿‡fuckè¿›è¡Œä¿®æ­£ the-fucké¡¹ç›®åœ°å€ Macä¸‹é€šè¿‡brew install thefuckå®‰è£… vim ~/.bashrcï¼Œä¿®æ”¹ï¼š eval &quot;$(thefuck --alias)&quot; source ~/.bashrcä½¿ä¹‹ç”Ÿæ•ˆï¼Œè¾“å…¥é”™è¯¯bashå‘½ä»¤åé€šè¿‡fuckå‘½ä»¤å³å¯è¿›è¡Œä¿®æ­£ï¼Œå¦‚ï¼š (base) bogon:~ dragonbaby308$ git brach git: &#39;brach&#39; is not a git command. See &#39;git --help&#39;. The most similar command is branch (base) bogon:~ dragonbaby308$ fuck git branch [enter/â†‘/â†“/ctrl+c] ï¼ˆä¸ƒï¼‰12306æŠ¢ç¥¨ 12306æŠ¢ç¥¨ æœªæµ‹è¯•ã€‚ ï¼ˆå…«ï¼‰å˜å£°å™¨ å˜å£°å™¨ æœªæµ‹è¯•ã€‚ ï¼ˆä¹ï¼‰ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨ ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨-GitHubåœ°å€ ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨-ç½‘é¡µç‰ˆ","categories":[{"name":"GitHub","slug":"GitHub","permalink":"/categories/GitHub/"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"/tags/GitHub/"},{"name":"Git","slug":"Git","permalink":"/tags/Git/"},{"name":"Linux","slug":"Linux","permalink":"/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"/tags/Shell/"},{"name":"Vim","slug":"Vim","permalink":"/tags/Vim/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"/tags/å‰ç«¯/"},{"name":"Markdown","slug":"Markdown","permalink":"/tags/Markdown/"},{"name":"Node.js","slug":"Node-js","permalink":"/tags/Node-js/"},{"name":"Vue.js","slug":"Vue-js","permalink":"/tags/Vue-js/"},{"name":"Fun!!!!!!!","slug":"Fun","permalink":"/tags/Fun/"},{"name":"JS","slug":"JS","permalink":"/tags/JS/"},{"name":"Homebrew","slug":"Homebrew","permalink":"/tags/Homebrew/"},{"name":"Mac","slug":"Mac","permalink":"/tags/Mac/"}],"keywords":[{"name":"GitHub","slug":"GitHub","permalink":"/categories/GitHub/"}]},{"title":"Javaä¸­çš„ä½è¿ç®—","slug":"bit-operation","date":"2019-07-30T04:44:54.000Z","updated":"2019-12-14T02:55:49.364Z","comments":true,"path":"bit-operation/","link":"","permalink":"/bit-operation/","excerpt":"","text":"Javaä¸­çš„ä½è¿ç®—ï¼ˆä¸€ï¼‰ç§»ä½è¿ç®—å·¦ç§»ï¼š&lt;&lt;å·¦ç§»1ä½ç›¸å½“äºä¹˜2ï¼Œx &lt;&lt; nç­‰ä»·äºx * (2 ^ n)ã€‚ int i = 4; //100 i = i &lt;&lt; 2; //10000 = 16 = 4 * (2 ^ 2) åº”ç”¨ï¼šä¹˜æ³•å¯¹äºh = 2 ^ n - 1æ¥è¯´ï¼Œå…¶ä¸­nä¸ºæ•´æ•°ï¼Œæœ‰ï¼šh * a =(2 ^ n - 1) * a =(a * 2 ^ n) - a =(a &lt;&lt; n) - a æœ‰ç¬¦å·å³ç§»ï¼š&gt;&gt;å³ç§»1ä½ç›¸å½“äºé™¤2ï¼Œx &gt;&gt; nç­‰ä»·äºx / 2nã€‚ int i = 4; //100 i = i &gt;&gt; 2; //001 = 1 = 4 / (2 ^ 2) æ— ç¬¦å·å³ç§»ï¼š&gt;&gt;&gt;åº”ç”¨ï¼š æ±‚æŸmä½æ•°cçš„é«˜nä½ï¼šc &gt;&gt;&gt; (m - n)å¦‚ï¼šæ±‚32ä½intå‹å˜é‡cçš„é«˜16ä½ â€”â€” c &gt;&gt;&gt; 16 ï¼ˆäºŒï¼‰é€»è¾‘è¿ç®—æŒ‰ä½ä¸ï¼š&amp;ã€æœ‰0åˆ™0ã€‘1 &amp; 0 = 01 &amp; 1 = 10 &amp; 0 = 0 1. åˆ¤æ–­å¥‡å¶n &amp; 1 == 1åˆ™ä¸ºå¥‡æ•°ï¼Œn &amp; 1 == 0åˆ™ä¸ºå¶æ•° // 1 çš„äºŒè¿›åˆ¶ä¸ºï¼š000...0001 int odd = 5; //101 å¥‡æ•°æœ€åä¸€ä½å¿…ä¸º1ï¼Œä¸1æŒ‰ä½ä¸ï¼Œä¸€å®šæ˜¯000...0001 int even = 6; //110 å¶æ•°æœ€åä¸€ä½å¿…ä¸º0ï¼Œä¸1æŒ‰ä½ä¸ï¼Œä¸€å®šæ˜¯000...0000 //odd &amp; 1 = 1ï¼Œå¥‡æ•° //even &amp; 1 = 0ï¼Œå¶æ•° 2. åˆ¤æ–­æ˜¯å¦æ˜¯2çš„æ•´æ•°æ¬¡å¹‚n &amp; (n-1) == 0æ˜¯2 ^ nï¼Œn &amp; (n-1) == 1ä¸æ˜¯2 ^ n //è¯·çœ‹ï¼š //4ï¼š100 //3ï¼š011 //8ï¼š1000 //7ï¼š0111 //å¯çŸ¥ï¼š //2 ^ nçš„äºŒè¿›åˆ¶ç å¿…å®šæ˜¯1000...000çš„æ ¼å¼ï¼Œé™¤äº†é¦–ä½ä¸º1ï¼Œå…¶ä»–éƒ½ä¸º0 //2 ^ n - 1çš„äºŒè¿›åˆ¶ç å¿…å®šæ˜¯0111...111çš„æ ¼å¼ï¼Œé™¤äº†é¦–ä½ä¸º0ï¼Œå…¶ä»–éƒ½ä¸º1 int isTrue = 16; //10000 int isFalse = 15; //01111 //isFalse - 1 = 14 ï¼ŒäºŒè¿›åˆ¶01110 //isTrue &amp; (isTrue - 1) = 0ï¼Œ2 ^ n //isFale &amp; (isFalse - 1) = 01110ï¼Œé2 ^ n 3. å¯¹2çš„æ•´æ•°æ¬¡å¹‚å–æ¨¡m &amp; (n - 1)ç­‰ä»·äºm % nã€‚ æ³¨æ„ï¼šnå¿…é¡»è¦æ˜¯2 ^ nï¼ï¼ï¼å¹¶ä¸æ‰€æœ‰æ•°éƒ½å¯ä»¥ã€‚ // HashMapä¸­è·å–å…ƒç´ ä¸‹æ ‡ // å°†key.hashCode()å‰16ä½ä¸å16ä½å¼‚æˆ–ï¼Œæ±‚å‡ºä¸€ä¸ªhashå€¼ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®©å…ƒç´ åˆ†å¸ƒæ›´åŠ å‡è¡¡ int hash = (key == null) ? 0 : ((key.hashCode()) ^ (key.hashCode() &gt;&gt;&gt; 16)); // å°†hashå€¼å¯¹æ•°ç»„é•¿åº¦å–æ¨¡ï¼Œå°†hashå€¼æ˜ å°„æˆæ•°ç»„ä½ç½® int index = hash &amp; (len - 1); // è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆHashMapçš„å®¹é‡ä¸€å®šè¦2 ^ nçš„åŸå›  â€”â€” æ–¹ä¾¿ä½è¿ç®—å–æ¨¡ 4. æ±‚æŸmä½æ•°çš„ä½nä½ï¼šc &amp; ((1 &lt;&lt; (m - n)) - 1)å¦‚ï¼šæ±‚32ä½intå‹å˜é‡cçš„ä½16ä½ â€”â€” c &amp; ((1 &lt;&lt; 16 )- 1) æŒ‰ä½æˆ–ï¼š|ã€æœ‰1åˆ™1ã€‘1 | 1 = 11 | 0 = 10 | 0 = 0 1. HashMapä¸­çš„åº”ç”¨ï¼šæœ€å°çš„2çš„å¹‚æ¬¡æ–¹//è¯¥æ–¹æ³•å¯ä»¥ä¿è¯è¿”å›ä¸€ä¸ªèƒ½å®¹çº³capçš„2çš„å¹‚æ¬¡æ–¹ static final int tableSizeFor(int cap) { int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1; } æˆ‘ä»¬ä»¥cap = 65ï¼ˆ1000001ï¼‰ä¸ºä¾‹ï¼Œé‚£ä¹ˆn = 64ï¼ˆ1000000ï¼‰ n &gt;&gt;&gt; 1 = 0100000 n |= n &gt;&gt;&gt; 1 = 1000000|0100000 = 1100000ï¼ˆ96ï¼‰ n |= n &gt;&gt;&gt; 2 = 1100000|0011000 = 1111000ï¼ˆ120ï¼‰ n |= n &gt;&gt;&gt; 4 = 1111000|0000111 = 1111111ï¼ˆ127ï¼‰ n |= n &gt;&gt;&gt; 8 = 1111111|0000000 = 1111111ï¼ˆ127ï¼‰ n |= n &gt;&gt;&gt; 16 = 1111111|0000000 = 1111111ï¼ˆ127ï¼‰ n + 1 = 128 = 2 ^ 7 æŒ‰ä½éï¼š~ã€å–åã€‘æŒ‰ä½å¼‚æˆ–ï¼š^ã€ç›¸åŒåˆ™0ï¼Œç›¸å¼‚ä¸º1ã€‘1 ^ 1 = 00 ^ 0 = 01 ^ 0 = 1 ç‰¹ç‚¹ï¼š ä»»ä½•æ•°å’Œè‡ªå·±å¼‚æˆ–éƒ½æ˜¯0ï¼ša ^ a = 0 0å’Œä»»ä½•æ•°å¼‚æˆ–éƒ½æ˜¯è¯¥æ•°æœ¬èº«ï¼š0 ^ a = a 1. HashMapä¸­çš„åº”ç”¨ï¼šæ‰°åŠ¨å‡½æ•°int hash = key.hashCode() ^ (key.hashCode() &gt;&gt;&gt; 16); //å°†é«˜ä½16ä½è¿›è¡Œå¼‚æˆ–ï¼Œä½¿å¾—å…ƒç´ åœ¨HashMapä¸Šåˆ†å¸ƒå‡åŒ€ 2. ä¸ç”¨ä¸´æ—¶å˜é‡äº¤æ¢ä¸¤ä¸ªæ•°ä¸»è¦ç”¨åˆ°çš„åŸç†å°±æ˜¯a ^ (b ^ a) = b //äº¤æ¢aå’Œbçš„å€¼ //a = a + b; //b = a - b; //a = a - b; int a = -10; int b = 11; a = a ^ b; b = a ^ b; //(a ^ b) ^ b = a a = a ^ b; //(a ^ b) ^ (a ^ b) ^ b = b //äº¤æ¢åa = 11, b = -10 //æ³¨æ„aå’Œbä¸èƒ½æ˜¯åŒä¸€å¯¹è±¡ï¼ï¼ï¼ï¼ï¼ï¼ï¼ è­¦æƒ•ä»¥ä¸‹æƒ…å†µâ€”â€”aå’Œbå‡ºäºæŸç§åŸå› ï¼Œå˜æˆäº†åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä»¥ä¸Šä»£ç éƒ½ä¼šå‡ºé”™ï¼š //a = 2 a = a + a; //4 a = a - a; //0 a = a - a; //0 //a = 0 a = a ^ a; //0 a = a ^ a; //0 a = a ^ a; //0 //a = 0","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"/categories/JavaåŸºç¡€/"}],"tags":[{"name":"ARTSK","slug":"ARTSK","permalink":"/tags/ARTSK/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"/tags/ä½è¿ç®—/"},{"name":"HashMap","slug":"HashMap","permalink":"/tags/HashMap/"},{"name":"String","slug":"String","permalink":"/tags/String/"}],"keywords":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"/categories/JavaåŸºç¡€/"}]},{"title":"æ ‘è“æ´¾å…¥é—¨","slug":"raspberry-pi","date":"2019-07-07T05:59:25.000Z","updated":"2019-12-14T02:58:16.063Z","comments":true,"path":"raspberry-pi/","link":"","permalink":"/raspberry-pi/","excerpt":"","text":"æ ‘è“æ´¾å…¥é—¨å¤–è®¾ ä¹‹å‰æŸæ´»åŠ¨ç™½å«–çš„Raspberry Pi 3Bä¸€ä¸ª 32G Sandisk micro SDå¡ä¸€å¼  è¯»å¡å™¨ä¸€ä¸ª USBæ¥å£5Vã€2Aå……ç”µå™¨ä¸€ä¸ª HDMIçº¿ä¸€æ¡ HDMIæ˜¾ç¤ºå™¨ä¸€ä¸ªï¼ˆæˆ‘ç›´æ¥ç”¨çš„å®¢å…çš„ç”µè§†æœºï¼‰ é”®ç›˜ã€é¼ æ ‡ wifiæ¨¡å—ä¸€ä¸ªï¼ˆ3B+åŠä»¥ä¸Šçš„ä¸éœ€è¦ï¼‰ å®‰è£…Raspbianç³»ç»ŸRaspberry Piå®˜æ–¹æ¨èçš„ç³»ç»Ÿæ˜¯Raspbianï¼Œæ˜¯Debiançš„å®šåˆ¶ç‰ˆã€‚æ¨èä½¿ç”¨NOOBSï¼ˆNew Out Of the Box Softwareï¼‰å®‰è£…ç³»ç»Ÿã€‚ ä¸‹è½½NOOBS æ³¨æ„é€‰æ‹©NOOBSï¼Œè€Œä¸æ˜¯NOOBS LITEã€‚NOOBS LITEä¸å«ç³»ç»Ÿï¼Œåœ¨å®‰è£…æ—¶éœ€è¦ç½‘ç»œæ”¯æŒã€‚ å°†SDå¡æ ¼å¼åŒ–ä¸ºFATæ ¼å¼ï¼Œæˆ‘ç”¨çš„æ˜¯DiskGenius å°†NOOBS.zipè§£å‹åˆ°SDå¡æ ¹ç›®å½• æ³¨æ„æ ¹ç›®å½•éœ€è¦çš„æ˜¯å¦‚ä¸‹å›¾çš„è¯¦ç»†å†…å®¹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªNOOBS_v3_1_1çš„å­æ–‡ä»¶å¤¹ã€‚ æ’å…¥SDå¡ï¼Œæ¥é€šç”µæºï¼Œæ‰“å¼€æ ‘è“æ´¾ ä¸€è·¯å›è½¦ï¼Œå°±å¯ä»¥å®‰è£…å¥½ç³»ç»Ÿã€‚ SSHç™»å½• ç‚¹å‡»å·¦ä¸Šè§’æ ‘è“å›¾æ ‡ï¼ŒPreference -&gt; Raspberry Pi Configuration -&gt; Interfaces -&gt; SSHè®¾ç½®ä¸ºEnabledï¼Œä¹‹åå°±å¯ä»¥é€šè¿‡SSHç™»å½•æ ‘è“æ´¾ã€‚æˆ‘æ˜¯ç”¨çš„æ˜¯XShellã€‚æ ‘è“æ´¾é»˜è®¤ç”¨æˆ·ä¸ºpiï¼Œå¯†ç raspberrypiï¼Œç™»å½•åå¯ä»¥é€šè¿‡passwdä¿®æ”¹å¯†ç ã€‚ ifconfigæŸ¥çœ‹IP è¿æ¥","categories":[{"name":"Linux","slug":"Linux","permalink":"/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"/tags/Linux/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"/tags/Raspberry-Pi/"}],"keywords":[{"name":"Linux","slug":"Linux","permalink":"/categories/Linux/"}]},{"title":"Dockeråº”ç”¨ï¼šä½¿ç”¨NextCloudæ­å»ºç§æœ‰äº‘ç›˜","slug":"docker-nextcloud","date":"2019-07-06T12:13:06.000Z","updated":"2019-12-14T02:56:42.945Z","comments":true,"path":"docker-nextcloud/","link":"","permalink":"/docker-nextcloud/","excerpt":"","text":"Dockeråº”ç”¨ï¼šä½¿ç”¨NextCloudæ­å»ºç§æœ‰äº‘ç›˜è¿æ¥æœåŠ¡å™¨ï¼Œå®‰è£…Docker é¦–å…ˆä½ è¦æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå¹¶ä¸”è¦æœ‰è¿æ¥æœåŠ¡å™¨çš„å·¥å…·ã€‚åœ¨ã€Šé˜¿é‡Œäº‘ECSä¸Šæ­å»ºç§äººGitä»“åº“ã€‹ä¸€æ–‡ä¸­ä»‹ç»äº†XShellçš„å®‰è£…ã€‚ åŒæ—¶ä½ éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Dockerï¼Œå‚è€ƒã€ŠDockeråŸºç¡€ã€‹ã€‚ å¦‚æœä½ æ˜¯ç”¨çš„æ˜¯é˜¿é‡Œäº‘ECSï¼Œé‚£ä¹ˆä½ è¿˜éœ€è¦æ‰“å¼€å¯¹åº”ç«¯å£çš„æƒé™ï¼Œå‚è€ƒã€Šé˜¿é‡Œäº‘ECSä¸Šå®‰è£…Nginxã€‹ã€‚ æ‹‰å–é•œåƒï¼Œåˆ›å»ºNextCloudå®¹å™¨docker run -d -p yourHostPort:yourContainerPort nextcloudï¼Œå…¶ä¸­yourHostPortæ˜¯ä½ æƒ³è¦æ‰“å¼€çš„æœåŠ¡å™¨ç«¯å£ï¼ŒyourContainerPortæ˜¯ä½ æƒ³æ‰“å¼€çš„å®¹å™¨ç«¯å£ï¼Œä¸€èˆ¬é»˜è®¤æ˜¯80ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©äº†8081:80ã€‚ docker runå‘½ä»¤å‚æ•°å›é¡¾ï¼š-d åå°è¿è¡Œ-p æŒ‡å®šç«¯å£ hostPort:containerPort å¦‚æœæ²¡æœ‰pullé•œåƒçš„è¯ï¼Œdocker runçš„æ—¶å€™ä¼šè‡ªåŠ¨å»pullæœ€æ–°çš„nextcloudé•œåƒã€‚ é€šè¿‡docker imageså‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¸‹è½½å¥½çš„é•œåƒï¼›é€šè¿‡docker ps -aå‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ›å»ºçš„å®¹å™¨ã€‚ ä½¿ç”¨NextCloudä½¿ç”¨URL:8081æˆ–IP:8081çš„æ–¹å¼ç™»å½•ï¼Œè¾“å…¥ç®¡ç†å‘˜è´¦æˆ·ã€å¯†ç åï¼Œä½ çš„NextCloudäº‘ç›˜å°±åˆ›å»ºæˆåŠŸäº†ã€‚ ä½ å¯ä»¥ä¸‹è½½å¯¹åº”çš„å®¢æˆ·ç«¯å¯¹å®ƒè¿›è¡Œæ“ä½œã€‚","categories":[{"name":"Docker","slug":"Docker","permalink":"/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"/tags/Docker/"},{"name":"NextCloud","slug":"NextCloud","permalink":"/tags/NextCloud/"}],"keywords":[{"name":"Docker","slug":"Docker","permalink":"/categories/Docker/"}]},{"title":"Docker ã€ k8s åŸºç¡€","slug":"docker","date":"2019-07-01T05:21:30.000Z","updated":"2019-12-14T02:56:50.696Z","comments":true,"path":"docker/","link":"","permalink":"/docker/","excerpt":"","text":"Docker ã€ k8s åŸºç¡€ ï¼ˆä¸€ï¼‰é•œåƒï¼ˆåˆ›å»ºå®¹å™¨ï¼‰ &amp; å®¹å™¨ï¼ˆå°è£…ä¸ºé•œåƒï¼‰é•œåƒï¼šç›®çš„å†…å®¹çš„ä¸€ä¸ªå°è£…ï¼Œä¸å¯ä»¥æ”¹å˜å†…å®¹ã€‚å®¹å™¨ï¼šå¯ä»¥æ”¹å˜å†…å®¹ï¼Œç›¸å½“äºè™šæ‹Ÿæœºï¼Œé»˜è®¤æƒ…å†µä¸‹å½¼æ­¤å°é—­ã€‚ ä¸€èˆ¬æˆ‘ä»¬åšçš„ï¼Œå°±æ˜¯é€šè¿‡é•œåƒåˆ›å»ºå®¹å™¨ï¼›å½“æˆ‘ä»¬æ”¹å˜äº†å®¹å™¨çš„å†…å®¹ä¹‹åï¼Œä¹Ÿå¯ä»¥é‡æ–°å°†å®¹å™¨å°è£…ä¸ºé•œåƒã€‚ å®¹å™¨(Container) vs è™šæ‹Ÿæœº(VM)Dockeré¡¹ç›®çš„ç›®æ ‡æ˜¯å®ç°è½»é‡çº§çš„æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚ åŒºåˆ« VMï¼šVMæ˜¯ç¡¬ä»¶å±‚é¢ä¸Šçš„è™šæ‹ŸåŒ–ã€‚ä¸€ä¸ªVMåŒ…å«äº†åº”ç”¨ã€å¿…é¡»çš„bin/libåº“ï¼ŒåŒæ—¶æ¯ä¸ªVMéƒ½å¿…é¡»è¦æœ‰Guest OSï¼Œæ¯ä¸ªéƒ½é«˜è¾¾æ•°åMBã€‚ å®¹å™¨ï¼šå®¹å™¨æ˜¯OSå±‚é¢ä¸Šçš„è™šæ‹ŸåŒ–ã€‚ä¸€ä¸ªå®¹å™¨åªåŒ…å«äº†åº”ç”¨å’Œå¿…é¡»çš„bin/libåº“ï¼Œæ‰€æœ‰å®¹å™¨å…±äº«å®¿ä¸»æœºçš„Host OSï¼Œä½†æ˜¯åœ¨ç‹¬ç«‹çš„è¿›ç¨‹ä¸Šè¿è¡Œï¼Œå¯ä»¥éš”ç¦»æ€§åœ°ä½¿ç”¨ç³»ç»Ÿèµ„æºã€‚ åº•å±‚åŸç†ï¼šLXC(Linux Container)ã€‚namespaceï¼šæ¯ä¸ªå®¹å™¨æœ‰å„è‡ªçš„å‘½åç©ºé—´ï¼Œç”¨äºé€»è¾‘éš”ç¦»ã€‚cgroupï¼šæ¯ä¸ªå®¹å™¨åœ¨Linuxä¸­æœ‰è‡ªå·±çš„åˆ†ç»„å’Œæƒé™ï¼Œå¯ä»¥ç”¨äºäº’ä¸å¹²æ‰°åœ°è®¿é—®ç³»ç»Ÿèµ„æºã€‚ å®¹å™¨çš„ä¼˜ç‚¹ å•ä¸ªå®¹å™¨ä½¿ç”¨çš„æ˜¯å®¿ä¸»æœºçš„OSï¼Œä¸åŒ…å«è‡ªå·±çš„OSï¼Œæ‰€ä»¥å®¹å™¨è¦æ¯”VMæ›´åŠ è½»é‡çº§ï¼Œå¼€é”€æ›´å°ï¼Œå¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²éƒ½æ›´å¿«ï¼Œè¿ç§»ä¹Ÿæ›´æ–¹ä¾¿ï¼› å®¹å™¨çš„å¯åŠ¨å¯ä»¥åœ¨ç§’çº§å®ç°ï¼Œæ¯”VMå¿«å¾—å¤šï¼› ä¸€å°ä¸»æœºä¸Šå¯ä»¥è¿è¡Œæ•°åƒä¸ªå®¹å™¨ï¼Œå¯¹ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡æ¯”VMé«˜å¾—å¤š ï¼ˆäºŒï¼‰å®‰è£…CentOSä¸‹ï¼Œyum -y install dockerå³å¯ã€‚æˆ‘çš„ç‰ˆæœ¬æ˜¯Docker version 1.13.1, build b2f74b2/1.13.1ã€‚ ï¼ˆä¸‰ï¼‰ä½¿ç”¨DockeræœåŠ¡çš„å¯åŠ¨ &amp; åœæ­¢ï¼šsystemctl start/stop dockerå¯åŠ¨ï¼šsystemctl start dockeråœæ­¢ï¼šsystemctl stop docker Dockerçš„é•œåƒæœç´¢ï¼šsearchdocker search keywordï¼šæ ¹æ®å…³é”®å­—ï¼Œåœ¨äº’è”ç½‘æœç´¢é•œåƒã€‚å¦‚ï¼šdocker search ubuntu Dockerçš„é•œåƒä¸‹è½½ï¼špulldocker pull imageNameï¼šæ ¹æ®é•œåƒåä¸‹è½½é•œåƒã€‚å¦‚ï¼šdocker pull docker.io/ubuntuã€‚ Dockeræœ¬åœ°é•œåƒæŸ¥çœ‹ï¼šimagesdocker imagesï¼šæŸ¥çœ‹æ‰€æœ‰æœ¬åœ°é•œåƒ Dockerå®¹å™¨çš„åˆ›å»ºï¼ˆåŸºäºé•œåƒåˆ›å»ºè™šæ‹Ÿæœºï¼‰ &amp; å‘½åï¼šrun â€“namedocker run -tid --name containerName imageIDï¼šå¯ä»¥é€šè¿‡docker imagesæŸ¥çœ‹imageIDï¼Œä¸€èˆ¬å–å‰4ä½å³å¯ã€‚å¦‚ï¼šdocker run -tid --name DistributedCrawlerUbuntu 4c10ã€‚ docker runå‚æ•°åŠå…¶å«ä¹‰ï¼š-p æŒ‡å®šç«¯å£å·-ti ä»¥äº¤äº’çš„æ–¹å¼åˆ›å»º-d åå°åˆ›å»º-tid åˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶è¿è¡Œï¼Œä½†ä¸è¿›å…¥å®¹å™¨é‡Œé¢-e è®¾ç½®ç¯å¢ƒå˜é‡-p å®¿ä¸»ç«¯å£ï¼šå®¹å™¨ç«¯å£-v å®¿ä¸»ç›®å½•ï¼šå®¹å™¨ç›®å½•ï¼ŒæŒ‚è½½å®¹å™¨æ•°æ®å· Dockerå®¹å™¨å¯åŠ¨docker start containerID/containerNameï¼šé€šè¿‡IDæˆ–è€…åç§°å¯åŠ¨æŸä¸ªåœæ­¢çš„å®¹å™¨ Dockerå®¹å™¨çš„æŸ¥çœ‹ï¼šps -adocker ps -aï¼šæŸ¥çœ‹å½“å‰æ‰€æœ‰è¿è¡Œçš„å®¹å™¨ Dockerå®¹å™¨çš„è¿›å…¥ï¼šattachdocker attach containerIDï¼šå¯ä»¥é€šè¿‡docker ps -aæŸ¥çœ‹containerIDï¼Œä¸€èˆ¬å–å‰4ä½å³å¯ã€‚ åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ï¼šdocker execdocker exec -it ContainerName + å‘½ä»¤ï¼Œæ¯”å¦‚docker exec -it MongoDB bashã€‚ Dockerå®¹å™¨çš„ä¸åœæ­¢é€€å‡ºï¼šctrl + p + q + Enterctrl + p + qï¼ŒæŒ‰ä¸‹å›è½¦ï¼Œå³å¯ä¸åœæ­¢å®¹å™¨ä½†æ˜¯é€€å‡ºã€‚ åŸºäºå®¹å™¨å°è£…ä¸ºDockeré•œåƒï¼šcommitdocker commit containerID imageName:versionï¼šå°†å·²æœ‰çš„å®¹å™¨å°è£…ä¸ºé•œåƒï¼ŒcontainerIDå¯ä»¥é€šè¿‡docker ps -aè·å¾—ã€‚å¦‚ï¼šdocker commit e4cc distributed_crawler:v1 ï¼ˆå››ï¼‰ç½‘ç»œé…ç½®ï¼šrun â€“link linkContainerNamedocker run -tid --name containerName --link linkContainerName iamgeID/Nameï¼šåœ¨åˆ›å»ºå®¹å™¨æ—¶ï¼Œä½¿å…¶ä¸æŸä¸ªå®¹å™¨ä¿æŒç½‘ç»œé€šç•…ã€‚å¦‚ï¼š docker run -tid --name host1 distributed_crawler:v1 # åˆ›å»ºhost1 docker run -tid --name host2 --link host1 distributed_crawler:v1 # åˆ›å»ºhost2æ—¶ï¼Œlink host1 ï¼ˆäº”ï¼‰DockerFileDockerFileæ˜¯å¯¹é•œåƒçš„æºç çº§åˆ«çš„æè¿°æ–‡ä»¶ã€‚ å…³é”®å­—å¦‚ä¸‹ï¼š FROM åŸºç¡€é•œåƒï¼šå½“å‰é•œåƒæ˜¯åŸºäºå“ªä¸ªé•œåƒçš„ MAINTAINER é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®± RUN å®¹å™¨æ„å»ºæ—¶éœ€è¦çš„å‘½ä»¤ EXPOSE å½“å‰å®¹å™¨å¯¹å¤–æš´éœ²çš„ç«¯å£ WORKDIR åˆ›å»ºå®¹å™¨åï¼Œç»ˆç«¯é»˜è®¤ç™»å½•è¿›æ¥çš„å·¥ä½œç›®å½•ï¼Œä¸€ä¸ªè½è„šç‚¹ ENV æ„å»ºå®¹å™¨çš„è¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¦‚Javaã€MySQLâ€¦â€¦ ADD å°†hostç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›é•œåƒï¼Œä¸”ADDå‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†URLå’Œè§£å‹taråŒ… COPY ç±»ä¼¼ADDï¼Œæ‹·è´æ–‡ä»¶å’Œç›®å½•åˆ°é•œåƒ VOLUME å®¹å™¨æ•°æ®å·ï¼Œç”¨äºæ•°æ®çš„æŒä¹…åŒ– CMD æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼›DockerFileä¸­å¯ä»¥æœ‰å¤šä¸ªCMDå‘½ä»¤ï¼Œä½†åªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œä¸”CMDä¼šè¢«docker runä¹‹åçš„å‚æ•°æ›¿æ¢ ENTRYPOINT æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ ONBUILD å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„DockerFileæ˜¯è¿è¡Œå‘½ä»¤ï¼Œå­é•œåƒç»§æ‰¿çˆ¶é•œåƒåï¼Œçˆ¶é•œåƒä¸­çš„ONBUILDè¢«è§¦å‘ ï¼ˆå…­ï¼‰å®¹å™¨æ•°æ®å·(volume)å®¹å™¨å…³é—­åï¼Œæ•°æ®éœ€è¦å…±äº«å’ŒæŒä¹…åŒ–ï¼Œå®¹å™¨æ•°æ®å·(volume)å°±æ˜¯å®Œæˆæ­¤åŠŸèƒ½çš„ï¼Œå®ƒç±»ä¼¼äºDockerçš„ç§»åŠ¨ç¡¬ç›˜ã€‚ ç‰¹ç‚¹ æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«æˆ–é‡ç”¨æ•°æ® å·ä¸­çš„æ›´æ”¹ç›´æ¥ç”Ÿæ•ˆã€‚ä¸ç®¡æ˜¯åœ¨hostè¿˜æ˜¯containerä¸­æ•°æ®å·ä¸­ä¿®æ”¹äº†å†…å®¹ï¼Œå¦ä¸€æ–¹éƒ½èƒ½åŒæ­¥æ”¶åˆ°æ›´æ–°ï¼Œå³ä½¿containerå·²ç»é€€å‡ºä¹Ÿå¯ä»¥æ›´æ–°ã€‚ å·ä¸­çš„æ›´æ”¹ä¸ä¼šåŒ…å«åœ¨é•œåƒçš„æ›´æ–°ä¸­ å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢ å¦‚ä½•æ·»åŠ å®¹å™¨æ•°æ®å· åœ¨DockerFileä¸­çš„VOLUMEå±æ€§ä¸‹æ·»åŠ ï¼› ç›´æ¥å‘½ä»¤æ·»åŠ ï¼šdocker run -it -v /hostPath:/containerPath imageNameã€‚å…¶ä¸­hostPathæ˜¯å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•ï¼›containerPathæ˜¯å®¹å™¨å†…ç›®å½•ï¼›imageNameæ˜¯é•œåƒåã€‚ æŒ‚è½½Read-Onlyçš„å®¹å™¨æ•°æ®å·ï¼š docker run -it -v /hostPath:/containerPath:ro imageNameå¦‚ä½•æŸ¥çœ‹å·²ç»æŒ‚è½½äº†å“ªäº›å®¹å™¨æ•°æ®å·ï¼Ÿ docker inspect containerIDå‘½ä»¤ï¼ŒæŸ¥çœ‹Volumeså±æ€§ä¸‹çš„å¯¹åº”å…³ç³» ï¼ˆä¸ƒï¼‰Docker-Compose å‚è€ƒhttps://blog.51cto.com/9291927/2310444 ç®€ä»‹ Docker-Composeæ˜¯Dockerå®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œè´Ÿè´£å®ç°å¯¹Dockerå®¹å™¨é›†ç¾¤çš„å¿«é€Ÿç¼–æ’ã€‚ Docker-Composeçš„é»˜è®¤é…ç½®æ–‡ä»¶ä¸ºdocker-compose.yml Docker-Composeå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªdocker-compose.ymlæ–‡ä»¶æ¥å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ä½œä¸ºä¸€ä¸ªé¡¹ç›®ã€‚ å®‰è£…# ä¸‹è½½ sudo curl -L https://github.com/docker/compose/releases/download/1.23.0-rc3/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose # æ›´æ”¹æƒé™ sudo chmod +x /usr/local/bin/docker-compose # æŸ¥çœ‹ç‰ˆæœ¬ docker-compose version docker-compose.ymlæ–‡ä»¶æ ¼å¼åŒ…å«versionã€servicesã€networksä¸‰å¤§éƒ¨åˆ†ï¼š servicesï¼š imageï¼šæŒ‡å®šæœåŠ¡çš„é•œåƒåç§°/IDï¼Œå¦‚æœæœ¬åœ°ä¸å­˜åœ¨ï¼Œä¼šå°è¯•æ‹‰å– commandï¼šè¦†ç›–å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ portsï¼šä»¥HOST:CONTAINERçš„æ ¼å¼è¿›è¡Œç«¯å£æ˜ å°„ volumesï¼šæŒ‚è½½æ•°æ®å·å®¹å™¨ version: &#39;3&#39; services: elasticsearch: image: elasticsearch:7.3.1 environment: discovery.type: single-node ports: - &quot;9200:9200&quot; - &quot;9300:9300&quot; logstash: image: logstash:7.3.1 command: logstash -f /etc/logstash/conf.d/logstash.conf volumes: # æŒ‚è½½logstashé…ç½®æ–‡ä»¶ - ./config:/etc/logstash/conf.d - /user/elk/logs/:/opt/build/ ports: - &quot;5000:5000&quot; kibana: image: kibana:7.3.1 environment: -ELASTICSEARCH_URL=http://elasticsearch:9200 ports: - &quot;5601:5601&quot; Docker-Composeå‘½ä»¤ å¯åŠ¨ï¼šdocker-compose up ï¼ˆå…«ï¼‰Demo1.MongoDBdocker pull mongo # è¿è¡Œ ï¼š-p è¿›è¡Œç«¯å£æ˜ å°„ï¼›-v å®¹å™¨æ•°æ®å·æŒ‚è½½ç›®å½•ï¼›-e é…ç½®ç¯å¢ƒå˜é‡ï¼›-d åå°è¿è¡Œ docker run --name MongoDB -p 27017:27017 -v ~/docker-data/mongo:/data/db -e MONGO_INITDB_ROOT_USERNAME=root -e MONGO_INITDB_ROOT_PASSWORD=****** -d mongo # æŸ¥çœ‹ docker ps -a # ç™»å½•MongoDB docker exec -it MongoDB bash mongo -u root -p ****** # help # show dbs å¯åŠ¨webç›‘æ§è¿›å…¥MongoDBå®¹å™¨åè¿è¡Œdb.enableFreeMonitoring()ä¼šå¾—åˆ°ä¸€ä¸ªurlï¼Œé€šè¿‡è¯¥urlå¯ä»¥webå¥åº·ä½ çš„MongoDBå®¹å™¨ï¼ˆä¸è¿‡è´¼é¸¡å„¿æ…¢å°±æ˜¯äº†â€¦â€¦ï¼‰ï¼š 2.Redisdocker pull redis docker run --name Redis -d -p 6379:6379 redis 3.MySQLä¸»ä»# ç«¯å£æ˜ å°„ï¼šmaster 3307ï¼›slave01 3308 docker run --name master -p 127.0.0.1:3307:3306 -e MYSQL\\_ROOT\\_PASSWORD=xxxxxx -d mysql:5.6 docker run --name slave01 -p 127.0.0.1:3308:3306 -e MYSQL\\_ROOT\\_PASSWORD=xxxxxx -d --link master mysql:5.6 4.RedisSearchï¼šé«˜æ€§èƒ½Rediså…¨æ–‡æœç´¢æ¨¡å—docker pull redislabs/redisearch:latest ï¼ˆä¹ï¼‰Mavenä¾èµ–åŒ…æ‹¬ï¼šdockerfile-maven-pluginã€maven-dependency-plugin &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.4&lt;/version&gt; &lt;configuration&gt; &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;unpack&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;unpack&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;artifactItems&gt; &lt;artifactItem&gt; &lt;groupId&gt;${project.groupId}&lt;/groupId&gt; &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt; &lt;version&gt;${project.version}&lt;/version&gt; &lt;/artifactItem&gt; &lt;/artifactItems&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; ï¼ˆåï¼‰Kubernetesï¼ˆk8sï¼‰Kubernetesï¼ˆç®€ç§°k8sï¼‰æ˜¯è°·æ­Œå¼€æºçš„å®¹å™¨é›†ç¾¤ç®¡ç†ç³»ç»Ÿï¼Œåœ¨DockeræŠ€æœ¯çš„åŸºç¡€ä¸Šï¼Œä¸ºå®¹å™¨çš„åº”ç”¨æä¾›éƒ¨ç½²è¿è¡Œã€èµ„æºè°ƒåº¦ï¼ˆKube-proxyï¼‰ã€æœåŠ¡å‘ç°ï¼ˆKubletï¼‰å’ŒåŠ¨æ€ä¼¸ç¼©ç­‰ä¸€ç³»åˆ—å®Œæ•´åŠŸèƒ½ï¼Œæé«˜äº†å¤§è§„æ¨¡å®¹å™¨é›†ç¾¤ç®¡ç†çš„ä¾¿æ·æ€§ã€‚ k8sæ¶æ„ Master Nodeï¼šä¸»èŠ‚ç‚¹ï¼Œæä¾›ç®¡ç†æ•´ä¸ªk8sé›†ç¾¤çš„æ§åˆ¶é¢æ¿ï¼› API serverï¼šæ‰€æœ‰RESTå‘½ä»¤çš„å…¥å£ï¼Œæ˜¯ä¸»èŠ‚ç‚¹å†…å”¯ä¸€çš„ç”¨æˆ·å¯ä»¥è®¿é—®çš„ç»„ä»¶ï¼› Datastoreï¼šæŒç»­ã€é«˜å¯ç”¨çš„K/Væ•°æ®å­˜å‚¨ä¸­å¿ƒï¼› Schedulerï¼šç›‘æ§æ–°åˆ›å»ºçš„å®¹å™¨ç»„ï¼ˆpodï¼‰ï¼Œå¹¶å°†å…¶åŠ å…¥èŠ‚ç‚¹ä¸­ï¼› Contoller managerï¼šç®¡ç†k8sé›†ç¾¤å†…å¤„ç†ä¾‹è¡Œä»»åŠ¡çš„æ§åˆ¶å™¨ï¼› Worker Nodeï¼šè¿è¡Œå®¹å™¨ç»„ï¼ˆpodï¼‰ï¼Œç®¡ç†å®¹å™¨ä¹‹é—´çš„ç½‘ç»œï¼Œå’ŒMaster Nodeäº¤æµï¼› Dockerï¼šèŠ‚ç‚¹å†…çš„å•ç‹¬å®¹å™¨ï¼› Kubletï¼šç›‘æ§å®¹å™¨ç»„ï¼ˆpodï¼‰çŠ¶æ€ï¼Œä¿è¯æ‰€æœ‰å®¹å™¨æ­£å¸¸å¯åŠ¨ã€è¿è¡Œï¼Œå¹¶ä¸”è´Ÿè´£å’ŒDatastoreäº¤äº’ï¼› Kube-proxyï¼šå•ä¸ªèŠ‚ç‚¹å†…çš„è·¯ç”±ç½‘å…³å’Œè´Ÿè½½å‡è¡¡å™¨ï¼› Kubectlï¼šæä¾›ç»™ç”¨æˆ·çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä¸k8s APIæœåŠ¡å™¨é€šä¿¡ etcdï¼šé«˜å¯ç”¨ã€å¼ºä¸€è‡´æ€§çš„æœåŠ¡å‘ç°å­˜å‚¨ä»“åº“ï¼Œä¸€èˆ¬æ˜¯é›†ç¾¤ï¼Œé‡‡ç”¨çš„åè®®æ˜¯Raftï¼Œé€šè¿‡å…¨å±€é”ä¿è¯å¼ºä¸€è‡´æ€§ k8sé›†ç¾¤è§„æ¨¡é™åˆ¶ &amp; ä¼˜åŒ–","categories":[{"name":"Docker","slug":"Docker","permalink":"/categories/Docker/"}],"tags":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"/tags/åˆ†å¸ƒå¼/"},{"name":"MySQL","slug":"MySQL","permalink":"/tags/MySQL/"},{"name":"é«˜å¯ç”¨","slug":"é«˜å¯ç”¨","permalink":"/tags/é«˜å¯ç”¨/"},{"name":"Docker","slug":"Docker","permalink":"/tags/Docker/"},{"name":"MongoDB","slug":"MongoDB","permalink":"/tags/MongoDB/"},{"name":"Redis","slug":"Redis","permalink":"/tags/Redis/"},{"name":"Spring","slug":"Spring","permalink":"/tags/Spring/"},{"name":"Maven","slug":"Maven","permalink":"/tags/Maven/"},{"name":"k8s","slug":"k8s","permalink":"/tags/k8s/"},{"name":"æ¶æ„","slug":"æ¶æ„","permalink":"/tags/æ¶æ„/"},{"name":"REST","slug":"REST","permalink":"/tags/REST/"},{"name":"å¾®æœåŠ¡","slug":"å¾®æœåŠ¡","permalink":"/tags/å¾®æœåŠ¡/"},{"name":"etcd","slug":"etcd","permalink":"/tags/etcd/"}],"keywords":[{"name":"Docker","slug":"Docker","permalink":"/categories/Docker/"}]},{"title":"è®¾è®¡æ¨¡å¼","slug":"Design-Pattern","date":"2019-05-31T06:34:05.000Z","updated":"2019-12-14T02:56:16.108Z","comments":true,"path":"Design-Pattern/","link":"","permalink":"/Design-Pattern/","excerpt":"","text":"è®¾è®¡æ¨¡å¼ ï¼ˆä¸€ï¼‰ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ç­–ç•¥æ¨¡å¼è¦æ±‚ä½¿ç”¨è€…å®šä¹‰ä¸€æ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬å°è£…èµ·æ¥ï¼Œç§°ä¸ºâ€œç­–ç•¥â€ï¼Œç„¶ååœ¨è¿è¡Œæ—¶é€‰æ‹©ä¸€ä¸ªç®—æ³•ã€‚ å¦‚ï¼šJava 8å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œä½¿ç”¨è¡Œä¸ºå‚æ•°åŒ–å®Œæˆç­›é€‰è‹¹æœçš„åŠŸèƒ½ï¼Œå…¶ä¸­AppleHeavyWeightPredicateå’ŒAppleGreenColorPredicateå°±æ˜¯ä¸¤ç§ç­–ç•¥ï¼Œè¿è¡Œæ—¶é€šè¿‡ä»£ç é€‰æ‹©ç­–ç•¥â€”â€” //å®šä¹‰ä¸€ä¸ªè°“è¯æ¥å£ï¼ŒåŒ…å«test()å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªAppleå¯¹è±¡ï¼Œè¿”å›trueæˆ–false public interface ApplePredicate{ boolean test(Apple apple) ; } //ApplePredicateå…·ä½“å®ç°ç±»1ï¼Œä¼ å…¥Appleå¯¹è±¡ï¼Œè¿”å›é‡é‡æ˜¯å¦è¶…è¿‡150 public class AppleHeavyWeightPredicate implements ApplePredicate{ public boolean test(Apple apple) { return apple.getWeight() &gt; 150; } } //ApplePredicateå…·ä½“å®ç°ç±»2ï¼Œä¼ å…¥Appleå¯¹è±¡ï¼Œè¿”å›æ˜¯å¦æ˜¯ç»¿è‹¹æœ public class AppleGreenColorPredicate implements ApplePredicate{ public boolean test(Apple apple) { return &quot;green&quot;.equals(apple.getColor() ) ; } } //ç­›é€‰è‹¹æœç±» public class FilteringApples{ public static void main(String[] args) { List&lt;Apple&gt; inventory = Arrays.asList(new Apple(80,&quot;green&quot;), new Apple(155,&quot;green&quot;), new Apple(120,&quot;red&quot;) ); List&lt;Apple&gt; heavyApples = filterApples(inventory, new AppleHeavyWeightPredicate() ); List&lt;Apple&gt; greenApples = filterApples(inventory, new AppleGreenColorPredicate() ); } //ç­›é€‰è‹¹æœå‡½æ•° public static List&lt;Apple&gt; filterApples(List&lt;Apple&gt; inventory, ApplePredicate p) { List&lt;Apple&gt; result = new ArrayList&lt;&gt;() ; for (Apple a : inventory) { if (p.test(a) ) { result.add(a) ; } } return result; } } ï¼ˆäºŒï¼‰é—¨é¢æ¨¡å¼ï¼ˆå¤–è§‚æ¨¡å¼ï¼‰ï¼ˆFacade Patternï¼‰å°†å¤šä¸ªå­ç³»ç»Ÿçš„ä¸€ç³»åˆ—å¯¹å¤–æ¥å£æ ¹æ®è°ƒç”¨æ–¹çš„éœ€æ±‚å°è£…æˆå•ç‹¬çš„ä¸€å±‚ï¼Œç§°ä¸ºä¸€ä¸ªâ€œé—¨é¢â€(facade)ï¼Œæä¾›ç»™è°ƒç”¨æ–¹ï¼Œè°ƒç”¨æ–¹ä¸éœ€è¦çŸ¥é“æ‰€æœ‰å†…éƒ¨å­ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œåªéœ€è¦ä¸â€œé—¨é¢â€è¿›è¡Œäº¤äº’å³å¯ã€‚æ¯”å¦‚ï¼šç”µè„‘å¼€æœºå…³æœºæ—¶æ¶‰åŠåˆ°CPUçš„å¯åŠ¨ä¸å…³é—­ã€å†…å­˜çš„å¯åŠ¨ä¸å…³é—­ã€ç£ç›˜çš„å¯åŠ¨ä¸å…³é—­ç­‰ï¼Œä½†ç”¨æˆ·ä¸éœ€è¦çŸ¥é“å®ç°ç»†èŠ‚ï¼Œåªéœ€è¦æä¾›ç»™ç”¨æˆ·ä¸€ä¸ªâ€œé—¨é¢â€â€”â€”ç”µè„‘çš„å¼€æœºå…³æœºå³å¯ã€‚ //CPUå­ç³»ç»Ÿ public class CPU{ public void start() {} public void shutdown() {} } //Memoryå­ç³»ç»Ÿ public class Memory{ public void start() {} public void shutdown() {} } //Diskå­ç³»ç»Ÿ public class Memory{ public void start() {} public void shutdown() {} } //Facade é—¨é¢ //å®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨ä»£è¡¨ç”µè„‘çš„é—¨åº—ï¼Œä¸éœ€è¦çŸ¥é“å†…éƒ¨å­ç³»ç»Ÿç»†èŠ‚ public class ComputerFacade{ private CPU cpu; private Memory m; private Disk d; public void start() { cpu.start(); m.start(); d.start(); } public void shutdown() { cpu.start(); m.start(); d.start(); } } ä¼˜ç‚¹ï¼š å°†å®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿè§£è€¦ï¼Œå­ç³»ç»Ÿçš„å†…éƒ¨å˜æ›´ä¸å½±å“å®¢æˆ·ç«¯ éšè—ç³»ç»Ÿå®ç°ç»†èŠ‚ï¼Œä¿éšœå®‰å…¨æ€§ ï¼ˆä¸‰ï¼‰æ„é€ å™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è®¾è®¡çš„Beanå¯¹è±¡ï¼Œéƒ½æ˜¯ç”±ç§æœ‰å­—æ®µå’Œå…¬æœ‰çš„getter/setter/æ„é€ å‡½æ•°ç»„æˆï¼Œæœ‰çš„å­—æ®µæ˜¯éå¿…é¡»çš„ï¼Œæœ‰çš„å­—æ®µæ˜¯å¿…é¡»çš„ï¼Œå¿…é¡»çš„å­—æ®µè¦åœ¨æ„é€ å‡½æ•°ä¸­ä½“ç°ã€‚å¦‚ï¼š public class User{ private final Integer id; //å¿…é¡» private final String name; public User() { } //getter &amp; setter } æ„å»ºå¯¹è±¡çš„è¿‡ç¨‹ï¼š User user = new User(); user.setId(1); user.setName(&quot;police&quot;); //ä¸€ç›´åˆ°å…¨éƒ¨setå®Œï¼Œå¯¹è±¡æ‰å¯ç”¨ ä½†æ˜¯è¿™ç§æ¨¡å¼å­˜åœ¨å¾ˆå¤§çš„å¼Šç«¯: ç±»çš„æˆå‘˜å˜é‡è¿‡å¤šæ—¶éš¾ä»¥å¤„ç†ï¼šå½“å‚æ•°å°‘æ—¶ï¼Œåˆ—å‡ºå®ƒçš„æ‰€æœ‰æ„é€ å‡½æ•°å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æœå‚æ•°å¾ˆå¤šï¼Œæ’åˆ—ç»„åˆçš„å¯èƒ½æ€§å°±å¾ˆå¤šäº†ï¼Œéš¾é“æˆ‘ä»¬è¦æŠŠæ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½åˆ—å‡ºæ¥å—ï¼Ÿ å½“ä¸€ä¸ªå¯¹è±¡è¢«åˆ›å»ºï¼Œæ²¡æœ‰setå®Œæ‰€æœ‰æˆå‘˜å˜é‡ï¼Œå°±å¤„äºä¸å¯ç”¨çŠ¶æ€ã€‚ è§£å†³æ–¹å¼å°±æ˜¯æ„é€ å™¨æ¨¡å¼ï¼šåªæä¾›getterï¼Œä¸æä¾›setterï¼ŒåŒæ—¶å°†æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œåªæä¾›ä¸€ä¸ªå…¬æœ‰çš„æ„é€ å™¨å†…éƒ¨ç±»ã€‚å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„é€ ä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„é€ è¿‡ç¨‹å¯ä»¥åˆ›é€ ä¸åŒçš„å¯¹è±¡ã€‚ public class User{ //id name //getter //ç§æœ‰åŒ–æ„é€ æ–¹æ³• private User(UserBuilder builder) { this.id = builder.id; this.name = builder.name; } //======================== //é™æ€å…¬æœ‰æ„é€ å™¨å†…éƒ¨ç±» public static class UserBuilder{ private Integer id; private String name; //å…¬æœ‰æ„é€ æ–¹æ³• public UserBuilder() { } public UserBuilder id(Integer id) { this.id = id; return this; } public UserBuilder name(String name) { this.name = name; return this; } //å…¬æœ‰æ„é€ å™¨æ–¹æ³• public User build() { return new User(this); } } } è°ƒç”¨æ„é€ å™¨æ¥åˆ›å»ºå¯¹è±¡äº†ï¼š //åªè¦æ˜¯return thisçš„æ–¹æ³•éƒ½èƒ½é€šè¿‡ç±»è¿ç»­è°ƒç”¨ //æ¯”å¦‚new StringBuilder().append(&quot;1&quot;).append(&quot;00&quot;); User user = new User.UserBuilder() .id(1) .name(&quot;fxxk&quot;) .build(); ï¼ˆå››ï¼‰å•ä¾‹æ¨¡å¼åŒä¸€æ—¶åˆ»ï¼Œç³»ç»Ÿå†…åªå…è®¸ä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹å­˜åœ¨ã€‚ å®ç°æ–¹æ³•ï¼š 1.é¥¿æ±‰å¼(ç›´æ¥å®ä¾‹åŒ–)public class Singleton{ //é¥¿æ±‰å¼ï¼Œéå»¶è¿Ÿå®ä¾‹åŒ– private static final Singleton instance = new Singleton(); //ä¸æä¾›publicæ„é€ æ–¹æ³• private Singleton() {} //é™æ€å·¥å‚æ–¹æ³• public static Singleton getInstance() { return instance; } } ä¼˜ç‚¹ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ï¼›ç¼ºç‚¹ï¼šä¸èƒ½å»¶è¿Ÿå®ä¾‹åŒ– 2.æ‡’æ±‰å¼(å»¶è¿Ÿå®ä¾‹åŒ–)public class Singleton{ //å»¶è¿Ÿå®ä¾‹åŒ– private static final Singleton instance; private Singleton() {} //synchronizedé”ï¼Œçº¿ç¨‹å®‰å…¨ public static synchronized Singleton getInstance() { if(instance == null) instance = new Singleton(); return instance; } } ä¼˜ç‚¹ï¼šçº¿ç¨‹å®‰å…¨ã€å¯ä»¥å»¶è¿Ÿå®ä¾‹åŒ–ï¼›ç¼ºç‚¹ï¼šè°ƒç”¨æ•ˆç‡ä½ æ³¨æ„ï¼šä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ¯æ¬¡è·å–å•ä¾‹å¯¹è±¡éƒ½ä¼šå°è¯•åŠ é”ï¼Œå¸¦æ¥å¾ˆå¤§çš„æ€§èƒ½æŸå¤±ï¼Œå¯ä»¥ä¼˜åŒ–ä¸ºåŒé‡åˆ¤æ–­çš„åŠ é”æ¨¡å¼â€”â€” è·å–å•ä¾‹å¯¹è±¡æ—¶ä¸åŠ é”ï¼Œåªæœ‰åœ¨å°è¯•åˆ›å»ºå•ä¾‹å¯¹è±¡æ—¶æ‰åŠ é” ä¼˜åŒ–ï¼šåŒé‡åˆ¤æ–­ + volatile static + synchronizedè·å–å•ä¾‹å¯¹è±¡æ—¶ä¸åŠ é”ï¼Œåªæœ‰åœ¨å°è¯•åˆ›å»ºå•ä¾‹å¯¹è±¡æ—¶æ‰åŠ é”ï¼š public class Singleton{ //volatile staticå•ä¾‹å®ä¾‹ï¼Œä¿è¯å®ä¾‹çš„å¯è§æ€§å’Œå”¯ä¸€æ€§ private volatile static Singleton instance; //ç§æœ‰åŒ–æ„é€ å‡½æ•° private Singletion(){} public static Singleton getInstance() { if(instance == null) { synchronized(Singleton.class) { //åŒé‡åˆ¤æ–­ï¼šå¯ä»¥é˜²æ­¢åœ¨synchronizedåŠ é”æ—¶ï¼Œ //æœ‰åˆ«çš„çº¿ç¨‹åˆ›å»ºäº†å¯¹è±¡ï¼Œå¯¼è‡´å•ä¾‹è¢«ç ´å if(instance == null) { instance = new Singleton(); } } } return instance; } } 3.é™æ€å†…éƒ¨ç±»ï¼public class Singleton { //é™æ€å†…éƒ¨ç±» private static class SingletonInstance { private static final Singleton instance = new Singleton(); } //ç§æœ‰åŒ–æ„é€ å‡½æ•° private Singleton() {} public static Singleton getInstance() { return SingletonInstance.instance; } } ä¼˜ç‚¹ï¼šçº¿ç¨‹å®‰å…¨ã€å»¶è¿Ÿå®ä¾‹åŒ–ã€è°ƒç”¨æ•ˆç‡é«˜ 4.æšä¸¾public enum Singleton{ INSTANCE; public void operation(){...} } ä¼˜ç‚¹ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ï¼›ç¼ºç‚¹ï¼šä¸èƒ½å»¶è¿Ÿå®ä¾‹åŒ– ï¼ˆäº”ï¼‰åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰ç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡å¤åˆ¶ç”Ÿæˆæ–°å®ä¾‹ â€”â€” å°†ä¸€ä¸ªç±»æ³¨å†Œæˆä¸ºåŸå‹ç±»ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡å°±æ˜¯æ‹·è´è¿™ä¸ªç±»çš„å®ä¾‹å¯¹è±¡ã€‚ æ·±æ‹·è´ &amp; æµ…æ‹·è´ åº”ç”¨ Springæ¡†æ¶ä¸­bean scopeå¯ä»¥æ˜¯prototype â€”â€” å®ƒé‡‡ç”¨çš„å°±æ˜¯åŸå‹æ¨¡å¼ï¼Œæ¯æ¬¡è¯·æ±‚è¿™ä¸ªbeanå°±è¿›è¡Œä¸€æ¬¡æ·±æ‹·è´ï¼Œå…‹éš†åŸå‹beanç”Ÿæˆä¸€ä¸ªæ–°beanå®ä¾‹ï¼Œå¯¹æ–°beanå®ä¾‹è¿›è¡Œçš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå‹bean ï¼ˆå…­ï¼‰å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰ç®€å•æ¥è¯´ï¼Œå·¥å‚æ¨¡å¼å°±æ˜¯å®šä¹‰ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—å¯¹è±¡çš„æ¥å£ï¼Œç”±å®ƒçš„å­ç±»å†³å®šç”Ÿæˆå“ªç§å…·ä½“å¯¹è±¡ï¼Œå¯ä»¥å°†å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨è§£è€¦ã€‚ åˆ›å»ºç›¸å…³æ¥å£åŠå…¶å…·ä½“å®ç°ç±»ï¼š //æª public interface Gun{ public void shoot(); } //å­å¼¹ public interface Bullet{ public void load(); } //========================M4A1======================== public class M4A1Gun implements Gun { @Override public void shoot() { System.out.println(&quot;Shooting with M4A1&quot;); } } public class M4A1Bullet implements Bullet { @Override public void load() { System.out.println(&quot;Shooting with M4A1 &quot;); } } //========================AK47======================== public class AKGun implements Gun { @Override public void shoot() { System.out.println(&quot;Shooting with AK47&quot;); } } public class AKBullet implements Bullet { @Override public void load() { System.out.println(&quot;Loading with AK47 bullets&quot;); } } åˆ›å»ºå·¥å‚æ¥å£ï¼Œä»¥åŠå…·ä½“å·¥å‚å®ç°ç±»ï¼š public interface Factory { public Gun productGun(); public Bullet productBullet(); } //========================M4A1======================== public class M4A1Factory implements Factory { @Override public Gun productGun() { return new M4A1Gun(); } @Override public Bullet productBullet() { return new M4A1Bullet(); } } //========================AK47======================== public class AKFactory implements Factory { @Override public Gun productGun() { return new AKGun(); } @Override public Bullet productBullet() { return new AKBullet(); } } æµ‹è¯•å·¥å‚æ–¹æ³•ï¼ˆåˆ›å»ºå·¥å‚æ¥å£ï¼Œç”¨å…¶å…·ä½“å®ç°ç±»åˆ›å»ºä¸åŒå¯¹è±¡ï¼‰ï¼š //å·¥å‚æ¨¡å¼ï¼šå°†å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨è§£è€¦ Factory akFactory = new AKFactory(); akFactory.productBullet().load(); akFactory.productGun().shoot(); Factory m4a1Factory = new AKFactory(); m4a1Factory.productBullet().load(); m4a1Factory.productGun().shoot(); //è¾“å‡ºï¼š //Loading with AK47 bullets //Shooting with AK47 //Loading with AK47 bullets //Shooting with AK47 ä¼˜ç‚¹ è§£è€¦ï¼šå°†å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨åˆ†å¼€ é™ä½ä»£ç é‡å¤ç‡ï¼šå¦‚æœåˆ›å»ºæŸä¸ªå¯¹è±¡çš„è¿‡ç¨‹å¾ˆå¤æ‚ï¼Œéœ€è¦ä¸€å®šä»£ç é‡ï¼Œå¹¶ä¸”å¾ˆå¤šåœ°æ–¹è¦ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰å¾ˆå¤šé‡å¤ä»£ç  é™ä½ç»´æŠ¤æˆæœ¬ï¼šå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ç”±å·¥å‚ç»Ÿä¸€ç®¡ç†ï¼Œå¦‚æœä¸šåŠ¡å‘ç”Ÿå˜åŒ–ä¸å¿…åœ¨æ¯ä¸ªåˆ›å»ºå¯¹è±¡çš„åœ°æ–¹é€ä¸ªä¿®æ­£ï¼Œåªéœ€è¦åœ¨å·¥å‚ä¸­è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥é™ä½ç»´æŠ¤æˆæœ¬ï¼Œä¾¿äºç®¡ç† åº”ç”¨ Springä¸­é€šè¿‡getBean(&quot;xxx&quot;)è·å–beanå®ä¾‹ MyBatisçš„SessionFactory ActiveMQçš„ConnectionFactory ï¼ˆä¸ƒï¼‰é€‚é…å™¨æ¨¡å¼ï¼ˆAdaptor Patternï¼‰æŠŠä¸€ä¸ªç±»çš„æ¥å£å˜æˆå®¢æˆ·ç«¯æ‰€æœŸå¾…çš„å¦ä¸€ç§æ¥å£ï¼Œä»è€Œä½¿åŸæœ¬æ¥å£ä¸åŒ¹é…è€Œæ— æ³•ä¸€èµ·å·¥ä½œçš„ä¸¤ä¸ªç±»èƒ½å¤Ÿåœ¨ä¸€èµ·å·¥ä½œã€‚ ï¼ˆå…«ï¼‰è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰å°†è§‚å¯Ÿè€…æ³¨å†Œåˆ°è¢«è§‚å¯Ÿè€…çš„â€œè§‚å¯Ÿè€…åˆ—è¡¨â€ä¸­ï¼Œå¦‚æœè¢«è§‚å¯Ÿè€…çŠ¶æ€å˜åŒ–ï¼Œè¦èƒ½å¤Ÿé€šè¿‡æŸç§æ¸ é“é€šçŸ¥æ‰€æœ‰å®ƒçš„è§‚å¯Ÿè€…ã€‚ Demo è¢«è§‚å¯Ÿè€…ï¼šSubject //è¢«è§‚å¯Ÿè€… public class Subject { //çŠ¶æ€ private int state; //è§‚å¯Ÿè€…åˆ—è¡¨ private List&lt;Observer&gt; observers = new ArrayList&lt;Observer&gt;(); public int getState() { return state; } public void setState(int state) { this.state = state; //æ›´æ–°åï¼Œéœ€è¦é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€… notifyAllObservers(); } //å°†è§‚å¯Ÿè€…æ³¨å†Œåˆ°è§‚å¯Ÿè€…åˆ—è¡¨ public void attach(Observer observer) { observers.add(observer); } //é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…æ›´æ–° public void notifyAllObservers() { for (Observer observer : observers) { observer.update(); } } } è§‚å¯Ÿè€…æŠ½è±¡ç±»ï¼šObserver public abstract class Observer { protected Subject subject; //è¢«è§‚å¯Ÿè€… public abstract void update(); //æ›´æ–° } å…·ä½“è§‚å¯Ÿè€…ï¼šObserverAã€ObserverB public class ObserverA extends Observer { //æ„é€  public ObserverA(Subject s) { this.subject = s; this.subject.attach(this); } //è§‚å¯Ÿåˆ°è¢«è§‚å¯Ÿè€…æ›´æ–°åï¼Œæ‰§è¡Œ @Override public void update() { System.out.println(&quot;ObserverA æ‹¿åˆ°æ›´æ–°ï¼š&quot; + subject.getState()); } } public class ObserverB extends Observer { //æ„é€  public ObserverB(Subject s) { this.subject = s; this.subject.attach(this); } //è§‚å¯Ÿåˆ°è¢«è§‚å¯Ÿè€…æ›´æ–°åï¼Œæ‰§è¡Œ @Override public void update() { System.out.println(&quot;ObserverB æ‹¿åˆ°æ›´æ–°ï¼š&quot; + subject.getState()); } } æµ‹è¯•ç±»ï¼šObserverPatternTest public class ObserverPatternTest { public static void main(String[] args) { Subject s = new Subject(); new ObserverA(s); new ObserverB(s); System.out.println(&quot;Subjectçš„stateå˜é‡æ›´æ–°ä¸º:15&quot;); s.setState(15); System.out.println(&quot;------------------------------&quot;); System.out.println(&quot;Subjectçš„stateå˜é‡æ›´æ–°ä¸º:-50&quot;); s.setState(-50); } } //è¾“å‡ºï¼š //Subjectçš„stateå˜é‡æ›´æ–°ä¸º:15 //ObserverA æ‹¿åˆ°æ›´æ–°ï¼š15 //ObserverB æ‹¿åˆ°æ›´æ–°ï¼š15 //------------------------------ //Subjectçš„stateå˜é‡æ›´æ–°ä¸º:-50 //ObserverA æ‹¿åˆ°æ›´æ–°ï¼š-50 //ObserverB æ‹¿åˆ°æ›´æ–°ï¼š-50 åº”ç”¨ Java GUI Listener Redisäº‹åŠ¡watchå‘½ä»¤ Reactoræ¡†æ¶ ï¼ˆä¹ï¼‰è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰è´£ä»»é“¾æ¨¡å¼ ä¸»è¦æ˜¯ç”¨äºå–ä»£ ä¸€é•¿ä¸²çš„if-elseã€‚ è§ã€Šè®¾è®¡æ¨¡å¼ | è´£ä»»é“¾æ¨¡å¼åŠå…¸å‹åº”ç”¨ã€‹ï¼Œå†™å¾—å¾ˆé€šä¿—æ˜“æ‡‚ã€‚ ä¼˜ç‚¹ å¯¹è±¡åªéœ€è¦çŸ¥é“è¯·æ±‚ä¼šè¢«å¤„ç†å³å¯ï¼Œè´£ä»»é“¾ä¸­çš„å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ï¼Œé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ï¼› è¯·æ±‚å¤„ç†å¯¹è±¡åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªæŒ‡å‘åç»§è€…çš„å¼•ç”¨ï¼Œä¸éœ€è¦ç»´æŠ¤å®ƒå¯¹æ‰€æœ‰å€™é€‰å¤„ç†è€…çš„å¼•ç”¨ï¼Œå¯ä»¥ç®€åŒ–å¯¹è±¡çš„ç›¸äº’è¿æ¥ï¼› å¦‚æœåªæ”¹å˜å¤„ç†çš„é¡ºåºï¼Œåªéœ€è¦å¯¹åŸæœ‰è´£ä»»é“¾è¿›è¡ŒåŠ¨æ€ä¿®æ”¹ï¼Œä¸éœ€è¦å¤§è§„æ¨¡æ”¹åŠ¨ä»£ç ï¼›åŒæ ·çš„ï¼Œå¯¹æŸä¸ªå¤„ç†è€…çš„å°è§„æ¨¡ä¿®æ”¹ï¼Œä¸ä¼šå½±å“åˆ°æ•´ä¸ªè´£ä»»é“¾ï¼› æ–°å¢ä¸€ä¸ªæ–°çš„å…·ä½“è¯·æ±‚å¤„ç†è€…æ—¶æ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œåªéœ€è¦åœ¨å®¢æˆ·ç«¯é‡æ–°å»ºé“¾å³å¯ï¼Œç¬¦åˆ â€œå¼€é—­åŸåˆ™â€ ç¼ºç‚¹ ä¸€ä¸ªè¯·æ±‚å¯èƒ½å› ä¸ºè´£ä»»é“¾æ²¡æœ‰è¢«æ­£ç¡®é…ç½®è€Œå¾—ä¸åˆ°å¤„ç†ï¼› å¯¹äºå¾ˆé•¿çš„è´£ä»»é“¾ï¼Œè¯·æ±‚çš„å¤„ç†æ¶‰åŠåˆ°å¤šä¸ªå¤„ç†è€…ï¼Œç³»ç»Ÿæ€§èƒ½å°†ä¼šæ”¶åˆ°å½±å“ï¼Œä¸”ä¸æ–¹ä¾¿è°ƒè¯•ï¼› å¦‚æœè´£ä»»é“¾åˆ›å»ºä¸å½“ï¼Œé€ æˆå¾ªç¯è°ƒç”¨ï¼Œä¼šå¯¼è‡´ç³»ç»Ÿé™·å…¥æ­»å¾ªç¯ã€‚ Demo è¯·æ±‚ç±» public class Request{ //... } å¤„ç†è€…æŠ½è±¡ç±»Handler public abstract class Handler{ //ä¸‹ä¸€ä¸ªå¤„ç†è€… protected Handler nextHandler; //å¤„ç†è¯·æ±‚ public abstract boolean process(Request request); } å®é™…å¤„ç†è€…ç±»ï¼šHandlerA/HandlerB/HandlerC //å¤„ç†è€…A public class HandlerA extends Handler{ @Override public boolean process(Request request){ boolean result = serviceA.doSomething(request); //Aç›´æ¥è¿”å›å¤±è´¥ if(result == false) return false; //Aç›´æ¥è¿”å›æˆåŠŸ else if(canReturnTrueAlready) return true; //Aè¿”å›æˆåŠŸï¼Œä½†æ˜¯è¿˜éœ€è¦äº¤ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…å¤„ç† return nextHandler.process(request); } } //å¤„ç†è€…B public class HandlerB extends Handler{ @Override public boolean process(Request request){ boolean result = serviceB.doSomething(request); //Bç›´æ¥è¿”å›å¤±è´¥ if(result == false) return false; //Bç›´æ¥è¿”å›æˆåŠŸ else if(canReturnTrueAlready) return true; //Bè¿”å›æˆåŠŸï¼Œä½†æ˜¯è¿˜éœ€è¦äº¤ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…å¤„ç† return nextHandler.process(request); } } //å¤„ç†è€…C public class HandlerC extends Handler{ @Override public boolean process(Request request){ boolean result = serviceC.doSomething(request); //Cç›´æ¥è¿”å›å¤±è´¥ if(result == false) return false; //Cç›´æ¥è¿”å›æˆåŠŸ else if(canReturnTrueAlready) return true; //Cè¿”å›æˆåŠŸï¼Œä½†æ˜¯è¿˜éœ€è¦äº¤ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…å¤„ç† return nextHandler.process(request); } } è°ƒç”¨ç±» public class Client{ public static void main(String[] args){ HandlerA a = new HandlerA(); HandlerB b = new HandlerB(); HandlerC c = new HandlerC(); //åˆ›å»ºè´£ä»»é“¾ a.setNextHandler(b); b.setNextHandler(c); //å¤„ç†è¯·æ±‚ Request req = new Request(); boolean rst = a.process(req); } }","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"/categories/è®¾è®¡æ¨¡å¼/"}],"tags":[{"name":"Java Base","slug":"Java-Base","permalink":"/tags/Java-Base/"},{"name":"Redis","slug":"Redis","permalink":"/tags/Redis/"},{"name":"Spring","slug":"Spring","permalink":"/tags/Spring/"},{"name":"Java 8","slug":"Java-8","permalink":"/tags/Java-8/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"/tags/å‡½æ•°å¼ç¼–ç¨‹/"},{"name":"è¡Œä¸ºå‚æ•°åŒ–","slug":"è¡Œä¸ºå‚æ•°åŒ–","permalink":"/tags/è¡Œä¸ºå‚æ•°åŒ–/"},{"name":"Lambda","slug":"Lambda","permalink":"/tags/Lambda/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"/tags/è®¾è®¡æ¨¡å¼/"},{"name":"Reactor","slug":"Reactor","permalink":"/tags/Reactor/"},{"name":"å“åº”å¼ç¼–ç¨‹","slug":"å“åº”å¼ç¼–ç¨‹","permalink":"/tags/å“åº”å¼ç¼–ç¨‹/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"/categories/è®¾è®¡æ¨¡å¼/"}]},{"title":"ã€ŠDebugã€‹","slug":"Debug","date":"2019-05-22T14:37:35.000Z","updated":"2019-12-22T10:50:19.356Z","comments":true,"path":"Debug/","link":"","permalink":"/Debug/","excerpt":"","text":"åº”è¯¥æ˜¯äº”ä¸€å‡æœŸæœŸé—´ï¼Œæˆ‘åœ¨å½’ä¹¡çš„å¤§å·´ä¸Šå¶ç„¶é—´çœ‹åˆ°äº†Bç«™çš„â€œæ–‡è±ªè¯•ç‚¼åœºâ€æ´»åŠ¨ï¼Œä¸»é¢˜æ˜¯â€œå¦‚æœçªç„¶ä¸–ç•Œæœ«æ—¥äº†ï¼Œæˆ‘è¦æ€ä¹ˆç”Ÿå­˜â€ã€‚ æˆ‘æœ¬æ¥åªæ˜¯éšä¾¿ä¸€ç¥å°±å‡†å¤‡å…³æ‰çš„ï¼Œå½“æ—¶æ­£æ˜¯996.ICUå æ®çƒ­æœçš„æ—¶é—´ï¼Œä¸çŸ¥æ€ä¹ˆçš„ï¼Œæˆ‘çš„è„‘å­é‡Œçªç„¶å°±æµ®ç°å‡ºä¸€ä¸ªâ€œç¨‹åºå‘˜996åŠ ç­åŠ ç‚¹è§£å†³äº†BUGï¼Œä½†è‡ªå·±å´åœ¨å†…éƒ¨ç»“æ„ä¼˜åŒ–æ—¶è¢«å½“æˆBUGç»™è§£å†³æ‰äº†â€çš„ç‚¹å­ï¼Œäºæ˜¯æˆ‘æƒ³ï¼Œè¦ä¸æˆ‘æŠŠå®ƒå†™ä¸‹æ¥å§ã€‚æˆ‘åªæ˜¯ä¸€ä¸ªåœ¨æ ¡å­¦ç”Ÿï¼Œè™½ç„¶æ¯•ä¸šåä¼šæ˜¯ç¨‹åºå‘˜ï¼Œä½†è‡³å°‘è¿˜æœ‰å¥½å‡ ä¸ªæœˆå¯ä»¥èˆ’èˆ’æœæœåœ°è¿‡ã€‚è¿™ä¸ªç‚¹å­å¹¶æ²¡æœ‰å¤šæ¨é™ˆå‡ºæ–°ï¼Œç”šè‡³æœ‰äº›è·‘é¢˜ï¼Œæˆ‘çš„æ–‡ç¬”ä¹Ÿå®å±å¹³åº¸ï¼Œæˆ‘ä¸æ˜¯ä»€ä¹ˆå…¬çŸ¥å¤§Vï¼Œå†™æ¥ä¸‹ç”šè‡³ä¸ä¼šæœ‰äººèƒ½çœ‹åˆ°ï¼Œæˆ‘æƒ³ï¼šâ€œæˆ‘ä½•å¿…è´¹åŠ›ä¸è®¨å¥½å‘¢ï¼Ÿâ€ ä½†æ˜¯æˆ‘æƒ³åˆ°äº†é©¬ä¸.å°¼è«æ‹‰å†™çº³ç²¹å± æ€çŠ¹å¤ªäººçš„è¯—â€”â€”ã€Šæˆ‘æ²¡æœ‰è¯´è¯ã€‹ï¼šâ€œèµ·åˆä»–ä»¬è¿«å®³å…±äº§å…šå‘˜ï¼Œæˆ‘æ²¡æœ‰è¯´è¯ï¼Œå› ä¸ºæˆ‘ä¸æ˜¯é©¬å…‹æ€çš„ä¿¡å¾’ã€‚â€â€œåæ¥ä»–ä»¬è¿«å®³çŠ¹å¤ªäººï¼Œæˆ‘æ²¡æœ‰è¯´è¯ï¼Œå› ä¸ºæˆ‘æ˜¯æ—¥è€³æ›¼äººã€‚â€â€œå†åæ¥ä»–ä»¬è¿«å®³å¤©ä¸»æ•™å¾’ï¼Œæˆ‘æ²¡æœ‰è¯´è¯ï¼Œå› ä¸ºæˆ‘æ˜¯æ–°æ•™ç‰§å¸ˆã€‚â€â€œæœ€åä»–ä»¬è¿«å®³åˆ°æˆ‘å¤´ä¸Šï¼Œæˆ‘ç¯é¡¾å››å‘¨ï¼Œå´å†ä¹Ÿæ²¡æœ‰äººèƒ½ä¸ºæˆ‘è¯´è¯ã€‚â€ äºæ˜¯æˆ‘åœ¨å¤§å·´ä¸Šæ„æ€ï¼Œå›åˆ°å®¶åï¼ŒèŠ±äº†ä¸€ä¸ªæ™šä¸Šï¼Œå†™ä¸‹äº†è¿™ç¯‡ã€ŠDebugã€‹ï¼Œå¹¶è¯•ç€è¿›è¡Œäº†æŠ•ç¨¿ï¼Œæœä¸å…¶ç„¶ç¨¿ä»¶è¢«é€€å›ï¼Œâ€œè®©ä½ 996æ­£æ˜¯ç»™ä½ å¥‹æ–—çš„æœºä¼šå•Šâ€ã€â€œæˆ‘ä¸ç»™ä½ åŠ ç­è´¹é‚£å°±ä¸ç®—åŠ ç­å’¯â€å‡ å¥è¢«å‹’ä»¤ä¿®æ”¹ã€‚è¯´æ¥å®åœ¨è®½åˆºï¼è¿™äº›å­—å¥æˆ‘ç”šè‡³æ²¡æœ‰ç»è¿‡ä»»ä½•å¤¸å¼ ï¼Œå…¨æ˜¯â€œæœ‰è‰¯å¿ƒçš„ä¼ä¸šå®¶â€ä»¬çš„åŸè¯ï¼æ‰€æœ‰äººéƒ½åªçœ‹åˆ°äº†Bç«™ä½œä¸ºå›½å†…æœ€å¤§çš„äºŒæ¬¡å…ƒèšé›†åœ°ï¼Œå…¶é£æ°”å¼€æ”¾ã€è¨€è®ºè‡ªç”±ï¼Œä½†æ²¡äººçœ‹åˆ°Bç«™ä¹Ÿæœ‰ç¨‹åºå‘˜ï¼Œä»–ä»¬ä¹Ÿæ˜¯è¦åŠ ç­çš„ï¼Œå¯¹996çš„åå¯¹ï¼Œä¹ŸæŸå®³åˆ°äº†Bç«™çš„åˆ©ç›Šã€‚è‡ªåª’ä½“çš„æ§è‚¡è€…æ˜¯ä¼ä¸šå®¶ï¼Œä¼ä¸šå®¶æ€ä¹ˆä¼šä¸ºè¢«å‰¥å‰Šè€…å‘å£°ï¼ æˆ‘æ˜¯ä¸ªå¾ˆå€”çš„äººï¼Œæƒ³ç€æ—¢ç„¶å¿ƒè¡€å·²ç»ä»˜å‡ºï¼Œåªè¦èƒ½æœ‰ä¸€ä¸ªäººçœ‹åˆ°ï¼Œè¿™ä»¶äº‹æƒ…ä¹Ÿå°±å€¼å¾—ï¼Œäºæ˜¯æˆ‘ä¸å¾—ä¸å¦¥åï¼Œä¿®æ”¹äº†éƒ¨åˆ†æªè¾åé‡æ–°è¿›è¡Œäº†æŠ•ç¨¿ï¼Œä½†æ˜¯ç”±äºæœªè¢«åˆ’åˆ†åˆ°â€œæ–‡è±ªè¯•ç‚¼åœºâ€ä¹‹ç±»ï¼Œæ‰€ä»¥æ ¹æœ¬å°±æ²¡æœ‰äººçœ‹åˆ°ã€‚ æˆ‘ä»¥ä¸ºè¿™äº›æ–‡å­—ä¹Ÿå°±çŸ³æ²‰å¤§æµ·äº†ï¼Œæˆ‘æ‰€åšçš„åªä¸è¿‡æ˜¯ä¸ºäº†æ— æ„§äºå¿ƒï¼Œä½†æ˜¯å‡ å¤©åï¼Œå±…ç„¶æœ‰äººçœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œè¿˜åœ¨è¯„è®ºåŒºè¡¨ç°å‡ºäº†ä»–çš„èµè¯†ï¼š æœ‰ä¸€ä¸ªäººçœ‹åˆ°äº†ï¼Œæˆ‘çš„ç›®çš„è¾¾åˆ°äº†ã€‚ 2019å¹´5æœˆ22æ—¥ï¼Œæˆ‘åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šæ­å¥½äº†Hexoåšå®¢ï¼Œå°†æˆ‘çš„ç¬¬ä¸€ç¯‡æ­£å¼æŠ•ç¨¿ä½œå“è®°å½•ä¸‹æ¥ï¼Œä¸‰äº”å¹´åå†æ¥çœ‹çœ‹ï¼Œæˆ‘çš„ç¬”åŠ›æ˜¯å¦æœ‰æ‰€é•¿è¿›ã€‚ ã€ŠDebugã€‹ &emsp; &emsp; æˆ‘æ˜¯â€œç¨‹åºæ¼æ´â€ï¼Œå³ä¿—ç§°çš„bugï¼Œä¸åŒäºæˆ‘é‚£äº›åœ¨å¼€å‘ç¯å¢ƒå°±è¢«å‘ç°çš„çŸ­å‘½å…„å¼Ÿä»¬ï¼Œæˆ‘ä¸€ç›´éšå§“åŸ‹åï¼Œè‹Ÿæ´»åˆ°äº†ç”Ÿäº§ç¯å¢ƒï¼Œå¹¶æš—ä¸­è§‚å¯Ÿç€ç¨‹åºå¤–çš„ä¸–ç•Œã€‚ &emsp; &emsp; ä»æ‘„åƒå¤´ä¼ å›çš„æ•°æ®æ¥çœ‹ï¼Œä»Šå¤©å±å¹•å‰åç€çš„ä»æ˜¯é‚£ä¸ªç§ƒé¡¶æ²¹è…»ä¸­å¹´ç”·å­â€”â€”æˆ‘çš„å¤™æ•Œï¼Œä¸¤ä¸ªæœˆæ¥ï¼Œä»–ä¸€ç›´è‡´åŠ›äºå‘ç°æˆ‘çš„è››ä¸é©¬è¿¹ï¼Œå¥½å‡ æ¬¡æˆ‘éƒ½æ˜¯é™©æ­»è¿˜ç”Ÿã€‚ &emsp; &emsp; ä¸€é˜µä¿¡æ¯æ‰°åŠ¨ä¼ æ¥ï¼Œå±å¹•å³ä¸‹è§’çš„é€šè®¯è½¯ä»¶é—ªçƒèµ·æ¥ï¼Œç½‘ç»œä¸­ä¼ æ¥ä¸€æ¡idå«â€œè€æ¿â€çš„äººå‘æ¥çš„è®¯æ¯â€”â€”â€œå°é™ˆï¼Œä»Šå¹´è¿˜æ˜¯ä½ å€¼ç­ã€‚â€è¿™è®©æˆ‘çš„é€»è¾‘æ¨¡å—ååˆ†è´¹è§£â€”â€”æ˜æ˜è€æ¿æ¯”ç§ƒå¤´å¹´çºªè¦å°ï¼Œæ€ä¹ˆå«ä»–â€œå°é™ˆâ€å‘¢ï¼Ÿ &emsp; &emsp; ç§ƒå¤´è¹™çœ‰ï¼Œå›é“ï¼šâ€œå¯æ˜¯è€æ¿ï¼Œå»å¹´å°±æ˜¯æˆ‘ï¼Œæˆ‘å·²ç»ä¸¤å¹´æ²¡å›å®¶è§äºŒè€äº†ã€‚â€ &emsp; &emsp; è€æ¿é“ï¼šâ€œä½ å¥½å¥½å·¥ä½œï¼Œèµšäº†é’±ç»™ä»–ä»¬ä¹°äº›è¡¥å“ï¼Œä¸å°±å°½äº†å­é“å—ï¼Ÿä½ è¿™ä¸Šæœ‰è€ä¸‹æœ‰å°ï¼Œè®©ä½ 996æ­£æ˜¯ç»™ä½ å¥‹æ–—çš„æœºä¼šå•Šï¼â€ &emsp; &emsp; ç§ƒå¤´å›é“ï¼šâ€œé‚£è€æ¿ï¼ŒåŠ ç­è´¹çš„äº‹æƒ…ï¼Ÿâ€ &emsp; &emsp; è€æ¿é“ï¼šâ€œæˆ‘æ‹¿ä½ å½“å…„å¼Ÿï¼Œä½ å¯ä¸è¦èƒ¡è¯´ï¼æˆ‘æ˜¯ä¸ªæœ‰è‰¯å¿ƒçš„ä¼ä¸šå®¶ï¼Œæ—¶åˆ»éµå®ˆåŠ³åŠ¨æ³•çš„ï¼Œæˆ‘ä¸ç»™ä½ åŠ ç­è´¹é‚£å°±ä¸ç®—åŠ ç­å’¯ã€‚â€ &emsp; &emsp; ç§ƒå¤´æ€’ç›®åœ†çï¼Œå–˜ç€ç²—æ°”é£é€Ÿåœ¨èŠå¤©æ¡†è¾“å…¥äº†ä¸€ä¸²å­—ç¬¦â€”â€”â€œ01000011 01001110 01001101â€¦â€¦â€[æ³¨1]ï¼Œæ­£åœ¨è¿™æ—¶ï¼Œä»–çš„æ‰‹æœºå“äº†èµ·æ¥ï¼Œæ‰¬å£°å™¨æ•æ‰åˆ°äº†ä»–çš„å£°éŸ³â€”â€” &emsp; &emsp; â€œè€å©†ã€‚â€ &emsp; &emsp; â€œæˆ‘ä¹Ÿæ²¡æœ‰åŠæ³•ï¼Œå·¥ä½œä¹Ÿæ˜¯ä¸ºäº†å…»å®¶ï¼Œä½ ç†è§£ä¸€ä¸‹â€”â€”â€ &emsp; &emsp; â€œå½“ç„¶æ˜¯å®¶äººé‡è¦ï¼Œä½†ä¸å·¥ä½œæ€ä¹ˆå…»æ´»ä¸€å®¶ä¸‰å£ï¼Ÿä½•å†µä½ è‚šå­é‡Œåˆæœ‰äº†â€”â€”â€ &emsp; &emsp; â€œä¸æ˜¯æ€ªä½ ï¼ä¸æ˜¯æ€ªä½ ï¼å…¨æ˜¯æˆ‘çš„é”™ï¼Œè¿™æ ·å§ï¼Œç­‰å¿™å®Œè¿™ä¸€é˜µï¼Œæˆ‘ä¸€å®šå¸¦ä½ å’Œæ™¨æ™¨å‡ºå»æ—…æ¸¸ï¼Œå’±å¥½å¥½æ”¾æ¾ä¸€ä¸‹ã€‚â€ &emsp; &emsp; â€œåˆè¦äº¤è¡¥è¯¾è´¹ï¼Ÿä¸Šæ¬¡ä¸æ˜¯æ‰äº¤â€¦â€¦6000ï¼è¿™ä¸ªæœˆè¿˜æœ‰æˆ¿è´·â€¦â€¦å­•æ£€å—ï¼Ÿæˆ‘è®°å¾—äº†ã€‚â€ &emsp; &emsp; â€œä¸ç”¨éº»çƒ¦å²³çˆ¶å²³æ¯äº†ï¼Œæˆ‘æ¥æƒ³åŠæ³•ï¼Œæ€ä¹ˆè¯´æˆ‘ä¹Ÿæ˜¯ä¸€å®¶ä¹‹ä¸»å˜›ã€‚â€ &emsp; &emsp; â€œæ™šå®‰ï¼Œæœ‰äº‹åƒä¸‡æ‰“æˆ‘ç”µè¯ã€‚â€ &emsp; &emsp; ä»–æŒ‚æ–­äº†ç”µè¯ï¼Œæ‰äº†æ‰æƒºå¿ªçš„ç¡çœ¼ï¼Œçœ‹äº†çœ‹èŠå¤©æ¡†æœªå‘é€çš„æ¶ˆæ¯ï¼Œå¹äº†ä¸€å¤§å£æ°”ï¼Œé»˜é»˜åœ°å…¨éƒ¨åˆ é™¤æ‰ã€‚ &emsp; &emsp; ä»–çš„æ‰‹æœºåˆå“äº†â€”â€” &emsp; &emsp; â€œå¦ˆï¼â€ &emsp; &emsp; â€œæˆ‘æ²¡äº‹ï¼Œèº«ä½“å¥½å¾—å¾ˆï¼æ‚¨ä¸ç”¨çæ“å¿ƒï¼èƒ½æœ‰ä»€ä¹ˆäº‹ï¼Œæˆ‘éƒ½å½“çˆ¹çš„äººäº†ï¼Œèƒ½ç…§é¡¾å¥½è‡ªå·±çš„ã€‚â€ &emsp; &emsp; â€œæˆ‘å®åœ¨æ²¡æœ‰åŠæ³•ï¼Œå·¥ä½œå¿™ã€‚æ˜å¹´ï¼Œæ˜å¹´æˆ‘å‡†å›æ¥ã€‚â€ &emsp; &emsp; â€œæˆ‘ä¸ç´¯ï¼Œæˆ‘è‡ªå·±æœ‰åˆ†å¯¸çš„ï¼Œå“ªæœ‰é‚£ä¹ˆå®¹æ˜“çŒæ­»çš„ã€‚è€æ¿æ ½åŸ¹ï¼Œçœ‹å¾—èµ·æˆ‘â€”â€”ä¸è¯´è¿™ä¸ªäº†ï¼Œçˆ¸è¿˜åœ¨ç”Ÿæ°”ï¼Ÿâ€ &emsp; &emsp; â€œæ‚¨åŠåŠä»–å§ï¼Œæˆ‘æ˜å¹´ä¸€å®šå›ï¼â€ &emsp; &emsp; â€œè¯¶ï¼æ‹œæ‹œã€‚â€ &emsp; &emsp; ä»–æ‘˜æ‰äº†çœ¼é•œï¼Œæ‚ä½äº†åŒçœ¼ï¼Œå‡ åˆ†é’Ÿåï¼Œç”¨æ¹¿æ¶¦çš„åŒæ‰‹ï¼Œç»™è€æ¿å‘äº†ä¸€æ¡â€œè°¢è°¢â€ã€‚ &emsp; &emsp; è°¢ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘çš„é€»è¾‘æ¨¡å—åˆå¼€å§‹è´¹è§£äº†ï¼ŒçœŸå¸Œæœ›æˆ‘èƒ½æœ‰äººç±»çš„æƒ…æ„Ÿæ¨¡å—å•Šã€‚è€æ¿æ˜¾ç„¶å°±å¬æ‡‚äº†ï¼Œä»–å›å¤é“ï¼šâ€œä½ çŸ¥é“å°±å¥½ï¼Œè¿™å‡ ä¸ªæœˆä½ å¤©å¤©ç²¾ç¥ä¸å¥½ï¼Œä¹Ÿä¸å¥½å¥½å¹²æ´»ï¼Œä½ é‚£ä¸ªéƒ¨é—¨æœ‰ä¸ªå°ä¼™å­æ¯å¤©åŠ ç­åˆ°4ç‚¹å‘¢ï¼ä½ çš„å·¥èµ„é‚£ä¹ˆé«˜ï¼Œä¸‹é¢çš„å¹´è½»äººéƒ½ç›¯ç€ä½ çš„ä½ç½®å‘¢ï¼Œä½ è¿™è®©æˆ‘å¾ˆä¸ºéš¾å•Šã€‚â€ &emsp; &emsp; ç§ƒå­å›é“ï¼šâ€œæˆ‘çŸ¥é“ï¼Œå®¶é‡Œæœ€è¿‘æœ‰äº›æƒ…å†µï¼Œæˆ‘ä¸€å®šæ³¨æ„ï¼Œä¸ä¼šè®©ç§ç”Ÿæ´»å½±å“å·¥ä½œäº†ï¼Œè€æ¿ä½ çœ‹èƒ½ä¸èƒ½åŠ è–ªï¼Ÿâ€ &emsp; &emsp; è€æ¿é“ï¼šâ€œè¿™ä¸ªæœˆå†…ï¼Œä½ å…ˆæŠŠçº¿ä¸Šé‚£ä¸ªbugç»™æˆ‘è§£å†³äº†å†è¯´å§ã€‚â€ &emsp; &emsp; äºæ˜¯æˆ‘çš„æ—¥å­è¶Šæ¥è¶Šéš¾è¿‡äº†ï¼Œç§ƒå­å¼€å§‹æ²¡æ—¥æ²¡å¤œåœ°ç›¯ç€å±å¹•ï¼Œå·¦æ‰‹PageDownï¼Œå³æ‰‹æ»šè½®ï¼Œæˆ‘çš„ä¸–ç•Œé‡Œä¸€é“ä¾¦æŸ¥çš„å…‰ä»å¤©é€¡å·¡ï¼Œæ‰€åˆ°ä¹‹å¤„ï¼Œå¤©å´©åœ°è£‚ã€å±±æ‘§æµ·å•¸ï¼Œä¸–ç•Œå¼€å§‹å´©åäº†ï¼Œæˆ‘æ”¾çœ¼æœ›å»ï¼Œå®¹èº«ä¹‹æ‰€å·²ç»æ‰€å‰©æ— å‡ äº†ã€‚ &emsp; &emsp; å¤©å•Šï¼ç§ƒå­ç»ˆäºæŸ¥åˆ°äº†é‚£æ¡è°ƒç”¨é“¾ï¼Œæˆ‘è¢«é€¼åˆ°äº†æ‚¬å´–è¾¹ï¼Œä¸‡ä¸ˆæ·±æ¸Šä¸‹æ˜¯ç¼çƒ­çš„ç†”æµ†ï¼Œæˆ‘å·²ç»æ— è·¯å¯é€€äº†ã€‚ &emsp; &emsp; å½“ä½ å‡è§†bugæ—¶ï¼Œbugä¹Ÿåœ¨å‡è§†ä½ ã€‚è¿™å°±æ˜¯æˆ‘çš„ç»ˆç„‰äº†ï¼Œæˆ‘æƒ³ã€‚ &emsp; &emsp; æˆ‘è®°ä¸‹äº†æ—¶é—´æˆ³â€”â€”â€œ1549209599â€[æ³¨2]ï¼Œå¸Œæœ›æœ‰äººèƒ½å¸®æˆ‘å†™åœ¨å¢“å¿—é“­â€”â€”bugæ—¥å¿—ä¸Šã€‚ &emsp; &emsp; æˆ‘çš„ç”Ÿå‘½æ…¢æ…¢æ¶ˆé€ï¼Œä¸´æ­»å‰ï¼Œæˆ‘çœ‹åˆ°ç§ƒå­é—­ç€çœ¼ç‚¹äº†ä¸€é¢—çƒŸï¼Œå˜´è§’å¸¦ç€ä¼¼æœ‰è‹¥æ— çš„ç¬‘ï¼Œä»¿ä½›åœ¨è¿½è¹‘å¾€æ˜”å³¥åµ˜å²æœˆï¼Œå¿½ç„¶ä¸€é˜µä¿¡æ¯æ‰°åŠ¨ä¼ æ¥â€”â€”â€œä½ å¹²çš„ä¸é”™ï¼Œbugä¿®å¤äº†ï¼ŒåŠ è–ªçš„äº‹æƒ…æˆ‘æƒ³äº†æƒ³ï¼Œä¸èƒ½ç­”åº”ä½ ã€‚æ˜å¤©ä½ è‡ªæ„¿ç¦»èŒå§ã€‚â€ &emsp; &emsp; ç§ƒå­çš„ç¬‘åƒµåœ¨äº†å˜´è§’ä¸Šã€‚ æ³¨ 01000011 01001110 01001101æ˜¯äºŒè¿›åˆ¶ç çš„CNMã€‚ 1549209599æ˜¯Unixæ—¶é—´æˆ³ï¼Œè½¬æ¢ä¸ºæ—¥æœŸæ ¼å¼å°±æ˜¯2019-02-03 23:59:59ï¼Œå¤§å¹´å¤œã€‚","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"/categories/éšç¬”/"}],"tags":[{"name":"Novel","slug":"Novel","permalink":"/tags/Novel/"},{"name":"996","slug":"996","permalink":"/tags/996/"}],"keywords":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"/categories/éšç¬”/"}]},{"title":"é™æ€åšå®¢Hexoæ­å»ºæ•™ç¨‹ï¼ˆæœ¬åœ°ã€æœåŠ¡å™¨ä¸¤å¼€èŠ±ï¼‰","slug":"hexo","date":"2019-05-22T12:31:42.000Z","updated":"2019-12-14T02:58:08.639Z","comments":true,"path":"hexo/","link":"","permalink":"/hexo/","excerpt":"","text":"é™æ€åšå®¢Hexoæ­å»º â€”â€” æœ¬åœ°ã€æœåŠ¡å™¨ä¸¤å¼€èŠ± é™æ€åšå®¢ â€”â€” Hexoé™æ€åšå®¢ï¼šæ˜¯æŒ‡æ²¡æœ‰åç«¯æ•°æ®åº“çš„åšå®¢ï¼Œæ‰€æœ‰æ–‡ç« éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨ï¼Œæ˜¯ä¸€ç§çº¯å‰ç«¯çš„åšå®¢æ¡†æ¶ã€‚ æœ¬åœ°å®‰è£…1. å®‰è£…Node.jså› ä¸ºHexoæ˜¯é€šè¿‡Node.jsç”Ÿæˆçš„ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦æ ¹æ®è‡ªå·±çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¸‹è½½å¹¶å®‰è£…Node.jsã€‚æ ¹æ®æ­¥éª¤æç¤ºè¿›è¡Œæ“ä½œåï¼Œåœ¨itemï¼ˆWindowsæ˜¯cmdï¼‰ä¸­è¾“å…¥å‘½ä»¤ï¼šnode -vå¦‚æœèƒ½æ­£ç¡®æ˜¾ç¤ºNode.jsç‰ˆæœ¬ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼ˆæœ¬äººä½¿ç”¨çš„ç‰ˆæœ¬ä¸ºv10.15.3ï¼‰ã€‚ 2. é€šè¿‡npmå®‰è£…Hexoæ¡†æ¶Node.jså®‰è£…æˆåŠŸåï¼ŒåŒæ—¶ä¼šè‡ªåŠ¨å®‰è£…ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œç§°ä¸ºnpmï¼ˆNode Package Managerï¼‰ã€‚ ä»€ä¹ˆæ˜¯npmï¼Ÿ npmæ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œå‘å¸ƒè€…å°†è‡ªå·±çš„ä»£ç å‘å¸ƒï¼ˆnpm publishï¼‰åˆ°ä»£ç ä»“åº“ï¼ˆregistryï¼‰ï¼Œä½¿ç”¨è€…å°†è‡ªå·±éœ€è¦çš„åŒ…å†™å…¥package.jsonæ–‡ä»¶ä¸­ï¼Œåˆ°ä»£ç ä»“åº“ä¸­æŠŠä»£ç ä¸‹è½½ï¼ˆnpm installï¼‰ä¸‹æ¥ã€‚ å®‰è£…ï¼šnpm install -g hexo-cliæŸ¥çœ‹ç‰ˆæœ¬ï¼šhexo -vï¼ˆæœ¬äººä½¿ç”¨çš„Hexoç‰ˆæœ¬ä¸º1.1.0ï¼‰ ç”±äºnpmä»£ç ä»“åº“çš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œç”±äºGreat Firewallçš„ç¼˜æ•…ï¼Œä¸‹è½½é€Ÿåº¦å¯èƒ½ä¸å°½å¦‚äººæ„ï¼Œè¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨æ·˜å®çš„npmä»£ç ä»“åº“ï¼Œé€šè¿‡npmå®‰è£…cnpmï¼šnpm install -g cnpm --registry=https://registry.npm.taobao.orgå®‰è£…æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹cnpmç‰ˆæœ¬ï¼šcnpm -vé€šè¿‡cnpmæ¥æ“ä½œä¸‹è½½é€Ÿåº¦ä¼šå¾—åˆ°å¾ˆå¤§æå‡ï¼Œä½†åŒ…çš„ç‰ˆæœ¬ä¸ä¸€å®šæ˜¯æœ€æ–°çš„ã€‚ æœ¬åœ°ä½¿ç”¨1. åˆ›å»ºç›®å½•Hexoçš„æ‰€æœ‰æ–‡ç« éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨ç›®å½•ä¸‹çš„ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œæˆ‘çš„æ˜¯Hexoï¼Œåœ¨æ­¤ç›®å½•ä¸‹æ“ä½œã€‚ 2. åˆå§‹åŒ–åšå®¢hexo init 3. æ–°å»ºæ–‡ç« hexo new &quot;BlogName&quot;ï¼ˆBlogNameæ˜¯ä½ çš„æ–‡ç« åç§°ï¼‰ä¼šåœ¨source/_postsç›®å½•ä¸‹ç”ŸæˆBlogName.mdæ–‡ä»¶ï¼Œå¯ä»¥vimæˆ–å…¶ä»–Markdownç¼–è¾‘å™¨è¿›è¡Œä¿®æ”¹ã€‚ 4. ç”Ÿæˆåšå®¢é™æ€æ–‡ä»¶hexo gï¼ˆgä»£è¡¨generateï¼‰ï¼Œç”Ÿæˆåšå®¢é™æ€æ–‡ä»¶æ¯æ¬¡ä¿®æ”¹æ–‡ç« åï¼Œéƒ½éœ€è¦é€šè¿‡hexo cleanæ¸…ç†ä¸€ä¸‹ï¼Œç„¶åé€šè¿‡hexo gé‡æ–°ç”Ÿæˆï¼Œæœ€åä¹Ÿä¸è¦å¿˜äº†é€šè¿‡hexo sé‡æ–°å¯åŠ¨Hexoã€‚ 5. å¯åŠ¨åšå®¢hexo sï¼ˆsä»£è¡¨serverï¼Œé»˜è®¤ç«¯å£å·æ˜¯4000ï¼‰ 6. æ›´æ¢ä¸»é¢˜å°†éœ€è¦æ›´æ¢çš„ä¸»é¢˜ä¸‹è½½å¹¶è§£å‹ç¼©åˆ°theme/yourThemeNameç›®å½•ä¸‹ï¼ŒyourThemeNameæ˜¯ä½ ç»™ä¸»é¢˜å–çš„åå­—ï¼Œå¦‚æˆ‘ç”¨çš„ä¸»é¢˜æ˜¯nextï¼Œåªéœ€è¦è§£å‹ç¼©åˆ°Hexo/themes/nextç›®å½•ä¸‹å³å¯,å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨Hexoç›®å½•ä¸‹æ‰§è¡Œgit clone https://github.com/theme-next/hexo-theme-next themes/nextï¼Œè§£å‹å®Œæˆåï¼Œä¿®æ”¹_config.yamlæ–‡ä»¶ä¸­çš„themeå±æ€§ï¼Œé»˜è®¤æ˜¯landscapeï¼Œä¿®æ”¹ä¸ºnextï¼š # Extensions ## Plugins: https://hexo.io/plugins/ ## Themes: https://hexo.io/themes/ theme: next #æ³¨æ„ï¼šâ€œtheme:â€åè¦å¸¦ä¸€ä¸ªç©ºæ ¼ æ¯æ¬¡ä¿®æ”¹ä¸»é¢˜åï¼Œéƒ½éœ€è¦é€šè¿‡hexo cleanæ¸…ç†ä¸€ä¸‹ï¼Œç„¶åé€šè¿‡hexo gé‡æ–°ç”Ÿæˆï¼Œæœ€åä¹Ÿä¸è¦å¿˜äº†é€šè¿‡hexo sé‡æ–°å¯åŠ¨Hexoã€‚ ã€ŠHexoä¸»é¢˜ â€”â€” NexTä¼˜åŒ–ã€‹ 7. å…¶ä»–_config.yamlé…ç½®_config.yamlæ–‡ä»¶æ˜¯Hexoé¡¹ç›®çš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œå¸¸ç”¨çš„å±æ€§æœ‰ï¼š # Site # ç«™ç‚¹æ ‡é¢˜ title: DragonBaby308&#39;s Blog # ç«™ç‚¹å‰¯æ ‡é¢˜ subtitle: Fighting for BAT! # ç«™ç‚¹æè¿° description: è®°ä½è¿„ä»Šä¸ºæ­¢æ¯ä¸€æ¬¡å¤±è´¥æ—¶æœ‰å¿ƒæ— åŠ›çš„æ„Ÿå—ï¼Œâ€œä¸ºäº†æ›´ç¾å¥½çš„æ˜å¤©è€Œæˆ˜â€ã€‚ # ä½œè€… author: DragonBaby308 # è¯­è¨€â€”â€” è¯·æ³¨æ„ï¼Œå®˜æ–¹è¯­è¨€åŒ…ä¸å†æ”¯æŒç®€ä½“ä¸­æ–‡zh-Hansï¼Œè€Œæ˜¯ç»Ÿä¸€é‡‡ç”¨äº†zh-CN language: zh-CN # æ—¶åŒºâ€”â€”é»˜è®¤æ˜¯æœ¬åœ°æ—¶åŒº timezone: # URL # ç«™ç‚¹åœ°å€ url: http://106.14.153.30 # ç«™ç‚¹rootï¼Œå¦‚æœç½‘ç«™å­˜åœ¨å­ç›®å½•ä¸­ï¼Œurlè®¾ç½®ä¸º&#39;http://yoursite.com/child&#39;ï¼Œrootè®¾ç½®ä¸º&#39;/child/&#39; root: / # ç”Ÿæˆå›ºå®šé“¾æ¥çš„æ ¼å¼ permalink: :title/ permalink_defaults: # Pagination # æ¯é¡µæ–‡ç« æ•°â€”â€”å…³é—­åˆ†é¡µï¼š0 per_page: 10 # Extensions # ä¸»é¢˜ theme: next # Deployment # éƒ¨ç½²é…ç½® deploy: type: git repo: git@106.14.153.30:/usr/DragonBaby308/repo/blog.git branch: master æœåŠ¡å™¨éƒ¨ç½²ï¼ˆä¸€ï¼‰ æœ¬åœ° + github.io ç™½å«–éƒ¨ç½²1. ç”Ÿæˆgithub.ioä»“åº“é¦–å…ˆæ³¨å†Œå¹¶ç™»å½•GitHubï¼Œåˆ›å»ºæ–°publicä»“åº“ï¼Œä»“åº“åç§°ä¸€å®šè¦æ˜¯ï¼šYourGitHubName.github.ioï¼ˆYourGitHubNameæ˜¯ä½ çš„GitHubæ˜µç§°ï¼Œå¤§å°å†™æ•æ„Ÿï¼ï¼‰ 2. æœ¬åœ°å®‰è£…Hexoçš„gitéƒ¨ç½²æ’ä»¶åœ¨Hexoçš„ç›®å½•ä¸‹ï¼Œè¾“å…¥npm install --save hexo-deployer-gitï¼Œä¼šæŠ¥ä¸€ä¸ªpeerDependencies WARNINGï¼Œå¯ä»¥å¿½ç•¥ã€‚ 3. æœ¬åœ°ä¿®æ”¹_config.yamlæ–‡ä»¶åœ¨Hexoç›®å½•ä¸‹ï¼Œæ‰¾åˆ°_config.yamlæ–‡ä»¶ï¼Œåœ¨#Deploymentåšå¦‚ä¸‹ä¿®æ”¹ï¼š # Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: type: git repo: https://github.com/DragonBaby308/DragonBaby308.github.io.git #ä½ çš„github.ioçš„ç½‘å€ branch: master #â€œtype:â€ã€â€œrepo:â€å’Œâ€œbranch:â€åéƒ½è¦å¸¦ä¸€ä¸ªç©ºæ ¼ 4. éƒ¨ç½²hexo déƒ¨ç½²æˆåŠŸåï¼Œæµè§ˆå™¨è¾“å…¥YourGitHubName.github.ioå³å¯è®¿é—®ï¼Œå…¶ä¸­YourGitHubNameæ˜¯ä½ çš„GitHubæ˜µç§°ï¼Œä¸”å¤§å°å†™æ•æ„Ÿ 5. å†™æ–‡ç«  &amp; å‘å¸ƒå’Œæœ¬åœ°ä¸€è‡´ï¼Œéƒ½æ˜¯hexo new &quot;yourArticle&quot;åhexo clean &amp;&amp; hexo d - gï¼Œä¸å†èµ˜è¿°ã€‚ ï¼ˆäºŒï¼‰ é˜¿é‡Œäº‘ECSæœåŠ¡å™¨éƒ¨ç½²1. æ€è·¯æœ¬åœ°éƒ¨ç½²Hexoï¼Œé€šè¿‡hexo new &quot;&quot;å‘½ä»¤æ–°å»ºMarkdownæ–‡ä»¶ï¼Œå­˜å‚¨åœ¨source/_postsç›®å½•ä¸‹ï¼Œå¯ä»¥é€šè¿‡Markdownç¼–è¾‘å™¨è¿›è¡Œä¿®æ”¹ï¼Œæ‰§è¡Œhexo gå‘½ä»¤åï¼ŒMarkdownæ–‡ä»¶ä¼šè¢«æ¸²æŸ“ä¸ºé™æ€çš„HTMLæ–‡ä»¶ï¼Œå­˜å‚¨åœ¨public/ç›®å½•ä¸‹ï¼Œè¿™äº›HTMLæ–‡ä»¶å°±æ˜¯åšå®¢å±•ç¤ºé¡µï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åœ¨æœåŠ¡å™¨ç«¯å»ºç«‹ä¸€ä¸ªç›®å½•ï¼Œç”¨äºå­˜å‚¨è¿™äº›HTMLæ–‡ä»¶ï¼Œæˆ‘çš„æ˜¯/usr/DragonBaby308/hexoï¼ŒåŒæ—¶è¿™ä¸ªç›®å½•ä¹Ÿè¦æ˜¯Nginxé…ç½®æ–‡ä»¶ä¸­çš„ç½‘ç«™æ ¹ç›®å½•ã€‚è€Œæˆ‘ä»¬è¦å¦‚ä½•å°†è¿™äº›æ–‡ä»¶å‘é€åˆ°æœåŠ¡å™¨å‘¢ï¼Ÿä¸€ä¸ªç®€å•çš„æ–¹å¼å°±æ˜¯é€šè¿‡gitå‘é€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡å™¨æ­å»ºä¸€ä¸ªgitä»“åº“ï¼Œæˆ‘çš„æ˜¯/usr/DragonBaby308/repo/blog.gitã€‚ç°åœ¨ï¼Œæˆ‘ä»¬çš„HTMLæ–‡ä»¶è¢«å‘é€åˆ°äº†blog.gitä¸­ï¼Œæˆ‘ä»¬é€šè¿‡gitçš„é’©å­å‡½æ•°ï¼ˆhookï¼‰åŒæ­¥åˆ°hexoç›®å½•ä¸­ï¼Œå°±èƒ½å¤Ÿè¢«Nginxè¯†åˆ«ï¼Œå±•ç¤ºç»™ç”¨æˆ·äº†ã€‚ 2. æœåŠ¡å™¨ä¸Šæ­å»ºç§äººgitä»“åº“æ­å»ºè‡ªå·±çš„ç§äººgitä»“åº“ï¼Œå¹¶ä¸æœ¬åœ°å»ºç«‹SSHä¿¡ä»»ï¼Œè¯¦è§ã€Šé˜¿é‡Œäº‘ECCSä¸Šæ­å»ºç§äººGitä»“åº“ã€‹ã€‚å®Œæˆæ­¤æ­¥åï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªrepoç›®å½•ä¸‹çš„ç§äººä»“åº“ï¼Œå’Œä¸€ä¸ªhexoç›®å½•ï¼Œä½œä¸ºHexoåº”ç”¨éƒ¨ç½²ç›®å½•ã€‚ 3. æœåŠ¡å™¨ä¸Šæ­å»ºNginx ä»€ä¹ˆæ˜¯Nginxï¼ŸNginx (engine x) æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†webæœåŠ¡å™¨ï¼Œå¯ä»¥æä¾›è¯¸å¦‚è´Ÿè½½å‡è¡¡ã€åŠ¨é™åˆ†ç¦»çš„åŠŸèƒ½ã€‚ã€ä»£ç†æœåŠ¡å™¨ã€‘ï¼šä»£ç†æœåŠ¡å™¨ç›¸å½“äºä¸€ä¸ªä¸­ä»‹ï¼Œä»‹äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„é€šä¿¡é€šè¿‡ä»£ç†æœåŠ¡å™¨è¿›è¡Œã€‚ã€æ­£å‘ä»£ç†ã€‘ï¼šä»£ç†æœåŠ¡å™¨ä»£ç†å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ç›´æ¥å’Œä»£ç†æœåŠ¡å™¨é€šä¿¡ï¼Œä¸å…³å¿ƒå®¢æˆ·ç«¯æ˜¯è°ï¼Œæ¯”å¦‚ç§‘å­¦ä¸Šç½‘ã€‚ã€åå‘ä»£ç†ã€‘ï¼šä»£ç†æœåŠ¡å™¨ä»£ç†æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯ä¸çŸ¥é“è®¿é—®çš„å…·ä½“æ˜¯å“ªå°æœåŠ¡å™¨ï¼Œå¯ä»¥å¯¹å®¢æˆ·ç«¯å±è”½æœåŠ¡å™¨ç«¯çš„ç»†èŠ‚ï¼Œä¹Ÿèƒ½åšåˆ°è´Ÿè½½å‡è¡¡ã€‚ã€è´Ÿè½½å‡è¡¡ã€‘ï¼šä½¿ç”¨æœåŠ¡å™¨é›†ç¾¤ä»£æ›¿å•å°æœåŠ¡å™¨çš„å·¥ä½œæ—¶ï¼Œå°†è®¿é—®çš„å‹åŠ›åˆ†æ‘Šåˆ°ä¸åŒçš„æœåŠ¡å™¨ï¼Œé˜²æ­¢æŸå°æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ã€‚ã€åŠ¨é™åˆ†ç¦»ã€‘ï¼šå°†ç½‘ç«™é™æ€èµ„æºï¼ˆHTMLï¼ŒJavaScriptï¼ŒCSSï¼Œimgç­‰æ–‡ä»¶ï¼‰ä¸åå°åº”ç”¨åˆ†å¼€éƒ¨ç½²ï¼Œæé«˜ç”¨æˆ·è®¿é—®é™æ€ä»£ç çš„é€Ÿåº¦ï¼Œé™ä½å¯¹åå°åº”ç”¨è®¿é—®ã€‚ æˆ‘ä»¬æš‚æ—¶åªä½¿ç”¨Nginxçš„åå“ä»£ç†åŠŸèƒ½ï¼Œé…ç½®ç½‘é¡µæ ¹ç›®å½•ä¸ºHexoåº”ç”¨éƒ¨ç½²ç›®å½•/usr/DragonBaby308/hexoï¼Œè¯¦è§ã€Šé˜¿é‡Œäº‘ECSæœåŠ¡å™¨ä¸Šå®‰è£…Nginxã€‹ã€‚ 4. æœåŠ¡å™¨å®‰è£…node.jsç¯å¢ƒyum install -y nodejs node -v #æŸ¥çœ‹node.jsç‰ˆæœ¬ npm -v #æŸ¥çœ‹npmç‰ˆæœ¬ 5. æœ¬åœ°Hexoéƒ¨ç½²æœ¬åœ°çš„Hexoå®‰è£…åœ¨ä¸Šä¸ŠèŠ‚æœ‰è¯¦ç»†ä»‹ç»ï¼Œä¸å†ä»‹ç»ã€‚æˆ‘ä»¬ç›´æ¥åœ¨æœ¬åœ°Hexoç›®å½•ä¸‹ï¼Œæ‰¾åˆ°_config.yamlæ–‡ä»¶ï¼Œåœ¨#Deploymentåšå¦‚ä¸‹ä¿®æ”¹ï¼š # Deployment # Docs: https://hexo.io/docs/deployment.html deploy: type: git #ç”¨æˆ·å repo: git@106.14.153.30:/usr/DragonBaby308/repo/blog.git #ç§äººgitä»“åº“ branch: master #â€œtype:â€ã€â€œrepo:â€å’Œâ€œbranch:â€åéƒ½è¦å¸¦ä¸€ä¸ªç©ºæ ¼ ä¿®æ”¹å®Œæˆåï¼Œæˆ‘ä»¬é€šè¿‡hexo cleanå’Œhexo d -gå³å¯éƒ¨ç½²ã€‚ Windowsæ¢Macéƒ¨ç½² 2019å¹´9æœˆ23æ—¥ï¼Œæˆ‘ä»Windowsæ¢æˆäº†Macï¼Œä¸ºäº†ä¸ä¸¢å¤±è¿›åº¦ï¼Œå‚è€ƒäº†https://feijunjie.github.io/2018/10/10/20181010-å¦‚ä½•åœ¨å¦ä¸€å°ç”µè„‘ä¸Šç»§ç»­hexoå†™åšå®¢/ é¦–å…ˆMacå®‰è£…Gitï¼šåœ¨ç»ˆç«¯ä¸‹è¾“å…¥gitï¼Œä¼šæç¤ºä½ é€šè¿‡Xcodeå®‰è£…Git é…ç½®Gitç”¨æˆ·åã€é‚®ç®± git config --global user.name=&quot;DragonBaby308&#39;s MacBook Pro&quot; git config --global user.emai=&quot;xxx@yyy.com&quot; ç”Ÿæˆsshå¯†é’¥ï¼šssh-keygen -t rsaï¼Œå°†å…¬é’¥å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Šï¼Œå‚è€ƒhttp://www.dragonbaby308.com/ECS-Git/ï¼Œé€šè¿‡ssh git@yourIPå¯ä»¥æµ‹è¯•è¿æ¥ ä¸‹è½½Node.jså¹¶å®‰è£…ï¼Œå¦‚æœä½ æ²¡æœ‰vpnï¼Œè¿™ä¸€æ­¥ä¼šå·¨ä»–å¦ˆæ…¢ ä»Windowsçš„åšå®¢ç›®å½•ä¸‹å¤åˆ¶å¦‚ä¸‹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œæˆ‘æ˜¯ä¸Šä¼ åˆ°æˆ‘çš„NextCloudç§æœ‰äº‘ç›˜ï¼š _config.yml package.json scaffolds/ source/ themes/ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤: # ä¿®æ”¹rootå¯†ç  sudo bash sudo passed root su npm install hero-cli -g --unsafe-perm npm install hero -g --unsafe-perm npm install npm install hero-deployer-git --save æœŸé—´å¦‚æœæŠ¥é”™ï¼Œå“ªä¸ªç›®å½•æ²¡æœ‰è®¿é—®æƒé™ï¼Œå°±é€šè¿‡chmodæˆæƒï¼Œå¦‚sudo chmod -R 777 /var/root ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå°±å¯ä»¥åœ¨Macé€šè¿‡hex clean &amp;&amp; hero d -gè¿›è¡Œéƒ¨ç½²äº†","categories":[{"name":"Hexo","slug":"Hexo","permalink":"/categories/Hexo/"}],"tags":[{"name":"Git","slug":"Git","permalink":"/tags/Git/"},{"name":"Linux","slug":"Linux","permalink":"/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"/tags/Shell/"},{"name":"Vim","slug":"Vim","permalink":"/tags/Vim/"},{"name":"Node.js","slug":"Node-js","permalink":"/tags/Node-js/"},{"name":"JS","slug":"JS","permalink":"/tags/JS/"},{"name":"Mac","slug":"Mac","permalink":"/tags/Mac/"},{"name":"Hexoæ¡†æ¶","slug":"Hexoæ¡†æ¶","permalink":"/tags/Hexoæ¡†æ¶/"},{"name":"Nginx","slug":"Nginx","permalink":"/tags/Nginx/"},{"name":"é˜¿é‡Œäº‘ECS","slug":"é˜¿é‡Œäº‘ECS","permalink":"/tags/é˜¿é‡Œäº‘ECS/"},{"name":"Windows","slug":"Windows","permalink":"/tags/Windows/"}],"keywords":[{"name":"Hexo","slug":"Hexo","permalink":"/categories/Hexo/"}]}]}